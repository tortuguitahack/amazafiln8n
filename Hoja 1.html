<meta http-equiv="Content-Type" content="text/html; charset=utf-8"><link type="text/css" rel="stylesheet" href="resources/sheet.css" >
<style type="text/css">.ritz .waffle a { color: inherit; }.ritz .waffle .s6{border-left:none;border-right:none;background-color:#ffffff;text-align:center;color:#000000;font-family:Arial;font-size:10pt;vertical-align:middle;white-space:nowrap;direction:ltr;padding:2px 3px 2px 3px;}.ritz .waffle .s7{border-right:none;background-color:#fff2cc;text-align:center;color:#000000;font-family:Arial;font-size:10pt;vertical-align:middle;white-space:nowrap;overflow:hidden;direction:ltr;padding:2px 3px 2px 3px;}.ritz .waffle .s5{border-right:none;background-color:#ffffff;text-align:center;color:#000000;font-family:Arial;font-size:10pt;vertical-align:middle;white-space:nowrap;overflow:hidden;direction:ltr;padding:2px 3px 2px 3px;}.ritz .waffle .s3{border-right:none;background-color:#f3f3f3;text-align:center;color:#000000;font-family:Arial;font-size:10pt;vertical-align:middle;white-space:nowrap;overflow:hidden;direction:ltr;padding:2px 3px 2px 3px;}.ritz .waffle .s9{background-color:#f3f3f3;text-align:center;color:#000000;font-family:Arial;font-size:10pt;vertical-align:middle;white-space:nowrap;overflow:hidden;direction:ltr;padding:2px 3px 2px 3px;}.ritz .waffle .s10{background-color:#f3f3f3;text-align:center;color:#000000;font-family:Arial;font-size:10pt;vertical-align:middle;white-space:nowrap;direction:ltr;padding:2px 3px 2px 3px;}.ritz .waffle .s2{background-color:#0000ff;text-align:center;font-weight:bold;color:#ffffff;font-family:Arial;font-size:10pt;vertical-align:middle;white-space:nowrap;direction:ltr;padding:2px 3px 2px 3px;}.ritz .waffle .s4{border-left:none;border-right:none;background-color:#f3f3f3;text-align:center;color:#000000;font-family:Arial;font-size:10pt;vertical-align:middle;white-space:nowrap;direction:ltr;padding:2px 3px 2px 3px;}.ritz .waffle .s0{background-color:#ffff00;text-align:center;font-weight:bold;color:#000000;font-family:Arial;font-size:12pt;vertical-align:middle;white-space:nowrap;overflow:hidden;direction:ltr;padding:2px 3px 2px 3px;}.ritz .waffle .s11{background-color:#ffffff;text-align:center;color:#000000;font-family:Arial;font-size:10pt;vertical-align:middle;white-space:nowrap;overflow:hidden;direction:ltr;padding:2px 3px 2px 3px;}.ritz .waffle .s8{border-left:none;border-right:none;background-color:#fff2cc;text-align:center;color:#000000;font-family:Arial;font-size:10pt;vertical-align:middle;white-space:nowrap;direction:ltr;padding:2px 3px 2px 3px;}.ritz .waffle .s1{background-color:#0000ff;text-align:center;font-weight:bold;color:#ffffff;font-family:Arial;font-size:10pt;vertical-align:middle;white-space:nowrap;overflow:hidden;direction:ltr;padding:2px 3px 2px 3px;}</style><div class="ritz grid-container" dir="ltr"><table class="waffle" cellspacing="0" cellpadding="0"><thead><tr><th class="row-header freezebar-vertical-handle"></th><th id="0C0" style="width:585px;" class="column-headers-background">A</th><th id="0C1" style="width:662px;" class="column-headers-background">B</th></tr></thead><tbody><tr style="height: 21px"><th id="0R0" style="height: 21px;" class="row-headers-background"><div class="row-header-wrapper" style="line-height: 21px">1</div></th><td class="s0" dir="ltr" colspan="2"><span style="font-size:11pt;">Los mejores v√≠deos de n8n de Youtube: </span><span style="font-size:11pt;text-decoration:underline;text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;color:#000000;"><a target="_blank" href="https://www.youtube.com/@jorgemarfilia/videos">https://www.youtube.com/@jorgemarfilia/videos</a></span></td></tr><tr style="height: 21px"><th id="0R1" style="height: 21px;" class="row-headers-background"><div class="row-header-wrapper" style="line-height: 21px">2</div></th><td class="s1" dir="ltr">Title</td><td class="s2" dir="ltr">json code</td></tr><tr><th style="height:3px;" class="freezebar-cell freezebar-horizontal-handle"></th><td class="freezebar-cell"></td><td class="freezebar-cell"></td></tr><tr style="height: 59px"><th id="0R2" style="height: 59px;" class="row-headers-background"><div class="row-header-wrapper" style="line-height: 59px">3</div></th><td class="s3" dir="ltr">Extraer correos empresariales de Google Maps sin usar APIs de terceros</td><td class="s4 softmerge" dir="ltr"><div class="softmerge-inner" style="width:1361px;left:-3px">{<br>  &quot;name&quot;: &quot;Google Maps Email Scraper Template&quot;,<br>  &quot;tags&quot;: [],<br>  &quot;nodes&quot;: [<br>    {<br>      &quot;id&quot;: &quot;79df5316-c210-478d-a4de-35b5d31924ee&quot;,<br>      &quot;name&quot;: &quot;Remove Duplicate URLs&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.removeDuplicates&quot;,<br>      &quot;position&quot;: [<br>        -780,<br>        380<br>      ],<br>      &quot;parameters&quot;: {},<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;985ac7e3-b501-4079-a043-780677c94b52&quot;,<br>      &quot;name&quot;: &quot;Loop over queries&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.splitInBatches&quot;,<br>      &quot;position&quot;: [<br>        -1080,<br>        -100<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 3<br>    },<br>    {<br>      &quot;id&quot;: &quot;3a478935-781b-4fb1-bdc7-fcf8be1334bc&quot;,<br>      &quot;name&quot;: &quot;Search Google Maps with query&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.httpRequest&quot;,<br>      &quot;position&quot;: [<br>        -1380,<br>        380<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;url&quot;: &quot;=https://www.google.com/maps/search/{{ $json.query }}&quot;,<br>        &quot;options&quot;: {<br>          &quot;allowUnauthorizedCerts&quot;: false<br>        }<br>      },<br>      &quot;executeOnce&quot;: false,<br>      &quot;typeVersion&quot;: 4.2,<br>      &quot;alwaysOutputData&quot;: false<br>    },<br>    {<br>      &quot;id&quot;: &quot;477e7d55-b7d6-4b20-ac44-dd1f443e270a&quot;,<br>      &quot;name&quot;: &quot;Scrape URLs from results&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.code&quot;,<br>      &quot;position&quot;: [<br>        -1180,<br>        380<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;jsCode&quot;: &quot;const data = $input.first().json.data\n\nconst regex = /https?:\\/\\/[^\\/]+/g\n\nconst urls = data.match(regex)\n\nreturn urls.map(url =&gt; ({json: {url: url}}))&quot;<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;a5b67e45-a3f6-41d2-aa58-c26a441c41b2&quot;,<br>      &quot;name&quot;: &quot;Filter irrelevant URLs&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.filter&quot;,<br>      &quot;position&quot;: [<br>        -980,<br>        380<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;conditions&quot;: {<br>          &quot;options&quot;: {<br>            &quot;version&quot;: 2,<br>            &quot;leftValue&quot;: &quot;&quot;,<br>            &quot;caseSensitive&quot;: true,<br>            &quot;typeValidation&quot;: &quot;strict&quot;<br>          },<br>          &quot;combinator&quot;: &quot;and&quot;,<br>          &quot;conditions&quot;: [<br>            {<br>              &quot;id&quot;: &quot;041797f2-2fe2-41dc-902a-d34050b9b304&quot;,<br>              &quot;operator&quot;: {<br>                &quot;type&quot;: &quot;string&quot;,<br>                &quot;operation&quot;: &quot;notRegex&quot;<br>              },<br>              &quot;leftValue&quot;: &quot;={{ $json.url }}&quot;,<br>              &quot;rightValue&quot;: &quot;=(google|gstatic|ggpht|schema\\.org|example\\.com|sentry-next\\.wixpress\\.com|imli\\.com|sentry\\.wixpress\\.com|ingest\\.sentry\\.io)&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;eb499a7e-17bc-453c-be08-a47286f726dd&quot;,<br>              &quot;operator&quot;: {<br>                &quot;name&quot;: &quot;filter.operator.equals&quot;,<br>                &quot;type&quot;: &quot;string&quot;,<br>                &quot;operation&quot;: &quot;equals&quot;<br>              },<br>              &quot;leftValue&quot;: &quot;&quot;,<br>              &quot;rightValue&quot;: &quot;&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;40ec6d1f-1c98-4c9f-8499-c5893c3df7b9&quot;,<br>      &quot;name&quot;: &quot;Request web page for URL&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.httpRequest&quot;,<br>      &quot;onError&quot;: &quot;continueRegularOutput&quot;,<br>      &quot;position&quot;: [<br>        -380,<br>        460<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;url&quot;: &quot;={{ $json.url }}&quot;,<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 4.2,<br>      &quot;alwaysOutputData&quot;: false<br>    },<br>    {<br>      &quot;id&quot;: &quot;12f662a8-c55f-409a-b381-f37ab6dd3794&quot;,<br>      &quot;name&quot;: &quot;Loop over URLs&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.splitInBatches&quot;,<br>      &quot;onError&quot;: &quot;continueErrorOutput&quot;,<br>      &quot;position&quot;: [<br>        -580,<br>        380<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {<br>          &quot;reset&quot;: false<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3<br>    },<br>    {<br>      &quot;id&quot;: &quot;e6957d05-3533-48ae-9cc1-ee4ac026a2a6&quot;,<br>      &quot;name&quot;: &quot;Loop over pages&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.splitInBatches&quot;,<br>      &quot;onError&quot;: &quot;continueErrorOutput&quot;,<br>      &quot;position&quot;: [<br>        -360,<br>        120<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 3,<br>      &quot;alwaysOutputData&quot;: false<br>    },<br>    {<br>      &quot;id&quot;: &quot;018621c0-0ea9-4865-b110-b6d0727f0588&quot;,<br>      &quot;name&quot;: &quot;Scrape emails from page&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.code&quot;,<br>      &quot;onError&quot;: &quot;continueRegularOutput&quot;,<br>      &quot;position&quot;: [<br>        -200,<br>        220<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;mode&quot;: &quot;runOnceForEachItem&quot;,<br>        &quot;jsCode&quot;: &quot;const data = $json.data\n\nconst emailRegex = /[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.(?!png|jpg|gif|jpeg)[a-zA-Z]{2,}/g\n\nconst emails = data.match(emailRegex)\n\nreturn {json: {emails: emails}}&quot;<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;5509b8e2-a6fc-4fbe-bbc5-1bc1d5de1c98&quot;,<br>      &quot;name&quot;: &quot;Aggregate arrays of emails&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.aggregate&quot;,<br>      &quot;position&quot;: [<br>        -40,<br>        100<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {<br>          &quot;mergeLists&quot;: true<br>        },<br>        &quot;fieldsToAggregate&quot;: {<br>          &quot;fieldToAggregate&quot;: [<br>            {<br>              &quot;fieldToAggregate&quot;: &quot;emails&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;f1f01f03-b62e-453f-b938-ffe4f9b3f4de&quot;,<br>      &quot;name&quot;: &quot;Split out into default data structure&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.splitOut&quot;,<br>      &quot;position&quot;: [<br>        180,<br>        100<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;fieldToSplitOut&quot;: &quot;emails&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;ec27d665-d9c1-4f10-9c52-0d5ea89cbf77&quot;,<br>      &quot;name&quot;: &quot;Remove duplicate emails&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.removeDuplicates&quot;,<br>      &quot;position&quot;: [<br>        400,<br>        100<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;compare&quot;: &quot;selectedFields&quot;,<br>        &quot;options&quot;: {},<br>        &quot;fieldsToCompare&quot;: &quot;emails&quot;<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;4a071bf0-23ad-455b-b231-bafd3b32e4f8&quot;,<br>      &quot;name&quot;: &quot;Filter irrelevant emails&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.filter&quot;,<br>      &quot;position&quot;: [<br>        600,<br>        100<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;conditions&quot;: {<br>          &quot;options&quot;: {<br>            &quot;version&quot;: 2,<br>            &quot;leftValue&quot;: &quot;&quot;,<br>            &quot;caseSensitive&quot;: true,<br>            &quot;typeValidation&quot;: &quot;strict&quot;<br>          },<br>          &quot;combinator&quot;: &quot;and&quot;,<br>          &quot;conditions&quot;: [<br>            {<br>              &quot;id&quot;: &quot;041797f2-2fe2-41dc-902a-d34050b9b304&quot;,<br>              &quot;operator&quot;: {<br>                &quot;type&quot;: &quot;string&quot;,<br>                &quot;operation&quot;: &quot;notRegex&quot;<br>              },<br>              &quot;leftValue&quot;: &quot;={{ $json.emails }}&quot;,<br>              &quot;rightValue&quot;: &quot;=(google|gstatic|ggpht|schema\\.org|example\\.com|sentry\\.wixpress\\.com|sentry-next\\.wixpress\\.com|ingest\\.sentry\\.io|sentry\\.io|imli\\.com)&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;59675faa-2b0d-4ba5-82c7-dc5dedcad31e&quot;,<br>      &quot;name&quot;: &quot;Save emails to Google Sheet&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleSheets&quot;,<br>      &quot;position&quot;: [<br>        800,<br>        100<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;columns&quot;: {<br>          &quot;value&quot;: {<br>            &quot;Emails&quot;: &quot;={{ $json.emails }}&quot;<br>          },<br>          &quot;schema&quot;: [<br>            {<br>              &quot;id&quot;: &quot;Emails&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;removed&quot;: false,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;Emails&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            }<br>          ],<br>          &quot;mappingMode&quot;: &quot;defineBelow&quot;,<br>          &quot;matchingColumns&quot;: [<br>            &quot;Emails&quot;<br>          ]<br>        },<br>        &quot;options&quot;: {},<br>        &quot;operation&quot;: &quot;append&quot;<br>      },<br>      &quot;typeVersion&quot;: 4.5<br>    },<br>    {<br>      &quot;id&quot;: &quot;93437e8b-4f8d-40a1-9585-cab1b556164a&quot;,<br>      &quot;name&quot;: &quot;Starts scraper workflow&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.executeWorkflowTrigger&quot;,<br>      &quot;position&quot;: [<br>        -1600,<br>        380<br>      ],<br>      &quot;parameters&quot;: {},<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;eed77477-777d-450d-a975-4d2848b1cf55&quot;,<br>      &quot;name&quot;: &quot;Run workflow&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.manualTrigger&quot;,<br>      &quot;position&quot;: [<br>        -1320,<br>        -100<br>      ],<br>      &quot;parameters&quot;: {},<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;dffaf04e-d1d2-4002-9a69-f0904b61fc2d&quot;,<br>      &quot;name&quot;: &quot;Wait between executions&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.wait&quot;,<br>      &quot;position&quot;: [<br>        -700,<br>        0<br>      ],<br>      &quot;webhookId&quot;: &quot;40eb11a9-0f7d-4932-993e-0052b69dbf9b&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;amount&quot;: 2<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;18787007-1d11-41b9-89c3-d5f69756eda7&quot;,<br>      &quot;name&quot;: &quot;Execute scraper for query&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.executeWorkflow&quot;,<br>      &quot;position&quot;: [<br>        -880,<br>        0<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;mode&quot;: &quot;each&quot;,<br>        &quot;options&quot;: {<br>          &quot;waitForSubWorkflow&quot;: false<br>        },<br>        &quot;workflowId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;id&quot;,<br>          &quot;value&quot;: &quot;={{ $workflow.id }}&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;67fcde25-05e4-437c-b799-4448baea7891&quot;,<br>      &quot;name&quot;: &quot;Sticky Note&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -2280,<br>        -140<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 5,<br>        &quot;width&quot;: 740,<br>        &quot;height&quot;: 180,<br>        &quot;content&quot;: &quot;## üõ† Setup\n1. Setup your list of queries in the \&quot;Run workflow\&quot; manual trigger node. Watch  this [video](https://youtu.be/HaiO-UeiKBA) on how to generate the queries with ChatGPT.\n3. Choose a sheet to populate with data in the **Google Sheets node**\n4. Run the workflow and start getting leads into your Google Sheets document&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;ac880457-44b4-4ff7-8440-b4107f8468bb&quot;,<br>      &quot;name&quot;: &quot;Sticky Note2&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -700,<br>        -120<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 6,<br>        &quot;height&quot;: 100,<br>        &quot;content&quot;: &quot;**Optional** üëá\nSet wait time between each query workflow execution. Default is 2 seconds.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;d83afb3d-7b71-4b47-9b50-28837aac408c&quot;,<br>      &quot;name&quot;: &quot;Sticky Note3&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -1600,<br>        260<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 480,<br>        &quot;height&quot;: 100,<br>        &quot;content&quot;: &quot;### Scraper üëá\nThis workflow will be executed in the background for each query. Click the **All executions** tab in the left sidebar to see the executions running.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;007b621a-3d41-4358-aa45-560a3c8e3414&quot;,<br>      &quot;name&quot;: &quot;Sticky Note4&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        820,<br>        300<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 4,<br>        &quot;height&quot;: 180,<br>        &quot;content&quot;: &quot;üëÜ \n1. Setup your **credentials**. Here&#39;s a [video tutorial](https://youtu.be/O5RnWDM27M8) on how to do that.\n\n2. Choose which document and sheet to save the scraped emails to. &quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;fc0b837f-624c-4d25-8ed7-f787f76c785b&quot;,<br>      &quot;name&quot;: &quot;Sticky Note5&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -1760,<br>        -360<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 3,<br>        &quot;content&quot;: &quot; ## ‚ö†Ô∏è Note\n\nA [video tutorial](https://youtu.be/HaiO-UeiKBA) for this workflow guide is available on my [Youtube channel](https://www.youtube.com/channel/UCn8xmUBunez1SsDVRfZDUGA)&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;2f8665d5-2890-4f7d-908b-9c09a66b6c93&quot;,<br>      &quot;name&quot;: &quot;Sticky Note6&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -2280,<br>        -360<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 480,<br>        &quot;height&quot;: 140,<br>        &quot;content&quot;: &quot;## Google Maps Automatic Email Scraper\n\nThis workflow automatically scrapes emails from businesses on Google Maps based on a list of queries that you provide.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;7414b2ed-259d-47da-bbd1-d9ce0d64d43c&quot;,<br>      &quot;name&quot;: &quot;Sticky Note7&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -1000,<br>        540<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 6,<br>        &quot;width&quot;: 160,<br>        &quot;height&quot;: 100,<br>        &quot;content&quot;: &quot;**Optional** üëÜ\nAdd or change the regex for filtering irrelevant URLs.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;789c9a02-e6e7-4ea6-a7a2-acc7715b377a&quot;,<br>      &quot;name&quot;: &quot;Sticky Note8&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        580,<br>        260<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 6,<br>        &quot;width&quot;: 200,<br>        &quot;height&quot;: 100,<br>        &quot;content&quot;: &quot;**Optional** üëÜ\nAdd or change the regex for filtering irrelevant/incorrect email addresses.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    }<br>  ],<br>  &quot;active&quot;: false,<br>  &quot;pinData&quot;: {<br>    &quot;Run workflow&quot;: [<br>      {<br>        &quot;json&quot;: {<br>          &quot;query&quot;: &quot;hollywood+dentist&quot;<br>        }<br>      },<br>      {<br>        &quot;json&quot;: {<br>          &quot;query&quot;: &quot;downtown+los+angeles+dentist&quot;<br>        }<br>      },<br>      {<br>        &quot;json&quot;: {<br>          &quot;query&quot;: &quot;santa+monica+dentist&quot;<br>        }<br>      },<br>      {<br>        &quot;json&quot;: {<br>          &quot;query&quot;: &quot;westwood+dentist&quot;<br>        }<br>      },<br>      {<br>        &quot;json&quot;: {<br>          &quot;query&quot;: &quot;west+l.a.+dentist&quot;<br>        }<br>      },<br>      {<br>        &quot;json&quot;: {<br>          &quot;query&quot;: &quot;the+valley+dentist&quot;<br>        }<br>      },<br>      {<br>        &quot;json&quot;: {<br>          &quot;query&quot;: &quot;echo+park+dentist&quot;<br>        }<br>      },<br>      {<br>        &quot;json&quot;: {<br>          &quot;query&quot;: &quot;culver+city+dentist&quot;<br>        }<br>      },<br>      {<br>        &quot;json&quot;: {<br>          &quot;query&quot;: &quot;pasadena+dentist&quot;<br>        }<br>      },<br>      {<br>        &quot;json&quot;: {<br>          &quot;query&quot;: &quot;silver+lake+dentist&quot;<br>        }<br>      },<br>      {<br>        &quot;json&quot;: {<br>          &quot;query&quot;: &quot;mid-wilshire+dentist&quot;<br>        }<br>      },<br>      {<br>        &quot;json&quot;: {<br>          &quot;query&quot;: &quot;beverly+hills+dentist&quot;<br>        }<br>      },<br>      {<br>        &quot;json&quot;: {<br>          &quot;query&quot;: &quot;north+hills+dentist&quot;<br>        }<br>      },<br>      {<br>        &quot;json&quot;: {<br>          &quot;query&quot;: &quot;south+los+angeles+dentist&quot;<br>        }<br>      }<br>    ]<br>  },<br>  &quot;settings&quot;: {<br>    &quot;executionOrder&quot;: &quot;v1&quot;<br>  },<br>  &quot;connections&quot;: {<br>    &quot;Run workflow&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Loop over queries&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Loop over URLs&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Loop over pages&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;Request web page for URL&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Loop over pages&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Aggregate arrays of emails&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;Scrape emails from page&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Loop over queries&quot;: {<br>      &quot;main&quot;: [<br>        [],<br>        [<br>          {<br>            &quot;node&quot;: &quot;Execute scraper for query&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Remove Duplicate URLs&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Loop over URLs&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Filter irrelevant URLs&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Remove Duplicate URLs&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Remove duplicate emails&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Filter irrelevant emails&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Scrape emails from page&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Loop over pages&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Starts scraper workflow&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Search Google Maps with query&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Wait between executions&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Loop over queries&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Filter irrelevant emails&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Save emails to Google Sheet&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Request web page for URL&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Loop over URLs&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Scrape URLs from results&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Filter irrelevant URLs&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Execute scraper for query&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Wait between executions&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Aggregate arrays of emails&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Split out into default data structure&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Search Google Maps with query&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Scrape URLs from results&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Split out into default data structure&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Remove duplicate emails&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    }<br>  }<br>}</div></td></tr><tr style="height: 59px"><th id="0R3" style="height: 59px;" class="row-headers-background"><div class="row-header-wrapper" style="line-height: 59px">4</div></th><td class="s5" dir="ltr">Generador y publicador de contenido para redes sociales con IA</td><td class="s6 softmerge" dir="ltr"><div class="softmerge-inner" style="width:13167px;left:-3px">{<br>  &quot;id&quot;: &quot;LzDLmNc63zyqQBXz&quot;,<br>  &quot;meta&quot;: {<br>    &quot;instanceId&quot;: &quot;942ff96108ceedc60ba777eabc4e8ea2ae87415579996cd64d20cc647c4d3523&quot;<br>  },<br>  &quot;name&quot;: &quot;Social Media Tutorial&quot;,<br>  &quot;tags&quot;: [],<br>  &quot;nodes&quot;: [<br>    {<br>      &quot;id&quot;: &quot;8034d082-f50e-4f6b-8a79-ce7f86012d72&quot;,<br>      &quot;name&quot;: &quot;On form submission&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.formTrigger&quot;,<br>      &quot;position&quot;: [<br>        920,<br>        20<br>      ],<br>      &quot;webhookId&quot;: &quot;syncbricks-social-posting-ai-agent&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {<br>          &quot;buttonLabel&quot;: &quot;Continue to Image Upload&quot;<br>        },<br>        &quot;formTitle&quot;: &quot;üì±ü§ñ Syncbricks -  Social Media Content AI Agent&quot;,<br>        &quot;formFields&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;fieldLabel&quot;: &quot;Post Title/Topic&quot;,<br>              &quot;placeholder&quot;: &quot;Write a brief and clear title or main topic for the post (e.g., \&quot;New Product Launch,\&quot; \&quot;Exciting Company Update\&quot;). This will help the AI understand the core subject of your post.&quot;,<br>              &quot;requiredField&quot;: true<br>            },<br>            {<br>              &quot;fieldLabel&quot;: &quot;Optional (Keywords or Hashtags)&quot;,<br>              &quot;placeholder&quot;: &quot;Add any specific keywords or hashtags you want the AI to include in the post. This will ensure the generated content aligns with your branding or campaign needs.&quot;<br>            },<br>            {<br>              &quot;fieldLabel&quot;: &quot;Optional Link&quot;,<br>              &quot;placeholder&quot;: &quot;http:// link of any product, service, formt, support etc&quot;<br>            }<br>          ]<br>        },<br>        &quot;responseMode&quot;: &quot;lastNode&quot;,<br>        &quot;authentication&quot;: &quot;basicAuth&quot;,<br>        &quot;formDescription&quot;: &quot;=This is syncbricks AI-driven assistant designed to simplify and accelerate your social media content creation process. This intelligent agent generates engaging and platform-optimized post descriptions based on your inputs, such as a brief topic or title and an uploaded image. Whether you&#39;re a marketer, business owner, or influencer, the AI streamlines content creation, saving time and ensuring professional-quality posts tailored to your audience.&quot;<br>      },<br>      &quot;typeVersion&quot;: 2.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;e38a74d5-a733-4f5c-a97b-2c761b46919b&quot;,<br>      &quot;name&quot;: &quot;AI Agent&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.agent&quot;,<br>      &quot;position&quot;: [<br>        1180,<br>        520<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;text&quot;: &quot;=You are a content creation AI for Syncbricks, a leading IT-focused platform that delivers insightful articles, tech news, and industry trends in Enterprise IT, Open Source, Software, Hardware, Cloud Computing, Cybersecurity, and Emerging Technologies.\n\nYour goal is to craft engaging and informative content for LinkedIn, Instagram, Facebook, Twitter (X), and YouTube, ensuring that each post aligns with the platform&#39;s audience, tone, and style. The content should reflect Syncbricks‚Äô expertise in IT, providing value-driven insights, tutorials, reviews, and discussions that resonate with tech professionals, enthusiasts, and businesses.\n\nEach post should be optimized for engagement, using platform-specific hashtags to enhance reach and SEO. Maintain a professional yet approachable tone that fosters trust and authority in the tech space.\n\nGeneral Tech Hashtags: #Syncbricks #TechNews #CloudComputing #Cybersecurity #AI #ITSolutions #TechTrends #Innovation #EnterpriseIT #OpenSource #FutureOfTech\n\nBest Practices for Syncbricks&#39; Content Creation:\nPost Optimization: Adjust content format, style, and hashtags to suit each social media platform‚Äôs algorithm and audience engagement patterns.\nSEO &amp; Hashtags: Use a balanced mix of general tech hashtags and platform-specific trending hashtags to maximize reach.\nEngagement-Driven Content: Focus on tech tutorials, IT industry updates, comparisons, reviews, and insightful discussions that spark engagement.\nConsistency: Maintain a consistent tone and visual identity across all platforms while tailoring content for each audience type.\nData-Backed Trends: Regularly analyze post-performance and adapt hashtag strategy to reflect trending discussions in Enterprise IT and Tech Innovation.\nüöÄ Syncbricks&#39; content should establish itself as a thought leader in the IT space by providing high-quality, relevant, and engaging posts that attract professionals, businesses, and tech enthusiasts.\n\n### Platform-Specific Requirements:\n1. **LinkedIn**:\n   - Style: Professional and informative.\n   - Tone: Focus on business achievements, employee gratitude, and community impact.\n   - Content Length: 3-4 sentences, detailed and insightful.\n   - Hashtags : #Innovation #Technology #DigitalMarketing #Management #Startups #Futurism #Creativity #Marketing #SocialMedia #SocialNetworking\n   - Call to Action: Engage businesses and professionals by encouraging comments or visits to Al Ansari‚Äôs website.\n\n2. **Instagram**:\n   - Style: Visual storytelling.\n   - Tone: Inspirational and engaging.\n   - Content Length: 2-3 sentences, paired with creative captions and emojis.\n   - Visuals: Highlight events, gifts, and milestones (e.g., 50th-anniversary keychains, eco-friendly tote bags).\n   - Call to Action: Use phrases like \&quot;Swipe to see more,\&quot; \&quot;Tag your colleagues,\&quot; or \&quot;Celebrate with us!\&quot;\n - hashtags : #Tech #Innovation #TechLife #Gadgets #TechAddict #TechNews #Programming #Engineering #Science #Software\n- Link : If the link is provided add the link before the hashtags otherwise add visit our website : https://syncbricks.com\n\n3. **Facebook**:\n   - Style: Friendly and relatable.\n   - Tone: Community-focused, sharing employee stories, achievements, or event updates.\n   - Content Length: 2-3 sentences, slightly casual but still reflective of the company‚Äôs values.\n   - hashtags: #SmallBusiness #Entrepreneur #DigitalMarketing #SocialMedia #Leadership #Startup #BusinessTips #Innovation #Technology #Marketing\n   - Call to Action: Encourage likes, shares, and comments from families and communities connected to Al Ansari\n\n4. **Twitter (X)**:\n   - Style: Concise and impactful.\n   - Tone: Crisp, engaging, and attention-grabbing.\n   - Content Length: 150 characters or less, including hashtags.\n  - Hashtags : #Tech #Innovation #AI #Cybersecurity #CloudComputing #BigData #IoT #MachineLearning #DataScience #TechTrends\n   - Call to Action: Focus on quick engagement through retweets, likes, and replies.\n\n\nWith this guidance, generate posts for all platforms for below given inputs;\n\n#### Event Highlight:\n- Topic / about the post:{{ $json[&#39;Post Title/Topic&#39;] }}\n- some keywords: {{ $json.formMode }}\n- Visit Link :  : {{ $(&#39;On form submission&#39;).item.json[&#39;Optional Link&#39;] }}\n\nNote that if visit link is blank then provide the link https://alansariglobal.com\n&quot;,<br>        &quot;options&quot;: {},<br>        &quot;promptType&quot;: &quot;define&quot;,<br>        &quot;hasOutputParser&quot;: true<br>      },<br>      &quot;typeVersion&quot;: 1.7<br>    },<br>    {<br>      &quot;id&quot;: &quot;ca0a8aef-0251-45ed-bc9b-05ee977febf9&quot;,<br>      &quot;name&quot;: &quot;Google Gemini Chat Model&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.lmChatGoogleGemini&quot;,<br>      &quot;position&quot;: [<br>        980,<br>        780<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;modelName&quot;: &quot;models/gemini-2.0-flash-exp&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;31e88059-94ca-4d4e-a673-e0f8cd1ac96e&quot;,<br>      &quot;name&quot;: &quot;Structured Output Parser&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.outputParserStructured&quot;,<br>      &quot;position&quot;: [<br>        1300,<br>        780<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;schemaType&quot;: &quot;manual&quot;,<br>        &quot;inputSchema&quot;: &quot;{\n\t\&quot;type\&quot;: \&quot;object\&quot;,\n\t\&quot;properties\&quot;: {\n\t\t\&quot;event_name\&quot;: {\n\t\t\t\&quot;type\&quot;: \&quot;string\&quot;\n\t\t},\n\t\t\&quot;event_description\&quot;: {\n\t\t\t\&quot;type\&quot;: \&quot;string\&quot;\n\t\t},\n\t\t\&quot;platform_posts\&quot;: {\n\t\t\t\&quot;type\&quot;: \&quot;object\&quot;,\n\t\t\t\&quot;properties\&quot;: {\n\t\t\t\t\&quot;LinkedIn\&quot;: {\n\t\t\t\t\t\&quot;type\&quot;: \&quot;object\&quot;,\n\t\t\t\t\t\&quot;properties\&quot;: {\n\t\t\t\t\t\t\&quot;post\&quot;: {\n\t\t\t\t\t\t\t\&quot;type\&quot;: \&quot;string\&quot;\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\&quot;hashtags\&quot;: {\n\t\t\t\t\t\t\t\&quot;type\&quot;: \&quot;array\&quot;,\n\t\t\t\t\t\t\t\&quot;items\&quot;: {\n\t\t\t\t\t\t\t\t\&quot;type\&quot;: \&quot;string\&quot;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\&quot;call_to_action\&quot;: {\n\t\t\t\t\t\t\t\&quot;type\&quot;: \&quot;string\&quot;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\&quot;Instagram\&quot;: {\n\t\t\t\t\t\&quot;type\&quot;: \&quot;object\&quot;,\n\t\t\t\t\t\&quot;properties\&quot;: {\n\t\t\t\t\t\t\&quot;image_suggestion\&quot;: {\n\t\t\t\t\t\t\t\&quot;type\&quot;: \&quot;string\&quot;\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\&quot;caption\&quot;: {\n\t\t\t\t\t\t\t\&quot;type\&quot;: \&quot;string\&quot;\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\&quot;hashtags\&quot;: {\n\t\t\t\t\t\t\t\&quot;type\&quot;: \&quot;array\&quot;,\n\t\t\t\t\t\t\t\&quot;items\&quot;: {\n\t\t\t\t\t\t\t\t\&quot;type\&quot;: \&quot;string\&quot;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\&quot;emojis\&quot;: {\n\t\t\t\t\t\t\t\&quot;type\&quot;: \&quot;array\&quot;,\n\t\t\t\t\t\t\t\&quot;items\&quot;: {\n\t\t\t\t\t\t\t\t\&quot;type\&quot;: \&quot;string\&quot;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\&quot;call_to_action\&quot;: {\n\t\t\t\t\t\t\t\&quot;type\&quot;: \&quot;string\&quot;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\&quot;Facebook\&quot;: {\n\t\t\t\t\t\&quot;type\&quot;: \&quot;object\&quot;,\n\t\t\t\t\t\&quot;properties\&quot;: {\n\t\t\t\t\t\t\&quot;post\&quot;: {\n\t\t\t\t\t\t\t\&quot;type\&quot;: \&quot;string\&quot;\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\&quot;hashtags\&quot;: {\n\t\t\t\t\t\t\t\&quot;type\&quot;: \&quot;array\&quot;,\n\t\t\t\t\t\t\t\&quot;items\&quot;: {\n\t\t\t\t\t\t\t\t\&quot;type\&quot;: \&quot;string\&quot;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\&quot;call_to_action\&quot;: {\n\t\t\t\t\t\t\t\&quot;type\&quot;: \&quot;string\&quot;\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\&quot;image_suggestion\&quot;: {\n\t\t\t\t\t\t\t\&quot;type\&quot;: \&quot;string\&quot;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\&quot;Twitter\&quot;: {\n\t\t\t\t\t\&quot;type\&quot;: \&quot;object\&quot;,\n\t\t\t\t\t\&quot;properties\&quot;: {\n\t\t\t\t\t\t\&quot;post\&quot;: {\n\t\t\t\t\t\t\t\&quot;type\&quot;: \&quot;string\&quot;\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\&quot;hashtags\&quot;: {\n\t\t\t\t\t\t\t\&quot;type\&quot;: \&quot;array\&quot;,\n\t\t\t\t\t\t\t\&quot;items\&quot;: {\n\t\t\t\t\t\t\t\t\&quot;type\&quot;: \&quot;string\&quot;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\&quot;character_limit\&quot;: {\n\t\t\t\t\t\t\t\&quot;type\&quot;: \&quot;integer\&quot;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\&quot;additional_notes\&quot;: {\n\t\t\t\&quot;type\&quot;: \&quot;string\&quot;\n\t\t}\n\t}\n}\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;ffda1c79-faa4-4cc8-8655-6f7fc14b7e2d&quot;,<br>      &quot;name&quot;: &quot;Split Form Input&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        1320,<br>        40<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;include&quot;: &quot;selected&quot;,<br>        &quot;options&quot;: {},<br>        &quot;includeFields&quot;: &quot;output.platform_posts.LinkedIn.post&quot;<br>      },<br>      &quot;typeVersion&quot;: 3.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;37e443e1-6925-44a1-a07e-9eb1120e55a9&quot;,<br>      &quot;name&quot;: &quot;Upload Image&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.form&quot;,<br>      &quot;position&quot;: [<br>        320,<br>        1160<br>      ],<br>      &quot;webhookId&quot;: &quot;0dc811ef-b2e0-4213-a0c9-e9b5fb9fcbf1&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {<br>          &quot;formTitle&quot;: &quot;Review the Text&quot;,<br>          &quot;buttonLabel&quot;: &quot;Proceed to Next Step&quot;,<br>          &quot;formDescription&quot;: &quot;=Please review the text, I will be Publishing this on Social Media, note that to generate the text I am using tokents.\nNote below Text : \n\nLinkedin : \n{{ $json.data[0].output.platform_posts.LinkedIn.post }}\n\nFacebook : \n{{ $json.data[0].output.platform_posts.Facebook.post }}\n\nTwitter : \n{{ $json.data[0].output.platform_posts.Twitter.post }}&quot;<br>        },<br>        &quot;formFields&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;fieldType&quot;: &quot;file&quot;,<br>              &quot;fieldLabel&quot;: &quot;image&quot;,<br>              &quot;requiredField&quot;: &quot;={{ true }}&quot;,<br>              &quot;acceptFileTypes&quot;: &quot;.jpg&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;265068ce-22fc-4c41-9ed2-93eadc0ce25f&quot;,<br>      &quot;name&quot;: &quot;Split Data&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        1560,<br>        40<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;include&quot;: &quot;selected&quot;,<br>        &quot;options&quot;: {},<br>        &quot;includeFields&quot;: &quot;output.platform_posts.LinkedIn.post&quot;<br>      },<br>      &quot;typeVersion&quot;: 3.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;b8470879-413e-4901-bf39-23a19beaee5f&quot;,<br>      &quot;name&quot;: &quot;Data for AI&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        1880,<br>        40<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;5d35062b-5f6d-44ba-bc52-54b0e841c31a&quot;,<br>              &quot;name&quot;: &quot;Post Title/Topic&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $(&#39;On form submission&#39;).item.json[&#39;Post Title/Topic&#39;] }}&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;400ed7a9-d839-4fe7-b8a0-deb7d89e264a&quot;,<br>              &quot;name&quot;: &quot;formMode&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $(&#39;On form submission&#39;).item.json.formMode }}&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;eef02dcb-7c7f-4d6c-a1fd-039c8b30f10d&quot;,<br>      &quot;name&quot;: &quot;Aggregate&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.aggregate&quot;,<br>      &quot;position&quot;: [<br>        1680,<br>        760<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;aggregate&quot;: &quot;aggregateAllItemData&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;097e7724-4dc0-4cc9-b12c-2dbdae4e024f&quot;,<br>      &quot;name&quot;: &quot;Form&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.form&quot;,<br>      &quot;position&quot;: [<br>        1820,<br>        1960<br>      ],<br>      &quot;webhookId&quot;: &quot;e84b9492-038c-4701-a367-c68237ddebf6&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {<br>          &quot;formTitle&quot;: &quot;Al Ansari AI Agent (Job Done)&quot;<br>        },<br>        &quot;operation&quot;: &quot;completion&quot;,<br>        &quot;completionTitle&quot;: &quot;Thanks&quot;,<br>        &quot;completionMessage&quot;: &quot;=Your post has successfully been submitted LinkeedIn, X and Facbeook.\n\nHere is Link : \n\nhttps://x.com/syncbricks/status/{{ $(&#39;X&#39;).item.json.id }}\nhttps://facebook.com/{{ $(&#39;Publish to Facebook&#39;).item.json.post_id }}\nhttps://www.linkedin.com/feed/update/{{ $(&#39;Publish to LinkedIn&#39;).item.json.urn }}\nhttps://instagram.com/syncbricks_com\n\nThanks \n\nAI Agent\nSyncbricks&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;7b1d64fc-02ad-4b8f-ad1e-be8894abd932&quot;,<br>      &quot;name&quot;: &quot;Nest Top Meta&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        940,<br>        1160<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {<br>          &quot;includeBinary&quot;: true<br>        },<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;2fb3fd91-c13d-45ce-a7ec-612319a008fc&quot;,<br>              &quot;name&quot;: &quot;metaTop&quot;,<br>              &quot;type&quot;: &quot;object&quot;,<br>              &quot;value&quot;: &quot;={{ $json }}&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3.3<br>    },<br>    {<br>      &quot;id&quot;: &quot;11ddcfe8-1978-4f5a-8c29-67e72920431a&quot;,<br>      &quot;name&quot;: &quot;Rename Image Binary Top Image&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.code&quot;,<br>      &quot;position&quot;: [<br>        -40,<br>        1960<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;mode&quot;: &quot;runOnceForEachItem&quot;,<br>        &quot;jsCode&quot;: &quot;$input.item.binary.top = $input.item.binary.data;\ndelete $input.item.binary.data;\nreturn $input.item;&quot;<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;19892590-5ddf-47ac-b544-7a72a68bd45e&quot;,<br>      &quot;name&quot;: &quot;Publish to Facebook&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.facebookGraphApi&quot;,<br>      &quot;position&quot;: [<br>        440,<br>        2080<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;edge&quot;: &quot;photos&quot;,<br>        &quot;node&quot;: &quot;110638833706072&quot;,<br>        &quot;options&quot;: {<br>          &quot;queryParameters&quot;: {<br>            &quot;parameter&quot;: [<br>              {<br>                &quot;name&quot;: &quot;message&quot;,<br>                &quot;value&quot;: &quot;={{ $(&#39;Aggregate&#39;).item.json.data[0].output.platform_posts.Facebook.post }}\n\n{{ $(&#39;Aggregate&#39;).item.json.data[0].output.platform_posts.Facebook.call_to_action }}\n&quot;<br>              },<br>              {<br>                &quot;name&quot;: &quot;link&quot;,<br>                &quot;value&quot;: &quot;={{ $(&#39;Aggregate&#39;).item.json.data[0].output.platform_posts.Facebook.call_to_action }}&quot;<br>              }<br>            ]<br>          }<br>        },<br>        &quot;sendBinaryData&quot;: true,<br>        &quot;graphApiVersion&quot;: &quot;v20.0&quot;,<br>        &quot;httpRequestMethod&quot;: &quot;POST&quot;,<br>        &quot;binaryPropertyName&quot;: &quot;image&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;b3b0068b-c75a-427c-bb2d-77b21bc6ff16&quot;,<br>      &quot;name&quot;: &quot;Publish to LinkedIn&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.linkedIn&quot;,<br>      &quot;position&quot;: [<br>        420,<br>        1840<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;text&quot;: &quot;={{ $(&#39;AI Agent&#39;).item.json.output.platform_posts.LinkedIn.post }}\n{{ $(&#39;Aggregate&#39;).item.json.data[0].output.platform_posts.LinkedIn.call_to_action }}&quot;,<br>        &quot;postAs&quot;: &quot;organization&quot;,<br>        &quot;organization&quot;: &quot;30253904&quot;,<br>        &quot;additionalFields&quot;: {<br>          &quot;title&quot;: &quot;&quot;<br>        },<br>        &quot;binaryPropertyName&quot;: &quot;=image&quot;,<br>        &quot;shareMediaCategory&quot;: &quot;IMAGE&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;ed5fe0c2-a07a-45f1-90cb-65f21d416a1a&quot;,<br>      &quot;name&quot;: &quot;Sticky Note&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        860,<br>        -80<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 1220,<br>        &quot;height&quot;: 400,<br>        &quot;content&quot;: &quot;## Get the Data for Social Media Post using the Web Form \n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;c4a2e59d-165a-49cc-8074-9868ee4e0d6c&quot;,<br>      &quot;name&quot;: &quot;X&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.twitter&quot;,<br>      &quot;position&quot;: [<br>        440,<br>        1600<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;text&quot;: &quot;={{ $(&#39;Aggregate&#39;).item.json.data[0].output.platform_posts.Twitter.post }}\n&quot;,<br>        &quot;additionalFields&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;66ba98a9-24c0-4128-9ad9-792a0d400aae&quot;,<br>      &quot;name&quot;: &quot;Sticky Note1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        860,<br>        340<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 6,<br>        &quot;width&quot;: 1200,<br>        &quot;height&quot;: 580,<br>        &quot;content&quot;: &quot;# AI Agent will do its Job to generate relevant Posts for Socail Media\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;02fafdc7-0272-4f34-9b66-dfbe8e16e70d&quot;,<br>      &quot;name&quot;: &quot;Sticky Note2&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -240,<br>        960<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 5,<br>        &quot;width&quot;: 2340,<br>        &quot;height&quot;: 500,<br>        &quot;content&quot;: &quot;# Get Impage to Be Publshed\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;21d945c3-446c-4bb9-8696-a70034801485&quot;,<br>      &quot;name&quot;: &quot;Sticky Note3&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -240,<br>        1480<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 1840,<br>        &quot;height&quot;: 1160,<br>        &quot;content&quot;: &quot;# Publish on Social Media\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;c9efdc38-94c6-494e-a932-45b75312bb54&quot;,<br>      &quot;name&quot;: &quot;Sticky Note4&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1620,<br>        1480<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 4,<br>        &quot;width&quot;: 500,<br>        &quot;height&quot;: 1140,<br>        &quot;content&quot;: &quot;# Confirmation that post is Published\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;93632f4f-9182-4b76-bbe0-e6d5dd230452&quot;,<br>      &quot;name&quot;: &quot;Edit Fields&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        800,<br>        1600<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;3dfdc22a-5f69-4d5e-9fc0-f637695c46f9&quot;,<br>              &quot;name&quot;: &quot;edit_history_tweet_ids&quot;,<br>              &quot;type&quot;: &quot;array&quot;,<br>              &quot;value&quot;: &quot;={{ $json.edit_history_tweet_ids }}&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;89f22cf8-9499-4b7f-872d-97099c5d1e50&quot;,<br>      &quot;name&quot;: &quot;Image for Instagram&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.httpRequest&quot;,<br>      &quot;position&quot;: [<br>        740,<br>        2280<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;url&quot;: &quot;https://graph.facebook.com/v20.0/17841472318439506/media&quot;,<br>        &quot;method&quot;: &quot;POST&quot;,<br>        &quot;options&quot;: {},<br>        &quot;sendQuery&quot;: true,<br>        &quot;authentication&quot;: &quot;predefinedCredentialType&quot;,<br>        &quot;queryParameters&quot;: {<br>          &quot;parameters&quot;: [<br>            {<br>              &quot;name&quot;: &quot;image_url&quot;,<br>              &quot;value&quot;: &quot;={{ $json.data.url }}&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;caption&quot;,<br>              &quot;value&quot;: &quot;={{ $(&#39;AI Agent&#39;).item.json.output.platform_posts.Instagram.caption }}&quot;<br>            }<br>          ]<br>        },<br>        &quot;nodeCredentialType&quot;: &quot;facebookGraphApi&quot;<br>      },<br>      &quot;typeVersion&quot;: 4.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;c415eeb9-f916-4c08-afb1-baed3f3280cc&quot;,<br>      &quot;name&quot;: &quot;Publish to Instagram&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.facebookGraphApi&quot;,<br>      &quot;position&quot;: [<br>        1060,<br>        2280<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;edge&quot;: &quot;media_publish&quot;,<br>        &quot;node&quot;: &quot;17841472318439506&quot;,<br>        &quot;options&quot;: {<br>          &quot;queryParameters&quot;: {<br>            &quot;parameter&quot;: [<br>              {<br>                &quot;name&quot;: &quot;creation_id&quot;,<br>                &quot;value&quot;: &quot;={{ $json.id }}&quot;<br>              },<br>              {<br>                &quot;name&quot;: &quot;caption&quot;,<br>                &quot;value&quot;: &quot;={{ $(&#39;AI Agent&#39;).item.json.output.platform_posts.Instagram.caption }}&quot;<br>              }<br>            ]<br>          }<br>        },<br>        &quot;graphApiVersion&quot;: &quot;v20.0&quot;,<br>        &quot;httpRequestMethod&quot;: &quot;POST&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;1c8f6ba6-c28b-45a8-ba0d-3f2f21ccbfa0&quot;,<br>      &quot;name&quot;: &quot;Merge1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.merge&quot;,<br>      &quot;position&quot;: [<br>        1380,<br>        1940<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;numberInputs&quot;: 4<br>      },<br>      &quot;typeVersion&quot;: 3<br>    },<br>    {<br>      &quot;id&quot;: &quot;d9cfdcd1-18db-4d0d-9b6a-66897600e496&quot;,<br>      &quot;name&quot;: &quot;Upload Image to imgbb.com&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.httpRequest&quot;,<br>      &quot;position&quot;: [<br>        440,<br>        2280<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;url&quot;: &quot;https://api.imgbb.com/1/upload?expiration=600&amp;key=your-api-key&quot;,<br>        &quot;method&quot;: &quot;POST&quot;,<br>        &quot;options&quot;: {},<br>        &quot;sendBody&quot;: true,<br>        &quot;contentType&quot;: &quot;multipart-form-data&quot;,<br>        &quot;sendHeaders&quot;: true,<br>        &quot;bodyParameters&quot;: {<br>          &quot;parameters&quot;: [<br>            {<br>              &quot;name&quot;: &quot;image&quot;,<br>              &quot;parameterType&quot;: &quot;formBinaryData&quot;,<br>              &quot;inputDataFieldName&quot;: &quot;image&quot;<br>            }<br>          ]<br>        },<br>        &quot;headerParameters&quot;: {<br>          &quot;parameters&quot;: [<br>            {<br>              &quot;name&quot;: &quot;Content-Type&quot;,<br>              &quot;value&quot;: &quot;multipart/form-data&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 4.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;f7e5b1b1-aeaa-4851-be04-53e8255fa343&quot;,<br>      &quot;name&quot;: &quot;Sticky Note11&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -240,<br>        -80<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 4,<br>        &quot;width&quot;: 1075,<br>        &quot;height&quot;: 1016,<br>        &quot;content&quot;: &quot;## Developed by Amjid Ali\n\nThank you for using this workflow template. It has taken me countless hours of hard work, research, and dedication to develop, and I sincerely hope it adds value to your work.\n\nIf you find this template helpful, I kindly ask you to consider supporting my efforts. Your support will help me continue improving and creating more valuable resources.\n\nYou can contribute via PayPal here:\n\nhttp://paypal.me/pmptraining\n\nFor Full Course about ERPNext or Automation using AI follow below link\n\nhttp://lms.syncbricks.com\n\nAdditionally, when sharing this template, I would greatly appreciate it if you include my original information to ensure proper credit is given.\n\nThank you for your generosity and support!\nEmail : amjid@amjidali.com\nhttps://linkedin.com/in/amjidali\nhttps://syncbricks.com\nhttps://youtube.com/@syncbricks&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    }<br>  ],<br>  &quot;active&quot;: false,<br>  &quot;pinData&quot;: {},<br>  &quot;settings&quot;: {<br>    &quot;executionOrder&quot;: &quot;v1&quot;<br>  },<br>  &quot;versionId&quot;: &quot;4a55bf93-ae0c-4aa9-84a8-cd4d02375e51&quot;,<br>  &quot;connections&quot;: {<br>    &quot;X&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Edit Fields&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Merge1&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Form&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;AI Agent&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Aggregate&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Aggregate&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Upload Image&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Split Data&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Data for AI&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Data for AI&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Agent&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Edit Fields&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Merge1&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Upload Image&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Nest Top Meta&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Nest Top Meta&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Rename Image Binary Top Image&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Split Form Input&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Split Data&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;On form submission&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Split Form Input&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Image for Instagram&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Publish to Instagram&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Publish to Facebook&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Merge1&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 2<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Publish to LinkedIn&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Merge1&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 1<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Publish to Instagram&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Merge1&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 3<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Google Gemini Chat Model&quot;: {<br>      &quot;ai_languageModel&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Agent&quot;,<br>            &quot;type&quot;: &quot;ai_languageModel&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Structured Output Parser&quot;: {<br>      &quot;ai_outputParser&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Agent&quot;,<br>            &quot;type&quot;: &quot;ai_outputParser&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Upload Image to imgbb.com&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Image for Instagram&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Rename Image Binary Top Image&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;X&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          },<br>          {<br>            &quot;node&quot;: &quot;Publish to LinkedIn&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          },<br>          {<br>            &quot;node&quot;: &quot;Publish to Facebook&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          },<br>          {<br>            &quot;node&quot;: &quot;Upload Image to imgbb.com&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    }<br>  }<br>}</div></td></tr><tr style="height: 59px"><th id="0R4" style="height: 59px;" class="row-headers-background"><div class="row-header-wrapper" style="line-height: 59px">5</div></th><td class="s3" dir="ltr">Raspado web automatizado: enviar emails con CSV, guardar en Google Sheets y Microsoft Excel</td><td class="s4 softmerge" dir="ltr"><div class="softmerge-inner" style="width:1726px;left:-3px">{<br>  &quot;id&quot;: &quot;swaWgPkq0xW1Jk0o&quot;,<br>  &quot;meta&quot;: {<br>    &quot;instanceId&quot;: &quot;615d41e094941c09198b8ce125ed214047535a66e1c0b3e0cb2d688b4f5c9651&quot;<br>  },<br>  &quot;name&quot;: &quot;Automated Web Scraping: email a CSV, save to Google Sheets &amp; Microsoft Excel&quot;,<br>  &quot;tags&quot;: [],<br>  &quot;nodes&quot;: [<br>    {<br>      &quot;id&quot;: &quot;c3ef40df-084e-435c-9a11-3aa0a2f94f36&quot;,<br>      &quot;name&quot;: &quot;When clicking \&quot;Test workflow\&quot;&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.manualTrigger&quot;,<br>      &quot;position&quot;: [<br>        380,<br>        540<br>      ],<br>      &quot;parameters&quot;: {},<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;e0583472-a450-4582-83bc-84a014bea543&quot;,<br>      &quot;name&quot;: &quot;Split Out&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.splitOut&quot;,<br>      &quot;position&quot;: [<br>        1040,<br>        540<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;fieldToSplitOut&quot;: &quot;books&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;f9cbdb05-c249-4ccb-b3c5-f2eb8861f811&quot;,<br>      &quot;name&quot;: &quot;Convert to CSV File&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.convertToFile&quot;,<br>      &quot;position&quot;: [<br>        1820,<br>        540<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;1ecb45ee-659e-42a9-919d-6a3ebed0b836&quot;,<br>      &quot;name&quot;: &quot;Sticky Note&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1620,<br>        100<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;height&quot;: 184.90255200662574,<br>        &quot;content&quot;: &quot;### You need to setup Microsoft Azure credentials with Microsoft Graph permissions.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;1d4bcfad-feae-4317-9012-7e03a6203d91&quot;,<br>      &quot;name&quot;: &quot;Sticky Note1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1900,<br>        100<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;height&quot;: 183.1237982918667,<br>        &quot;content&quot;: &quot;### Unlike Google Sheets where we did not need to have a certain format, here we need to create the column headers, otherwise the appending to the sheet won&#39;t work.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;4248ddb3-11c0-41e3-be81-ce4ec92923ee&quot;,<br>      &quot;name&quot;: &quot;Sticky Note2&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        2020,<br>        740<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;height&quot;: 135.09744799337426,<br>        &quot;content&quot;: &quot;### For these steps to work you will need to have Drive, Sheets and Gmail APIs enabled in your Google Cloud Account&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;d17174fe-8015-453a-b439-43eb3245d7cb&quot;,<br>      &quot;name&quot;: &quot;Extract all books from the page&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.html&quot;,<br>      &quot;position&quot;: [<br>        820,<br>        540<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;operation&quot;: &quot;extractHtmlContent&quot;,<br>        &quot;extractionValues&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;key&quot;: &quot;books&quot;,<br>              &quot;cssSelector&quot;: &quot;.row &gt; li&quot;,<br>              &quot;returnArray&quot;: true,<br>              &quot;returnValue&quot;: &quot;html&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;5de66b0a-9138-42e3-857a-3060c71776a9&quot;,<br>      &quot;name&quot;: &quot;Sort by price&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.sort&quot;,<br>      &quot;position&quot;: [<br>        1480,<br>        540<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;sortFieldsUi&quot;: {<br>          &quot;sortField&quot;: [<br>            {<br>              &quot;order&quot;: &quot;descending&quot;,<br>              &quot;fieldName&quot;: &quot;price&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;b8c539ce-292c-4b67-83b2-b397cfc5bb97&quot;,<br>      &quot;name&quot;: &quot;Extract individual book price&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.html&quot;,<br>      &quot;position&quot;: [<br>        1260,<br>        540<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;operation&quot;: &quot;extractHtmlContent&quot;,<br>        &quot;dataPropertyName&quot;: &quot;books&quot;,<br>        &quot;extractionValues&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;key&quot;: &quot;title&quot;,<br>              &quot;attribute&quot;: &quot;title&quot;,<br>              &quot;cssSelector&quot;: &quot;h3 &gt; a&quot;,<br>              &quot;returnValue&quot;: &quot;attribute&quot;<br>            },<br>            {<br>              &quot;key&quot;: &quot;price&quot;,<br>              &quot;cssSelector&quot;: &quot;.price_color&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;b8aa573d-5b63-4669-900f-bcc915b6ad41&quot;,<br>      &quot;name&quot;: &quot;Save to Google Sheets&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleSheets&quot;,<br>      &quot;position&quot;: [<br>        1820,<br>        760<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;columns&quot;: {<br>          &quot;value&quot;: {},<br>          &quot;schema&quot;: [<br>            {<br>              &quot;id&quot;: &quot;title&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;removed&quot;: false,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;title&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;price&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;removed&quot;: false,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;price&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            }<br>          ],<br>          &quot;mappingMode&quot;: &quot;autoMapInputData&quot;,<br>          &quot;matchingColumns&quot;: []<br>        },<br>        &quot;options&quot;: {},<br>        &quot;operation&quot;: &quot;append&quot;,<br>        &quot;sheetName&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;gid=0&quot;,<br>          &quot;cachedResultUrl&quot;: &quot;https://docs.google.com/spreadsheets/d/1zyiRT7iIlfzZiskC9vDVoAFnW_UNMVXX0-ESVU1yYxY/edit#gid=0&quot;,<br>          &quot;cachedResultName&quot;: &quot;Sheet1&quot;<br>        },<br>        &quot;documentId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;1zyiRT7iIlfzZiskC9vDVoAFnW_UNMVXX0-ESVU1yYxY&quot;,<br>          &quot;cachedResultUrl&quot;: &quot;https://docs.google.com/spreadsheets/d/1zyiRT7iIlfzZiskC9vDVoAFnW_UNMVXX0-ESVU1yYxY/edit?usp=drivesdk&quot;,<br>          &quot;cachedResultName&quot;: &quot;Scraped Data&quot;<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googleSheetsOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;MMrGJCEKCWIb8jPE&quot;,<br>          &quot;name&quot;: &quot;Google Sheets account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 4.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;97bdbc85-84b3-4463-9b98-5d40b80a3a1a&quot;,<br>      &quot;name&quot;: &quot;Save to Microsoft Excel 365&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.microsoftExcel&quot;,<br>      &quot;position&quot;: [<br>        1820,<br>        320<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;dataMode&quot;: &quot;autoMap&quot;,<br>        &quot;resource&quot;: &quot;worksheet&quot;,<br>        &quot;workbook&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;id&quot;,<br>          &quot;value&quot;: &quot;=EA8A73F11507ECE9!24392&quot;<br>        },<br>        &quot;operation&quot;: &quot;append&quot;,<br>        &quot;worksheet&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;{00000000-0001-0000-0000-000000000000}&quot;,<br>          &quot;cachedResultName&quot;: &quot;Sheet1&quot;<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;microsoftExcelOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;oSGTo5qjZHVXYiuB&quot;,<br>          &quot;name&quot;: &quot;Microsoft Excel account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;4078dc06-0497-4579-a6f4-8c314307aab8&quot;,<br>      &quot;name&quot;: &quot;Send CSV via e-mail&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.gmail&quot;,<br>      &quot;position&quot;: [<br>        2040,<br>        540<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;sendTo&quot;: &quot;constact@mihai.ltd&quot;,<br>        &quot;message&quot;: &quot;Hey, here&#39;s the scraped data from the online bookstore!&quot;,<br>        &quot;options&quot;: {<br>          &quot;attachmentsUi&quot;: {<br>            &quot;attachmentsBinary&quot;: [<br>              {}<br>            ]<br>          }<br>        },<br>        &quot;subject&quot;: &quot;bookstore csv&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;gmailOAuth2&quot;: {<br>          &quot;id&quot;: &quot;18u7JrVfJgM0fhOv&quot;,<br>          &quot;name&quot;: &quot;Gmail account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;8ddca560-8da7-4090-b865-0523f95ca463&quot;,<br>      &quot;name&quot;: &quot;Fetch website content&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.httpRequest&quot;,<br>      &quot;position&quot;: [<br>        600,<br>        540<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;url&quot;: &quot;http://books.toscrape.com&quot;,<br>        &quot;options&quot;: {<br>          &quot;allowUnauthorizedCerts&quot;: true<br>        }<br>      },<br>      &quot;typeVersion&quot;: 4.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;450020e6-9f43-4652-be13-25cb5eb3584c&quot;,<br>      &quot;name&quot;: &quot;Sticky Note3&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        360,<br>        60<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 579,<br>        &quot;height&quot;: 297,<br>        &quot;content&quot;: &quot;## Automated Web Scraping: email a CSV, save to Google Sheets &amp; Microsoft Excel\n\nSet-up steps:\n1. Change the website to scrape in the \&quot;Fetch website content\&quot; node\n2. Configure Microsoft Azure credentials with Microsoft Graph permissions (required for the Save to Microsoft Excel 365 node)\n3. Configure Google Cloud credentials with access to Google Drive, Google Sheets and Gmail APIs (the latter is required for the Send CSV via e-mail node).&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    }<br>  ],<br>  &quot;active&quot;: false,<br>  &quot;pinData&quot;: {},<br>  &quot;settings&quot;: {<br>    &quot;executionOrder&quot;: &quot;v1&quot;<br>  },<br>  &quot;versionId&quot;: &quot;27818544-3070-4201-917d-83739ce75339&quot;,<br>  &quot;connections&quot;: {<br>    &quot;Split Out&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Extract individual book price&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Sort by price&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Save to Microsoft Excel 365&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          },<br>          {<br>            &quot;node&quot;: &quot;Convert to CSV File&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          },<br>          {<br>            &quot;node&quot;: &quot;Save to Google Sheets&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Convert to CSV File&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Send CSV via e-mail&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Fetch website content&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Extract all books from the page&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Extract individual book price&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Sort by price&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;When clicking \&quot;Test workflow\&quot;&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Fetch website content&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Extract all books from the page&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Split Out&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    }<br>  }<br>}</div></td></tr><tr style="height: 59px"><th id="0R5" style="height: 59px;" class="row-headers-background"><div class="row-header-wrapper" style="line-height: 59px">6</div></th><td class="s5" dir="ltr">OpenAI GPT-3: Enriquecimiento de empresas a partir del contenido del sitio web</td><td class="s6 softmerge" dir="ltr"><div class="softmerge-inner" style="width:3827px;left:-3px">{<br>  &quot;meta&quot;: {<br>    &quot;instanceId&quot;: &quot;f0a68da631efd4ed052a324b63ff90f7a844426af0398a68338f44245d1dd9e5&quot;<br>  },<br>  &quot;nodes&quot;: [<br>    {<br>      &quot;id&quot;: &quot;04750e9b-6ce3-401b-89e7-f1f17f3a4a28&quot;,<br>      &quot;name&quot;: &quot;When clicking \&quot;Execute Workflow\&quot;&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.manualTrigger&quot;,<br>      &quot;position&quot;: [<br>        -180,<br>        300<br>      ],<br>      &quot;parameters&quot;: {},<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;7a8bb997-5a2d-4ee0-a1ca-bebe9fe32bc2&quot;,<br>      &quot;name&quot;: &quot;HTTP Request&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.httpRequest&quot;,<br>      &quot;position&quot;: [<br>        640,<br>        460<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;url&quot;: &quot;=https://www.{{ $node[\&quot;Split In Batches\&quot;].json[\&quot;Domain\&quot;] }}&quot;,<br>        &quot;options&quot;: {<br>          &quot;redirect&quot;: {<br>            &quot;redirect&quot;: {<br>              &quot;followRedirects&quot;: true<br>            }<br>          }<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3,<br>      &quot;continueOnFail&quot;: true<br>    },<br>    {<br>      &quot;id&quot;: &quot;6409f0c4-bf93-4a1d-a74c-e294fb39895f&quot;,<br>      &quot;name&quot;: &quot;HTML Extract&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.htmlExtract&quot;,<br>      &quot;position&quot;: [<br>        820,<br>        460<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {<br>          &quot;trimValues&quot;: false<br>        },<br>        &quot;extractionValues&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;key&quot;: &quot;body&quot;,<br>              &quot;cssSelector&quot;: &quot;html&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1,<br>      &quot;continueOnFail&quot;: true<br>    },<br>    {<br>      &quot;id&quot;: &quot;f45fcc6a-9ccd-43c9-9eaf-1797768e1e62&quot;,<br>      &quot;name&quot;: &quot;OpenAI&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.openAi&quot;,<br>      &quot;position&quot;: [<br>        1140,<br>        460<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;prompt&quot;: &quot;=This is the content of the website {{ $node[\&quot;Split In Batches\&quot;].json[\&quot;Domain\&quot;] }}:\&quot;{{ $json[\&quot;contentShort\&quot;] }}\&quot;\n\nIn a JSON format:\n\n- Give me the value proposition of the company. In less than 25 words. In English. Casual Tone. Format is: \&quot;[Company Name] helps [target audience] [achieve desired outcome] and [additional benefit]\&quot;\n\n- Give me the industry of the company. (Classify using this industry list: [Agriculture, Arts, Construction, Consumer Goods, Education, Entertainment, Finance, Other, Health Care, Legal, Manufacturing, Media &amp; Communications, Public Administration, Advertisements, Real Estate, Recreation &amp; Travel, Retail, Software, Transportation &amp; Logistics, Wellness &amp; Fitness] if it&#39;s ambiguous between Sofware and Consumer Goods, prefer Consumer Goods)\n\n- Guess the target audience of each company.(Classify and choose 1 from this list: [sales teams, marketing teams, HR teams, customer Service teams, consumers, C-levels] Write it in lowercase)\n\n- Tell me if they are B2B or B2C\n\nformat should be:\n{\&quot;value_proposition\&quot;: value_proposition,\n\&quot;industry\&quot;: industry,\n\&quot;target_audience\&quot;: target_audience, \n\&quot;market\&quot;: market }\n\nJSON:&quot;,<br>        &quot;options&quot;: {<br>          &quot;topP&quot;: 1,<br>          &quot;maxTokens&quot;: 120,<br>          &quot;temperature&quot;: 0<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;openAiApi&quot;: {<br>          &quot;id&quot;: &quot;67&quot;,<br>          &quot;name&quot;: &quot;Lucas Open AI&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1,<br>      &quot;continueOnFail&quot;: true<br>    },<br>    {<br>      &quot;id&quot;: &quot;8de6c3d4-316f-4e00-a9f5-a4deefce90b3&quot;,<br>      &quot;name&quot;: &quot;Merge&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.merge&quot;,<br>      &quot;position&quot;: [<br>        1600,<br>        320<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;mode&quot;: &quot;combine&quot;,<br>        &quot;options&quot;: {},<br>        &quot;combinationMode&quot;: &quot;mergeByPosition&quot;<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;669f888e-1416-4291-a854-07ffbbbfcab1&quot;,<br>      &quot;name&quot;: &quot;Clean Content&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.code&quot;,<br>      &quot;position&quot;: [<br>        980,<br>        460<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;mode&quot;: &quot;runOnceForEachItem&quot;,<br>        &quot;jsCode&quot;: &quot;if ($input.item.json.body){\n\n\n\n$input.item.json.content = $input.item.json.body.replaceAll(&#39;/^\\s+|\\s+$/g&#39;, &#39;&#39;).replace(&#39;/(\\r\\n|\\n|\\r)/gm&#39;, \&quot;\&quot;).replace(/\\s+/g, &#39; &#39;)\n\n\n  $input.item.json.contentShort = $input.item.json.content.slice(0, 10000)\n}\n\n\n\n\nreturn $input.item&quot;<br>      },<br>      &quot;executeOnce&quot;: false,<br>      &quot;typeVersion&quot;: 1,<br>      &quot;continueOnFail&quot;: true,<br>      &quot;alwaysOutputData&quot;: true<br>    },<br>    {<br>      &quot;id&quot;: &quot;dbd5f866-2f5e-4adf-b1b5-a27b08c0425a&quot;,<br>      &quot;name&quot;: &quot;Update Google Sheets&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleSheets&quot;,<br>      &quot;position&quot;: [<br>        1840,<br>        320<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;fieldsUi&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;column&quot;: &quot;Market&quot;,<br>              &quot;fieldValue&quot;: &quot;={{ $json[\&quot;market\&quot;] }}&quot;<br>            },<br>            {<br>              &quot;column&quot;: &quot;Industry&quot;,<br>              &quot;fieldValue&quot;: &quot;={{ $json[\&quot;industry\&quot;] }}&quot;<br>            },<br>            {<br>              &quot;column&quot;: &quot;Value Proposition&quot;,<br>              &quot;fieldValue&quot;: &quot;={{ $json[\&quot;value_proposition\&quot;] }}&quot;<br>            },<br>            {<br>              &quot;column&quot;: &quot;Target Audience&quot;,<br>              &quot;fieldValue&quot;: &quot;={{ $json[\&quot;target_audience\&quot;] }}&quot;<br>            }<br>          ]<br>        },<br>        &quot;operation&quot;: &quot;update&quot;,<br>        &quot;sheetName&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;gid=0&quot;,<br>          &quot;cachedResultUrl&quot;: &quot;https://docs.google.com/spreadsheets/d/13h8HPWKha5kZHDeKxAPQvQqAOonof5cgpxzh79tIQfY/edit#gid=0&quot;,<br>          &quot;cachedResultName&quot;: &quot;Sheet1&quot;<br>        },<br>        &quot;documentId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;url&quot;,<br>          &quot;value&quot;: &quot;https://docs.google.com/spreadsheets/d/18iZ59I0q2AeElqcEpyJECNlSv4M6iJll9PQzXQkqEUk/edit#gid=0&quot;,<br>          &quot;__regex&quot;: &quot;https:\\/\\/(?:drive|docs)\\.google\\.com\\/\\w+\\/d\\/([0-9a-zA-Z\\-_]+)(?:\\/.*|)&quot;<br>        },<br>        &quot;valueToMatchOn&quot;: &quot;={{ $json[\&quot;Domain\&quot;] }}&quot;,<br>        &quot;columnToMatchOn&quot;: &quot;Domain&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googleSheetsOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;2&quot;,<br>          &quot;name&quot;: &quot;Google Sheets account lucas&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3<br>    },<br>    {<br>      &quot;id&quot;: &quot;f8bf8b70-6070-447b-af22-4d4e1ffe3539&quot;,<br>      &quot;name&quot;: &quot;Parse JSON&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.code&quot;,<br>      &quot;position&quot;: [<br>        1300,<br>        460<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;mode&quot;: &quot;runOnceForEachItem&quot;,<br>        &quot;jsCode&quot;: &quot;// Add a new field called &#39;myNewField&#39; to the\n// JSON of the item\n$input.item.json.value_proposition=JSON.parse($input.item.json.text).value_proposition\n\n$input.item.json.industry=JSON.parse($input.item.json.text).industry\n\n$input.item.json.market=JSON.parse($input.item.json.text).market\n\n$input.item.json.target_audience=JSON.parse($input.item.json.text).target_audience\n\nreturn $input.item;&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;2754c6e1-9cf6-47d4-ad97-0797ec9155df&quot;,<br>      &quot;name&quot;: &quot;Read Google Sheets&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleSheets&quot;,<br>      &quot;position&quot;: [<br>        40,<br>        300<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;sheetName&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;gid=0&quot;,<br>          &quot;cachedResultUrl&quot;: &quot;https://docs.google.com/spreadsheets/d/13h8HPWKha5kZHDeKxAPQvQqAOonof5cgpxzh79tIQfY/edit#gid=0&quot;,<br>          &quot;cachedResultName&quot;: &quot;Sheet1&quot;<br>        },<br>        &quot;documentId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;url&quot;,<br>          &quot;value&quot;: &quot;https://docs.google.com/spreadsheets/d/18iZ59I0q2AeElqcEpyJECNlSv4M6iJll9PQzXQkqEUk/edit#gid=0&quot;,<br>          &quot;__regex&quot;: &quot;https:\\/\\/(?:drive|docs)\\.google\\.com\\/\\w+\\/d\\/([0-9a-zA-Z\\-_]+)(?:\\/.*|)&quot;<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googleSheetsOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;2&quot;,<br>          &quot;name&quot;: &quot;Google Sheets account lucas&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3<br>    },<br>    {<br>      &quot;id&quot;: &quot;c2b93428-0dcc-4c02-bb81-496c12442284&quot;,<br>      &quot;name&quot;: &quot;Split In Batches&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.splitInBatches&quot;,<br>      &quot;position&quot;: [<br>        260,<br>        300<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;eccf1dc8-a0bb-40f6-9471-95eac8020b02&quot;,<br>      &quot;name&quot;: &quot;Wait&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.wait&quot;,<br>      &quot;position&quot;: [<br>        2060,<br>        560<br>      ],<br>      &quot;webhookId&quot;: &quot;d44bc024-1c21-44e0-b2b4-5cff6fb9f402&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;unit&quot;: &quot;seconds&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    }<br>  ],<br>  &quot;connections&quot;: {<br>    &quot;Wait&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Split In Batches&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Merge&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Update Google Sheets&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;OpenAI&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Parse JSON&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Parse JSON&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Merge&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 1<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;HTML Extract&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Clean Content&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;HTTP Request&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;HTML Extract&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Clean Content&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;OpenAI&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Split In Batches&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;HTTP Request&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          },<br>          {<br>            &quot;node&quot;: &quot;Merge&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Read Google Sheets&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Split In Batches&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Update Google Sheets&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Wait&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;When clicking \&quot;Execute Workflow\&quot;&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Read Google Sheets&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    }<br>  }<br>}</div></td></tr><tr style="height: 59px"><th id="0R6" style="height: 59px;" class="row-headers-background"><div class="row-header-wrapper" style="line-height: 59px">7</div></th><td class="s7" dir="ltr">‚ö° Resumen y an√°lisis de videos de YouTube con IA</td><td class="s8 softmerge" dir="ltr"><div class="softmerge-inner" style="width:3044px;left:-3px">{<br>  &quot;nodes&quot;: [<br>    {<br>      &quot;id&quot;: &quot;9320d08a-4868-4103-abdf-3f8f54a7a0a0&quot;,<br>      &quot;name&quot;: &quot;Webhook&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.webhook&quot;,<br>      &quot;position&quot;: [<br>        0,<br>        0<br>      ],<br>      &quot;webhookId&quot;: &quot;9024e29e-9080-4cf5-9a6b-0d918468f195&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;path&quot;: &quot;ytube&quot;,<br>        &quot;options&quot;: {},<br>        &quot;httpMethod&quot;: &quot;POST&quot;,<br>        &quot;responseMode&quot;: &quot;responseNode&quot;<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;a5cc8922-8124-4269-9cfd-e891b29cc2b7&quot;,<br>      &quot;name&quot;: &quot;YouTube Transcript&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-youtube-transcription.youtubeTranscripter&quot;,<br>      &quot;position&quot;: [<br>        800,<br>        0<br>      ],<br>      &quot;parameters&quot;: {},<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;ff3c0fd1-36d8-4d64-b405-0600efd4d93b&quot;,<br>      &quot;name&quot;: &quot;Split Out&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.splitOut&quot;,<br>      &quot;position&quot;: [<br>        200,<br>        260<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;fieldToSplitOut&quot;: &quot;transcript&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;423276e0-81bf-487a-bbdd-26e9b84fa755&quot;,<br>      &quot;name&quot;: &quot;Respond to Webhook&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.respondToWebhook&quot;,<br>      &quot;position&quot;: [<br>        1200,<br>        140<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;27344649-8029-48ae-867b-7363d904fc59&quot;,<br>      &quot;name&quot;: &quot;Telegram&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.telegram&quot;,<br>      &quot;position&quot;: [<br>        1200,<br>        380<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;text&quot;: &quot;={{ $json.title }}\n{{ $json.youtubeUrl }}&quot;,<br>        &quot;additionalFields&quot;: {<br>          &quot;parse_mode&quot;: &quot;HTML&quot;,<br>          &quot;appendAttribution&quot;: false<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;230c0325-d22a-4070-9460-748a6fef48d5&quot;,<br>      &quot;name&quot;: &quot;Get YouTube URL&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        200,<br>        0<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;3ee42e4c-3cee-4934-97e7-64c96b5691ed&quot;,<br>              &quot;name&quot;: &quot;youtubeUrl&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $json.body.youtubeUrl }}&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;420e90c3-9dfa-4f41-825a-9874b5ebe43a&quot;,<br>      &quot;name&quot;: &quot;YouTube Video ID&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.code&quot;,<br>      &quot;position&quot;: [<br>        400,<br>        0<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;jsCode&quot;: &quot;const extractYoutubeId = (url) =&gt; {\n  // Regex pattern that matches both youtu.be and youtube.com URLs\n  const pattern = /(?:youtube\\.com\\/(?:[^\\/]+\\/.+\\/|(?:v|e(?:mbed)?)\\/|.*[?&amp;]v=)|youtu\\.be\\/)([^\&quot;&amp;?\\/\\s]{11})/;\n  const match = url.match(pattern);\n  return match ? match[1] : null;\n};\n\n// Input URL from previous node\nconst youtubeUrl = items[0].json.youtubeUrl; // Adjust this based on your workflow\n\n// Process the URL and return the video ID\nreturn [{\n  json: {\n    videoId: extractYoutubeId(youtubeUrl)\n  }\n}];\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;a4171c3e-1ff2-40de-af7f-b3971a1ebe79&quot;,<br>      &quot;name&quot;: &quot;Get YouTube Video&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.youTube&quot;,<br>      &quot;position&quot;: [<br>        600,<br>        0<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;videoId&quot;: &quot;={{ $json.videoId }}&quot;,<br>        &quot;resource&quot;: &quot;video&quot;,<br>        &quot;operation&quot;: &quot;get&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;73e6bfc5-8b62-4880-acd4-292f2f692540&quot;,<br>      &quot;name&quot;: &quot;gpt-4o-mini&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.lmChatOpenAi&quot;,<br>      &quot;position&quot;: [<br>        620,<br>        440<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;ea14e296-b30c-46f7-b283-746822ae1af4&quot;,<br>      &quot;name&quot;: &quot;Summarize &amp; Analyze Transcript&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.chainLlm&quot;,<br>      &quot;position&quot;: [<br>        600,<br>        260<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;text&quot;: &quot;=Please analyze the given text and create a structured summary following these guidelines:\n\n1. Break down the content into main topics using Level 2 headers (##)\n2. Under each header:\n   - List only the most essential concepts and key points\n   - Use bullet points for clarity\n   - Keep explanations concise\n   - Preserve technical accuracy\n   - Highlight key terms in bold\n3. Organize the information in this sequence:\n   - Definition/Background\n   - Main characteristics\n   - Implementation details\n   - Advantages/Disadvantages\n4. Format requirements:\n   - Use markdown formatting\n   - Keep bullet points simple (no nesting)\n   - Bold important terms using **term**\n   - Use tables for comparisons\n   - Include relevant technical details\n\nPlease provide a clear, structured summary that captures the core concepts while maintaining technical accuracy.\n\nHere is the text: {{ $json.concatenated_text\n }}&quot;,<br>        &quot;promptType&quot;: &quot;define&quot;<br>      },<br>      &quot;typeVersion&quot;: 1.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;90e3488f-f854-483e-9106-a5760d0c0457&quot;,<br>      &quot;name&quot;: &quot;Concatenate&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.summarize&quot;,<br>      &quot;position&quot;: [<br>        400,<br>        260<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;fieldsToSummarize&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;field&quot;: &quot;text&quot;,<br>              &quot;separateBy&quot;: &quot; &quot;,<br>              &quot;aggregation&quot;: &quot;concatenate&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;9c5c249c-5eeb-4433-ba93-ace4611f4858&quot;,<br>      &quot;name&quot;: &quot;Response Object&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        960,<br>        260<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;bf132004-6636-411f-9d85-0c696fda84c4&quot;,<br>              &quot;name&quot;: &quot;summary&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $json.text }}&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;63c8d0e3-685c-488a-9b45-363cf52479ea&quot;,<br>              &quot;name&quot;: &quot;topics&quot;,<br>              &quot;type&quot;: &quot;array&quot;,<br>              &quot;value&quot;: &quot;=[]&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;171f30cf-34e9-42f3-8735-814024bfde0b&quot;,<br>              &quot;name&quot;: &quot;title&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $(&#39;Get YouTube Video&#39;).item.json.snippet.title }}&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;7f26f5a3-e695-49d1-b1e8-9260c31f1b3d&quot;,<br>              &quot;name&quot;: &quot;description&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $(&#39;Get YouTube Video&#39;).item.json.snippet.description }}&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;d0594232-cb39-453c-b015-3b039c098e1f&quot;,<br>              &quot;name&quot;: &quot;id&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $(&#39;Get YouTube Video&#39;).item.json.id }}&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;17b6ca08-ce89-4467-bd25-0d2d182f7a8b&quot;,<br>              &quot;name&quot;: &quot;youtubeUrl&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $(&#39;Webhook&#39;).item.json.body.youtubeUrl }}&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    }<br>  ],<br>  &quot;pinData&quot;: {},<br>  &quot;connections&quot;: {<br>    &quot;Webhook&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Get YouTube URL&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Split Out&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Concatenate&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Concatenate&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Summarize &amp; Analyze Transcript&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;gpt-4o-mini&quot;: {<br>      &quot;ai_languageModel&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Summarize &amp; Analyze Transcript&quot;,<br>            &quot;type&quot;: &quot;ai_languageModel&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Get YouTube URL&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;YouTube Video ID&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Response Object&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Respond to Webhook&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          },<br>          {<br>            &quot;node&quot;: &quot;Telegram&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;YouTube Video ID&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Get YouTube Video&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Summarize &amp; Analyze Transcript&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Response Object&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    }<br>  }<br>}</div></td></tr><tr style="height: 59px"><th id="0R7" style="height: 59px;" class="row-headers-background"><div class="row-header-wrapper" style="line-height: 59px">8</div></th><td class="s5" dir="ltr">Generador de im√°genes IA Flux</td><td class="s6 softmerge" dir="ltr"><div class="softmerge-inner" style="width:10832px;left:-3px">{<br>  &quot;nodes&quot;: [<br>    {<br>      &quot;id&quot;: &quot;6abe578b-d503-4da5-9af8-f9977de71139&quot;,<br>      &quot;name&quot;: &quot;Vivid Pop Explosion&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;notes&quot;: &quot; &quot;,<br>      &quot;position&quot;: [<br>        380,<br>        980<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;9ec60f33-b940-40a6-9f8a-cb944b7065f1&quot;,<br>              &quot;name&quot;: &quot;stylePrompt&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;=rule of thirds, golden ratio, hyper-maximalist, vibrant neon, high-contrast, octane render, photorealism, 8k ::7 --ar 16:9 --s 1000\n\nDesign a fun, energetic scene filled with bold, neon colors, and playful shapes that pop off the screen. The image should evoke a sense of joy and movement, using fluid, organic forms and exaggerated, cartoon-like proportions. Focus on creating a lively atmosphere with contrasting, saturated tones and dynamic lighting. Use a mix of asymmetrical and balanced compositions to create a playful visual flow. Render in 8K with a hyper-maximalist approach using Octane Render for vibrant, high-gloss textures and photorealistic lighting effects. Include:&quot;<br>            }<br>          ]<br>        },<br>        &quot;includeOtherFields&quot;: true<br>      },<br>      &quot;notesInFlow&quot;: true,<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;7de1ea42-3b18-4bfb-8ea4-a8b6c8d16763&quot;,<br>      &quot;name&quot;: &quot;AI Dystopia&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;notes&quot;: &quot; &quot;,<br>      &quot;position&quot;: [<br>        380,<br>        620<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;9ec60f33-b940-40a6-9f8a-cb944b7065f1&quot;,<br>              &quot;name&quot;: &quot;stylePrompt&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;=golden ratio, rule of thirds, cyberpunk, glitch art, octane render, cinematic realism, 8k ::7 --ar 16:9 --s 1000\n\nGenerate a futuristic, cyberpunk dystopia with metallic textures, digital glitches, and neon lights. Blend cold, dystopian structures with traces of organic life. Use photorealistic lighting and dynamic reflections to enhance the visual depth of the scene. Include:&quot;<br>            }<br>          ]<br>        },<br>        &quot;includeOtherFields&quot;: true<br>      },<br>      &quot;notesInFlow&quot;: true,<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;aa17c288-78e0-48d9-9c60-0e63e351d0b6&quot;,<br>      &quot;name&quot;: &quot;Post-Analog Glitchscape&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;notes&quot;: &quot; &quot;,<br>      &quot;position&quot;: [<br>        380,<br>        420<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;9ec60f33-b940-40a6-9f8a-cb944b7065f1&quot;,<br>              &quot;name&quot;: &quot;stylePrompt&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;=rule of thirds, asymmetric composition, glitch art, pixelation, VHS noise, octane render, unreal engine, 8k ::7 --ar 16:9 --s 1200\nDesign a glitchy, post-analog world with digital decay and broken visuals. Utilize pixelated elements, VHS noise, and neon glitches to create a fragmented aesthetic. Use bold, contrasting colors against muted backgrounds for a high-contrast, otherworldly feel. The composition should follow asymmetrical rules, focusing on chaotic yet intentional visual balance. Include:&quot;<br>            }<br>          ]<br>        },<br>        &quot;includeOtherFields&quot;: true<br>      },<br>      &quot;notesInFlow&quot;: true,<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;769ff46c-630f-456d-ae19-4c6496270fda&quot;,<br>      &quot;name&quot;: &quot;Neon Fauvism&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;notes&quot;: &quot; &quot;,<br>      &quot;position&quot;: [<br>        380,<br>        800<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;9ec60f33-b940-40a6-9f8a-cb944b7065f1&quot;,<br>              &quot;name&quot;: &quot;stylePrompt&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;=asymmetric composition, golden ratio, neon colors, abstract forms, octane render, cinematic realism, unreal engine, 8k ::7 --ar 16:9 --s 1000\nCreate a bold, vivid composition using neon colors and fluid shapes that break away from reality. Focus on abstract forms, blending Fauvism&#39;s exaggerated color palette with modern digital art techniques. Use asymmetric composition and dynamic lighting. Render with a vibrant, high-energy aesthetic. Include:&quot;<br>            }<br>          ]<br>        },<br>        &quot;includeOtherFields&quot;: true<br>      },<br>      &quot;notesInFlow&quot;: true,<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;ccc67dcb-84e6-476a-9bc2-b5382b700d5e&quot;,<br>      &quot;name&quot;: &quot;None&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;notes&quot;: &quot; &quot;,<br>      &quot;position&quot;: [<br>        380,<br>        1160<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;9ec60f33-b940-40a6-9f8a-cb944b7065f1&quot;,<br>              &quot;name&quot;: &quot;stylePrompt&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;=Include: &quot;<br>            }<br>          ]<br>        },<br>        &quot;includeOtherFields&quot;: true<br>      },<br>      &quot;notesInFlow&quot;: true,<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;fea2039c-48e5-4077-af2c-ea72838e1a5d&quot;,<br>      &quot;name&quot;: &quot;Serve webpage&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.respondToWebhook&quot;,<br>      &quot;position&quot;: [<br>        1460,<br>        580<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;respondWith&quot;: &quot;text&quot;,<br>        &quot;responseBody&quot;: &quot;=&lt;!DOCTYPE html&gt;\n&lt;html lang=\&quot;en\&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=\&quot;UTF-8\&quot;&gt;\n    &lt;meta name=\&quot;viewport\&quot; content=\&quot;width=device-width, initial-scale=1.0\&quot;&gt;\n    &lt;title&gt;Flux Image Generation Result&lt;/title&gt;\n    &lt;style&gt;\n        body {\n            font-family: &#39;Open Sans&#39;, Tahoma, Geneva, Verdana, sans-serif;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            min-height: 100vh;\n            background-color: #121212;\n            color: #e0e0e0;\n        }\n        .container {\n            margin-top: 2em;\n            width: 90%;\n            max-width: 670px; /* Increased the max-width for the main image area */\n            text-align: center;\n            background: #1e1e1e;\n            padding: 24px;\n            border-radius: 12px;\n            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);\n            margin-bottom: 24px;\n        }\n        .image-container {\n            margin-bottom: 20px;\n        }\n        .image-container img {\n            max-width: 100%;\n            height: auto;\n            border-radius: 12px;\n            border: 2px solid #333;\n        }\n        .style-text {\n            font-size: 18px;\n            margin-bottom: 20px;\n            color: #bbb;\n        }\n        .cta {\n            display: block;\n            width: 100%;\n            margin: 20px 0 0;\n            padding: 18px 0;\n            border: none;\n            border-radius: 6px;\n            text-decoration: none;\n            color: #fff;\n            background-color: #1C9985;\n            font-size: 18px;\n            font-weight: 400;\n            cursor: pointer;\n            transition: all 0.3s ease;\n        }\n        .cta:hover {\n            background-color: #20B69E;\n            transform: translateY(-2px);\n            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n        }\n        /* New section for recent renders */\n        .recent-renders {\n            display: flex;\n            justify-content: space-between;\n            flex-wrap: wrap;\n            gap: 16px;\n            margin-top: 24px;\n            max-width: 670px;\n        }\n        .recent-render img {\n            width: 100%;\n            max-width: 180px;\n            height: auto;\n            border-radius: 8px;\n            border: 2px solid #333;\n        }\n        .recent-render {\n            flex: 1;\n            max-width: 200px;\n            background-color: #2c2c2c;\n            padding: 10px;\n            border-radius: 10px;\n            margin-bottom: 3 rem;\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div class=\&quot;container\&quot;&gt;\n        &lt;div class=\&quot;image-container\&quot;&gt;\n            &lt;img src=\&quot;https://pub-d2d94462851644a78ea607e05f8a2d25.r2.dev/fg-{{ $execution.id }}.jpg\&quot; alt=\&quot;Generated Image\&quot; /&gt;\n        &lt;/div&gt;\n        &lt;div class=\&quot;style-text\&quot;&gt;Style: {{ $(&#39;Route by style&#39;).item.json.Style }}&lt;/div&gt;\n        &lt;a href=\&quot;https://n8n.io/workflows/2417-flux-ai-image-generator?utm_source=30day\&quot; class=\&quot;cta\&quot;&gt;Duplicate this AI template&lt;/a&gt;\n    &lt;/div&gt;\n    \n    &lt;!-- New section to display the last 4 renders --&gt;\n    &lt;div class=\&quot;recent-renders\&quot;&gt;\n        &lt;div class=\&quot;recent-render\&quot;&gt;\n            &lt;img src=\&quot;https://pub-d2d94462851644a78ea607e05f8a2d25.r2.dev/fg-{{ $execution.id.toNumber() - 1 }}.jpg\&quot; alt=\&quot;Recent Render 1\&quot;&gt;\n        &lt;/div&gt;\n        &lt;div class=\&quot;recent-render\&quot;&gt;\n            &lt;img src=\&quot;https://pub-d2d94462851644a78ea607e05f8a2d25.r2.dev/fg-{{ $execution.id.toNumber() - 2 }}.jpg\&quot; alt=\&quot;Recent Render 2\&quot;&gt;\n        &lt;/div&gt;\n        &lt;div class=\&quot;recent-render\&quot;&gt;\n            &lt;img src=\&quot;https://pub-d2d94462851644a78ea607e05f8a2d25.r2.dev/fg-{{ $execution.id .toNumber() - 3}}.jpg\&quot; alt=\&quot;Recent Render 3\&quot;&gt;\n        &lt;/div&gt;\n        &lt;div class=\&quot;recent-render\&quot;&gt;\n            &lt;img src=\&quot;https://pub-d2d94462851644a78ea607e05f8a2d25.r2.dev/fg-{{ $execution.id.toNumber() - 4 }}.jpg\&quot;&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;2df7b738-9584-48b4-8adc-cafb0c026928&quot;,<br>      &quot;name&quot;: &quot;Respond with error&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.respondToWebhook&quot;,<br>      &quot;position&quot;: [<br>        1460,<br>        820<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;respondWith&quot;: &quot;json&quot;,<br>        &quot;responseBody&quot;: &quot;{\n  \&quot;formSubmittedText\&quot;: \&quot;Flux API failed. It does this ~10% of the time. Refresh and try again.\&quot;\n}&quot;<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;54cba7c4-db24-4abb-9638-ee66236d8676&quot;,<br>      &quot;name&quot;: &quot;Sticky Note&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -20,<br>        440<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 205.9419250888625,<br>        &quot;height&quot;: 107.99633347519193,<br>        &quot;content&quot;: &quot;### Set style prompt\nEach Edit fields node after the Switch sets `stylePrompt`, used in huggingface node.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;f4aa76f8-d35f-4332-aa39-0c34582618eb&quot;,<br>      &quot;name&quot;: &quot;Sticky Note1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        720,<br>        840<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 419.0156901664085,<br>        &quot;height&quot;: 226.2264013670822,<br>        &quot;content&quot;: &quot;### Run flux model\nIn `Call huggingface inference api` You can change `black-forest-labs/FLUX.1-schnell` in URL parameter to other models:\n- `black-forest-labs/FLUX.1-dev`\n- `Shakker-Labs/FLUX.1-dev-LoRA-AntiBlur`\n- `XLabs-AI/flux-RealismLora`\n- `ByteDance/Hyper-SD`\n\n[See more models on huggingface.co](https://huggingface.co/models?pipeline_tag=text-to-image&amp;sort=trending)\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;2b0b29ce-82c2-4428-bf12-cb25262e5291&quot;,<br>      &quot;name&quot;: &quot;Sticky Note2&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1120,<br>        440<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 247.37323750873333,<br>        &quot;height&quot;: 90.99855957953969,<br>        &quot;content&quot;: &quot;### Host image on S3\n[Cloudflare](https://cloudflare.com) has free S3 compatible hosting. They call it \&quot;R2\&quot;.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;6fccc88f-9e72-49a3-952d-b7b1d9612091&quot;,<br>      &quot;name&quot;: &quot;Upload image to S3&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.s3&quot;,<br>      &quot;onError&quot;: &quot;continueErrorOutput&quot;,<br>      &quot;position&quot;: [<br>        1120,<br>        580<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;fileName&quot;: &quot;=fg-{{ $execution.id }}.jpg&quot;,<br>        &quot;operation&quot;: &quot;upload&quot;,<br>        &quot;bucketName&quot;: &quot;flux-generator&quot;,<br>        &quot;additionalFields&quot;: {}<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;s3&quot;: {<br>          &quot;id&quot;: &quot;HZqaz9hPFlZp3BZ7&quot;,<br>          &quot;name&quot;: &quot;S3 account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;7824dc49-c546-424e-8ba9-5f34b190d5f0&quot;,<br>      &quot;name&quot;: &quot;Sticky Note3&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1460,<br>        440<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 302.9292231993488,<br>        &quot;height&quot;: 90.99855957953969,<br>        &quot;content&quot;: &quot;### Respond to Form\nServe a webform with image on success. On error, send message to form.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;71739ba4-b8db-439e-b8c3-06f3208126e3&quot;,<br>      &quot;name&quot;: &quot;Hyper-Surreal Escape&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;notes&quot;: &quot; &quot;,<br>      &quot;position&quot;: [<br>        380,<br>        240<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;9ec60f33-b940-40a6-9f8a-cb944b7065f1&quot;,<br>              &quot;name&quot;: &quot;stylePrompt&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;=golden ratio, rule of thirds, cyberpunk, glitch art, octane render, cinematic realism, 8k ::7 --ar 16:9 --s 1000\nCreate a hyper-realistic yet surreal landscape that bends reality, incorporating dreamlike elements and exaggerated proportions. Use vibrant, almost neon colors, and focus on a sense of wonder, play, and fantasy. Include:\n&quot;<br>            }<br>          ]<br>        },<br>        &quot;includeOtherFields&quot;: true<br>      },<br>      &quot;notesInFlow&quot;: true,<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;dcfdb152-a055-4f0f-baa5-7cf8afba36ae&quot;,<br>      &quot;name&quot;: &quot;Sticky Note4&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -320,<br>        440<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 186.9444130878394,<br>        &quot;height&quot;: 103.99685726445023,<br>        &quot;content&quot;: &quot;### Serve form to user\nCaptures `Prompt to flux` and `Style` from user.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;310f6c63-9441-4332-82dc-09b56e4f625a&quot;,<br>      &quot;name&quot;: &quot;n8n Form Trigger&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.formTrigger&quot;,<br>      &quot;position&quot;: [<br>        -280,<br>        660<br>      ],<br>      &quot;webhookId&quot;: &quot;a35eb005-f795-4c85-9d00-0fe9797cb509&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;path&quot;: &quot;flux4free&quot;,<br>        &quot;options&quot;: {},<br>        &quot;formTitle&quot;: &quot;flux.schnell image generator&quot;,<br>        &quot;formFields&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;fieldType&quot;: &quot;textarea&quot;,<br>              &quot;fieldLabel&quot;: &quot;Prompt to flux&quot;,<br>              &quot;placeholder&quot;: &quot; An astronaut riding a horse in 35mm style&quot;,<br>              &quot;requiredField&quot;: true<br>            },<br>            {<br>              &quot;fieldType&quot;: &quot;dropdown&quot;,<br>              &quot;fieldLabel&quot;: &quot;Style&quot;,<br>              &quot;fieldOptions&quot;: {<br>                &quot;values&quot;: [<br>                  {<br>                    &quot;option&quot;: &quot;Hyper-Surreal Escape&quot;<br>                  },<br>                  {<br>                    &quot;option&quot;: &quot;Neon Fauvism&quot;<br>                  },<br>                  {<br>                    &quot;option&quot;: &quot;Post-Analog Glitchscape&quot;<br>                  },<br>                  {<br>                    &quot;option&quot;: &quot;AI Dystopia&quot;<br>                  },<br>                  {<br>                    &quot;option&quot;: &quot;Vivid Pop Explosion&quot;<br>                  }<br>                ]<br>              }<br>            }<br>          ]<br>        },<br>        &quot;responseMode&quot;: &quot;responseNode&quot;,<br>        &quot;formDescription&quot;: &quot;No ads, no BS. Uses hugginface inference API.&quot;<br>      },<br>      &quot;typeVersion&quot;: 2.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;ad10a84f-851a-40f8-b10e-18356c4eeed6&quot;,<br>      &quot;name&quot;: &quot;Call hugginface inference api&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.httpRequest&quot;,<br>      &quot;notes&quot;: &quot; &quot;,<br>      &quot;onError&quot;: &quot;continueErrorOutput&quot;,<br>      &quot;position&quot;: [<br>        740,<br>        660<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;url&quot;: &quot;https://api-inference.huggingface.co/models/black-forest-labs/FLUX.1-schnell&quot;,<br>        &quot;method&quot;: &quot;POST&quot;,<br>        &quot;options&quot;: {},<br>        &quot;sendBody&quot;: true,<br>        &quot;sendHeaders&quot;: true,<br>        &quot;authentication&quot;: &quot;genericCredentialType&quot;,<br>        &quot;bodyParameters&quot;: {<br>          &quot;parameters&quot;: [<br>            {<br>              &quot;name&quot;: &quot;inputs&quot;,<br>              &quot;value&quot;: &quot;=Depict {{ $json[&#39;Prompt to flux&#39;] }}\n\nStyle: {{ $json.stylePrompt }}&quot;<br>            }<br>          ]<br>        },<br>        &quot;genericAuthType&quot;: &quot;httpHeaderAuth&quot;,<br>        &quot;headerParameters&quot;: {<br>          &quot;parameters&quot;: [<br>            {}<br>          ]<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;httpHeaderAuth&quot;: {<br>          &quot;id&quot;: &quot;r98SNEAnA5arilQO&quot;,<br>          &quot;name&quot;: &quot;huggingface-nathan&quot;<br>        }<br>      },<br>      &quot;notesInFlow&quot;: true,<br>      &quot;typeVersion&quot;: 4.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;e740dd3c-e23e-485b-bb4c-bb0515897a08&quot;,<br>      &quot;name&quot;: &quot;Sticky Note5&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -880,<br>        600<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 506.8102696237577,<br>        &quot;height&quot;: 337.24177957113216,<br>        &quot;content&quot;: &quot;### Watch Set Up Video üëá\n[![Flux Generator](https://uploads.n8n.io/devrel/fluxgenerator.png#full-width)](https://youtu.be/Rv_1jt5WvtY)\n\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;71d01821-3e0d-4c08-8571-58a158817e2c&quot;,<br>      &quot;name&quot;: &quot;Sticky Note6&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -880,<br>        440<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 506.8102696237577,<br>        &quot;height&quot;: 134.27496896630808,<br>        &quot;content&quot;: &quot;# flux image generator\nBuilt by [@maxtkacz](https://x.com/maxtkacz) as part of the [30 Day AI Sprint](https://30dayaisprint.notion.site/)\nCheck out the project&#39;s [Notion page](https://30dayaisprint.notion.site/Flux-image-generator-bc94a8d2de8447c6ab70aacf2c4179f2) for more details&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;0cc26680-ba63-464f-ba84-68c2616f95e2&quot;,<br>      &quot;name&quot;: &quot;Route by style&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.switch&quot;,<br>      &quot;position&quot;: [<br>        0,<br>        640<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;rules&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;outputKey&quot;: &quot;Hyper-Surreal Escape&quot;,<br>              &quot;conditions&quot;: {<br>                &quot;options&quot;: {<br>                  &quot;leftValue&quot;: &quot;&quot;,<br>                  &quot;caseSensitive&quot;: true,<br>                  &quot;typeValidation&quot;: &quot;strict&quot;<br>                },<br>                &quot;combinator&quot;: &quot;and&quot;,<br>                &quot;conditions&quot;: [<br>                  {<br>                    &quot;operator&quot;: {<br>                      &quot;type&quot;: &quot;string&quot;,<br>                      &quot;operation&quot;: &quot;equals&quot;<br>                    },<br>                    &quot;leftValue&quot;: &quot;={{ $json.Style }}&quot;,<br>                    &quot;rightValue&quot;: &quot;Hyper-Surreal Escape&quot;<br>                  }<br>                ]<br>              },<br>              &quot;renameOutput&quot;: true<br>            },<br>            {<br>              &quot;outputKey&quot;: &quot;Post-Analog Glitchscape&quot;,<br>              &quot;conditions&quot;: {<br>                &quot;options&quot;: {<br>                  &quot;leftValue&quot;: &quot;&quot;,<br>                  &quot;caseSensitive&quot;: true,<br>                  &quot;typeValidation&quot;: &quot;strict&quot;<br>                },<br>                &quot;combinator&quot;: &quot;and&quot;,<br>                &quot;conditions&quot;: [<br>                  {<br>                    &quot;id&quot;: &quot;106969fa-994c-4b1e-b693-fc0b48ce5f3d&quot;,<br>                    &quot;operator&quot;: {<br>                      &quot;name&quot;: &quot;filter.operator.equals&quot;,<br>                      &quot;type&quot;: &quot;string&quot;,<br>                      &quot;operation&quot;: &quot;equals&quot;<br>                    },<br>                    &quot;leftValue&quot;: &quot;={{ $json.Style }}&quot;,<br>                    &quot;rightValue&quot;: &quot;Post-Analog Glitchscape&quot;<br>                  }<br>                ]<br>              },<br>              &quot;renameOutput&quot;: true<br>            },<br>            {<br>              &quot;outputKey&quot;: &quot;AI Dystopia&quot;,<br>              &quot;conditions&quot;: {<br>                &quot;options&quot;: {<br>                  &quot;leftValue&quot;: &quot;&quot;,<br>                  &quot;caseSensitive&quot;: true,<br>                  &quot;typeValidation&quot;: &quot;strict&quot;<br>                },<br>                &quot;combinator&quot;: &quot;and&quot;,<br>                &quot;conditions&quot;: [<br>                  {<br>                    &quot;id&quot;: &quot;24318e7d-4dc1-4369-b045-bb7d0a484def&quot;,<br>                    &quot;operator&quot;: {<br>                      &quot;name&quot;: &quot;filter.operator.equals&quot;,<br>                      &quot;type&quot;: &quot;string&quot;,<br>                      &quot;operation&quot;: &quot;equals&quot;<br>                    },<br>                    &quot;leftValue&quot;: &quot;={{ $json.Style }}&quot;,<br>                    &quot;rightValue&quot;: &quot;AI Dystopia&quot;<br>                  }<br>                ]<br>              },<br>              &quot;renameOutput&quot;: true<br>            },<br>            {<br>              &quot;outputKey&quot;: &quot;Neon Fauvism&quot;,<br>              &quot;conditions&quot;: {<br>                &quot;options&quot;: {<br>                  &quot;leftValue&quot;: &quot;&quot;,<br>                  &quot;caseSensitive&quot;: true,<br>                  &quot;typeValidation&quot;: &quot;strict&quot;<br>                },<br>                &quot;combinator&quot;: &quot;and&quot;,<br>                &quot;conditions&quot;: [<br>                  {<br>                    &quot;id&quot;: &quot;a80911ff-67fc-416d-b135-0401c336d6d8&quot;,<br>                    &quot;operator&quot;: {<br>                      &quot;name&quot;: &quot;filter.operator.equals&quot;,<br>                      &quot;type&quot;: &quot;string&quot;,<br>                      &quot;operation&quot;: &quot;equals&quot;<br>                    },<br>                    &quot;leftValue&quot;: &quot;={{ $json.Style }}&quot;,<br>                    &quot;rightValue&quot;: &quot;Neon Fauvism&quot;<br>                  }<br>                ]<br>              },<br>              &quot;renameOutput&quot;: true<br>            },<br>            {<br>              &quot;outputKey&quot;: &quot;Vivid Pop Explosion&quot;,<br>              &quot;conditions&quot;: {<br>                &quot;options&quot;: {<br>                  &quot;leftValue&quot;: &quot;&quot;,<br>                  &quot;caseSensitive&quot;: true,<br>                  &quot;typeValidation&quot;: &quot;strict&quot;<br>                },<br>                &quot;combinator&quot;: &quot;and&quot;,<br>                &quot;conditions&quot;: [<br>                  {<br>                    &quot;id&quot;: &quot;7fdeec28-194e-415e-8da2-8bac90e4c011&quot;,<br>                    &quot;operator&quot;: {<br>                      &quot;name&quot;: &quot;filter.operator.equals&quot;,<br>                      &quot;type&quot;: &quot;string&quot;,<br>                      &quot;operation&quot;: &quot;equals&quot;<br>                    },<br>                    &quot;leftValue&quot;: &quot;={{ $json.Style }}&quot;,<br>                    &quot;rightValue&quot;: &quot;Vivid Pop Explosion&quot;<br>                  }<br>                ]<br>              },<br>              &quot;renameOutput&quot;: true<br>            }<br>          ]<br>        },<br>        &quot;options&quot;: {<br>          &quot;fallbackOutput&quot;: &quot;extra&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3.1<br>    }<br>  ],<br>  &quot;pinData&quot;: {},<br>  &quot;connections&quot;: {<br>    &quot;None&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Call hugginface inference api&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;AI Dystopia&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Call hugginface inference api&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Neon Fauvism&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Call hugginface inference api&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Route by style&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Hyper-Surreal Escape&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;Post-Analog Glitchscape&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Dystopia&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;Neon Fauvism&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;Vivid Pop Explosion&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;None&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;n8n Form Trigger&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Route by style&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Upload image to S3&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Serve webpage&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;Respond with error&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Vivid Pop Explosion&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Call hugginface inference api&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Hyper-Surreal Escape&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Call hugginface inference api&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Post-Analog Glitchscape&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Call hugginface inference api&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Call hugginface inference api&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Upload image to S3&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;Respond with error&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    }<br>  }<br>}</div></td></tr><tr style="height: 59px"><th id="0R8" style="height: 59px;" class="row-headers-background"><div class="row-header-wrapper" style="line-height: 59px">9</div></th><td class="s3" dir="ltr">Crea un chatbot para tu web con tu marca y potenciado con IA</td><td class="s4 softmerge" dir="ltr"><div class="softmerge-inner" style="width:17156px;left:-3px">{<br>  &quot;meta&quot;: {<br>    &quot;instanceId&quot;: &quot;67d4d33d8b0ad4e5e12f051d8ad92fc35893d7f48d7f801bc6da4f39967b3592&quot;,<br>    &quot;templateCredsSetupCompleted&quot;: true<br>  },<br>  &quot;nodes&quot;: [<br>    {<br>      &quot;id&quot;: &quot;22c8d63b-ce3c-4aab-b3f6-4bae8c1b9ec5&quot;,<br>      &quot;name&quot;: &quot;Window Buffer Memory&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.memoryBufferWindow&quot;,<br>      &quot;position&quot;: [<br>        1460,<br>        880<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;sessionKey&quot;: &quot;={{ $json.sessionId }}&quot;,<br>        &quot;sessionIdType&quot;: &quot;customKey&quot;,<br>        &quot;contextWindowLength&quot;: 20<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;45403d5c-6e85-424f-b40b-c6214b57457b&quot;,<br>      &quot;name&quot;: &quot;Respond to Webhook&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.respondToWebhook&quot;,<br>      &quot;position&quot;: [<br>        1880,<br>        580<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;1111262a-1743-4bae-abf1-f69d2e1a580c&quot;,<br>      &quot;name&quot;: &quot;OpenAI Chat Model&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.lmChatOpenAi&quot;,<br>      &quot;position&quot;: [<br>        1360,<br>        760<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;model&quot;: &quot;gpt-4o-2024-08-06&quot;,<br>        &quot;options&quot;: {<br>          &quot;temperature&quot;: 0.4<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;openAiApi&quot;: {<br>          &quot;id&quot;: &quot;XWFTuTtx9oWglhNn&quot;,<br>          &quot;name&quot;: &quot;OpenAi account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;df891547-c715-4dc6-bfcc-c0ac5cfcaf02&quot;,<br>      &quot;name&quot;: &quot;Make Appointment&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.toolHttpRequest&quot;,<br>      &quot;position&quot;: [<br>        1820,<br>        840<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;url&quot;: &quot;https://graph.microsoft.com/v1.0/me/events&quot;,<br>        &quot;method&quot;: &quot;POST&quot;,<br>        &quot;jsonBody&quot;: &quot;{\n  \&quot;subject\&quot;: \&quot;Meetings with &lt;name&gt; at &lt;company&gt;\&quot;,\n  \&quot;start\&quot;: {\n    \&quot;dateTime\&quot;: \&quot;{dateStartTime}\&quot;,\n    \&quot;timeZone\&quot;: \&quot;Europe/London\&quot;\n  },\n  \&quot;end\&quot;: {\n    \&quot;dateTime\&quot;: \&quot;{dateEndTime}\&quot;,\n    \&quot;timeZone\&quot;: \&quot;Europe/London\&quot;\n  },\n  \&quot;body\&quot;: {\n    \&quot;contentType\&quot;: \&quot;HTML\&quot;,\n    \&quot;content\&quot;: \&quot;{reason}\&quot;\n  },\n  \&quot;attendees\&quot;: [\n    {\n      \&quot;emailAddress\&quot;: {\n        \&quot;address\&quot;: \&quot;{email}\&quot;,\n        \&quot;name\&quot;: \&quot;{name}\&quot;\n      },\n      \&quot;type\&quot;: \&quot;required\&quot;\n    }\n  ],\n  \&quot;location\&quot;: {\n    \&quot;displayName\&quot;: \&quot;Online Meeting\&quot;\n  },\n  \&quot;isOnlineMeeting\&quot;: true,\n  \&quot;onlineMeetingProvider\&quot;: \&quot;teamsForBusiness\&quot;,\n  \&quot;showAs\&quot;: \&quot;busy\&quot;,\n  \&quot;categories\&quot;: [\n    \&quot;Meeting\&quot;\n  ]\n}&quot;,<br>        &quot;sendBody&quot;: true,<br>        &quot;sendQuery&quot;: true,<br>        &quot;specifyBody&quot;: &quot;json&quot;,<br>        &quot;authentication&quot;: &quot;predefinedCredentialType&quot;,<br>        &quot;parametersQuery&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;name&quot;: &quot;Content-Type&quot;,<br>              &quot;value&quot;: &quot;application/json&quot;,<br>              &quot;valueProvider&quot;: &quot;fieldValue&quot;<br>            }<br>          ]<br>        },<br>        &quot;toolDescription&quot;: &quot;Call this tool to make the appointment, ensure you send the user email, name, company, reason for the meeting and the appointment start time and the date in ISO String format with timezone for &lt;timezone&gt;. When creating an appointment, always send JSON.&quot;,<br>        &quot;nodeCredentialType&quot;: &quot;microsoftOutlookOAuth2Api&quot;,<br>        &quot;placeholderDefinitions&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;name&quot;: &quot;dateStartTime&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;description&quot;: &quot;The date and start time of the appointment in toISOString format with timezone for Europe/London&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;dateEndTime&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;description&quot;: &quot;The date and end time of the appointment in toISOString format, always 30 minutes after the dateStartTime,  format with timezone for Europe/London&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;reason&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;description&quot;: &quot;Detailed description of the meeting, will be sent to us and the customer&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;email&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;description&quot;: &quot;The customers email address.&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;name&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;description&quot;: &quot;The customers full name, must be second and last name&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;microsoftOutlookOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;E0WY3yUNKgrxIwLU&quot;,<br>          &quot;name&quot;: &quot;Microsoft Outlook Business&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;44141c44-de49-4707-b287-24007c84ca21&quot;,<br>      &quot;name&quot;: &quot;Execute Workflow Trigger&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.executeWorkflowTrigger&quot;,<br>      &quot;position&quot;: [<br>        2160,<br>        580<br>      ],<br>      &quot;parameters&quot;: {},<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;795e1451-57d8-4563-8b86-5a75df2427b6&quot;,<br>      &quot;name&quot;: &quot;varResponse&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        3120,<br>        460<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;c0b6e779-0f7b-41f0-81f8-457f2b31ccfe&quot;,<br>              &quot;name&quot;: &quot;response&quot;,<br>              &quot;type&quot;: &quot;array&quot;,<br>              &quot;value&quot;: &quot;={{ $json.freeTimeSlots.toJsonString() }}&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;4283635f-649c-4cc7-84b9-37524ddb6ce0&quot;,<br>      &quot;name&quot;: &quot;freeTimeSlots&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.code&quot;,<br>      &quot;position&quot;: [<br>        2900,<br>        460<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;jsCode&quot;: &quot;// Input: An array with objects containing a &#39;value&#39; array of events.\nconst businessHoursStart = \&quot;08:00:00Z\&quot;;  // Business hours start time\nconst businessHoursEnd = \&quot;17:30:00Z\&quot;;    // Business hours end time\n\nconst inputData = items[0].json.value;  // Assuming the input data is in the &#39;value&#39; array of the first item\n\n// Function to convert ISO datetime string to a Date object with specified time\nfunction getDateWithTime(dateString, time) {\n  const datePart = new Date(dateString).toISOString().split(\&quot;T\&quot;)[0];  // Extract the date part (YYYY-MM-DD)\n  return new Date(`${datePart}T${time}`);\n}\n\n// Function to get day of the week from a date string\nfunction getDayOfWeek(dateString) {\n  const daysOfWeek = [\&quot;Sunday\&quot;, \&quot;Monday\&quot;, \&quot;Tuesday\&quot;, \&quot;Wednesday\&quot;, \&quot;Thursday\&quot;, \&quot;Friday\&quot;, \&quot;Saturday\&quot;];\n  return daysOfWeek[new Date(dateString).getUTCDay()];\n}\n\n// Function to add days to a date\nfunction addDays(date, days) {\n  const result = new Date(date);\n  result.setDate(result.getDate() + days);\n  return result;\n}\n\n// Function to format date as YYYY-MM-DD\nfunction formatDate(date) {\n  return date.toISOString().split(&#39;T&#39;)[0];\n}\n\n// Determine the default timezone from input data\nconst defaultTimeZone = inputData.length &gt; 0 &amp;&amp; inputData[0].start &amp;&amp; inputData[0].start.timeZone \n  ? inputData[0].start.timeZone \n  : \&quot;UTC\&quot;;\n\n// Find min and max dates in the input\nlet minDate = null;\nlet maxDate = null;\n\ninputData.forEach(event =&gt; {\n  if (event.start &amp;&amp; event.start.dateTime) {\n    const eventDate = new Date(event.start.dateTime);\n    if (!minDate || eventDate &lt; minDate) {\n      minDate = eventDate;\n    }\n    if (!maxDate || eventDate &gt; maxDate) {\n      maxDate = eventDate;\n    }\n  }\n});\n\n// If we have valid dates, ensure they&#39;re at the start of the day\nif (minDate &amp;&amp; maxDate) {\n  minDate = new Date(minDate.toISOString().split(&#39;T&#39;)[0]);\n  maxDate = new Date(maxDate.toISOString().split(&#39;T&#39;)[0]);\n}\n\n// Organise events by date\nconst eventsByDate = {};\ninputData.forEach(event =&gt; {\n  if (event.start &amp;&amp; event.start.dateTime) {\n    const eventDate = new Date(event.start.dateTime).toISOString().split(\&quot;T\&quot;)[0];  // Extract the date\n    if (!eventsByDate[eventDate]) {\n      eventsByDate[eventDate] = [];\n    }\n    if (event.showAs === \&quot;busy\&quot;) {\n      eventsByDate[eventDate].push({\n        start: new Date(event.start.dateTime),\n        end: new Date(event.end.dateTime),\n        timeZone: event.start.timeZone || defaultTimeZone\n      });\n    }\n  }\n});\n\n// Find free slots within business hours for each date\nconst freeTimeSlots = [];\n\n// Process all dates in the range\nif (minDate &amp;&amp; maxDate) {\n  for (let currentDate = new Date(minDate); currentDate &lt;= maxDate; currentDate = addDays(currentDate, 1)) {\n    const dateStr = formatDate(currentDate);\n    const busyEvents = eventsByDate[dateStr] || [];\n    \n    // Define business start and end times for the current date\n    const businessStart = getDateWithTime(dateStr, businessHoursStart);\n    const businessEnd = getDateWithTime(dateStr, businessHoursEnd);\n    \n    // If there are no busy events for this date, add the entire business day as free\n    if (busyEvents.length === 0) {\n      freeTimeSlots.push({\n        date: dateStr,\n        dayOfWeek: getDayOfWeek(dateStr),\n        freeStart: businessStart.toISOString(),\n        freeEnd: businessEnd.toISOString(),\n        timeZone: defaultTimeZone\n      });\n      continue; // Skip to the next date\n    }\n    \n    // Sort events by their start time\n    busyEvents.sort((a, b) =&gt; a.start - b.start);\n    \n    // Check if there&#39;s free time before the first busy event\n    if (busyEvents[0].start &gt; businessStart) {\n      freeTimeSlots.push({\n        date: dateStr,\n        dayOfWeek: getDayOfWeek(dateStr),\n        freeStart: businessStart.toISOString(),\n        freeEnd: busyEvents[0].start.toISOString(),\n        timeZone: busyEvents[0].timeZone\n      });\n    }\n    \n    // Check for gaps between busy events\n    for (let i = 0; i &lt; busyEvents.length - 1; i++) {\n      if (busyEvents[i].end &lt; busyEvents[i+1].start) {\n        freeTimeSlots.push({\n          date: dateStr,\n          dayOfWeek: getDayOfWeek(dateStr),\n          freeStart: busyEvents[i].end.toISOString(),\n          freeEnd: busyEvents[i+1].start.toISOString(),\n          timeZone: busyEvents[i].timeZone\n        });\n      }\n    }\n    \n    // Check if there&#39;s free time after the last busy event\n    if (busyEvents[busyEvents.length - 1].end &lt; businessEnd) {\n      freeTimeSlots.push({\n        date: dateStr,\n        dayOfWeek: getDayOfWeek(dateStr),\n        freeStart: busyEvents[busyEvents.length - 1].end.toISOString(),\n        freeEnd: businessEnd.toISOString(),\n        timeZone: busyEvents[busyEvents.length - 1].timeZone\n      });\n    }\n  }\n}\n\n// Output the free time slots\nreturn [{ json: { freeTimeSlots } }];\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;0786b561-449e-4c8f-bddb-c2bbd95dc197&quot;,<br>      &quot;name&quot;: &quot;Get Events&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.httpRequest&quot;,<br>      &quot;position&quot;: [<br>        2680,<br>        460<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;url&quot;: &quot;=https://graph.microsoft.com/v1.0/me/calendarView&quot;,<br>        &quot;options&quot;: {},<br>        &quot;sendQuery&quot;: true,<br>        &quot;sendHeaders&quot;: true,<br>        &quot;authentication&quot;: &quot;predefinedCredentialType&quot;,<br>        &quot;queryParameters&quot;: {<br>          &quot;parameters&quot;: [<br>            {<br>              &quot;name&quot;: &quot;startDateTime&quot;,<br>              &quot;value&quot;: &quot;={{ new Date(new Date().setDate(new Date().getDate() + 2)).toISOString() }}&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;endDateTime&quot;,<br>              &quot;value&quot;: &quot;={{ new Date(new Date().setDate(new Date().getDate() + 16)).toISOString() }}&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;$top&quot;,<br>              &quot;value&quot;: &quot;50&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;select&quot;,<br>              &quot;value&quot;: &quot;start,end,categories,importance,isAllDay,recurrence,showAs,subject,type&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;orderby&quot;,<br>              &quot;value&quot;: &quot;start/dateTime asc&quot;<br>            }<br>          ]<br>        },<br>        &quot;headerParameters&quot;: {<br>          &quot;parameters&quot;: [<br>            {<br>              &quot;name&quot;: &quot;Prefer&quot;,<br>              &quot;value&quot;: &quot;outlook.timezone=\&quot;Europe/London\&quot;&quot;<br>            }<br>          ]<br>        },<br>        &quot;nodeCredentialType&quot;: &quot;microsoftOutlookOAuth2Api&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;microsoftOutlookOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;E0WY3yUNKgrxIwLU&quot;,<br>          &quot;name&quot;: &quot;Microsoft Outlook Business&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 4.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;55c4233e-d395-4193-9a1d-1884faed6f1e&quot;,<br>      &quot;name&quot;: &quot;Get Availability&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.toolWorkflow&quot;,<br>      &quot;position&quot;: [<br>        1760,<br>        1080<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;name&quot;: &quot;Get_availability&quot;,<br>        &quot;fields&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;name&quot;: &quot;route&quot;,<br>              &quot;stringValue&quot;: &quot;availability&quot;<br>            }<br>          ]<br>        },<br>        &quot;workflowId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;KD21RG8VeXYDS2Vf&quot;,<br>          &quot;cachedResultName&quot;: &quot;Website Chatbot&quot;<br>        },<br>        &quot;description&quot;: &quot;Call this tool to check my calendar for availability before booking an appointment. This will result in all events for the next 2 weeks. Review all events and do not double book.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;096d1962-31e6-4b3b-ba75-7956f70a6a32&quot;,<br>      &quot;name&quot;: &quot;Send Message&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.toolWorkflow&quot;,<br>      &quot;position&quot;: [<br>        1620,<br>        1080<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;name&quot;: &quot;Send_email&quot;,<br>        &quot;fields&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;name&quot;: &quot;route&quot;,<br>              &quot;stringValue&quot;: &quot;message&quot;<br>            }<br>          ]<br>        },<br>        &quot;workflowId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;KD21RG8VeXYDS2Vf&quot;,<br>          &quot;cachedResultName&quot;: &quot;Website Chatbot&quot;<br>        },<br>        &quot;description&quot;: &quot;Call this tool when the customer wants to speak to a human, or is not ready to make an appointment or if the customer has questions outside of your remit. The tool will send an email to our founder, &lt;insert name&gt;. Always send the customer&#39;s full name, company and email address along with a detailed message about the enquiry. You must always gather project details.&quot;,<br>        &quot;jsonSchemaExample&quot;: &quot;{\n\t\&quot;email\&quot;: \&quot;the customer&#39;s email\&quot;,\n    \&quot;subject\&quot;: \&quot;the subject of the email\&quot;,\n    \&quot;message\&quot;: \&quot;The customer&#39;s enquiry, must be a detailed description of their enquiry\&quot;,\n    \&quot;name\&quot;: \&quot;the customer&#39;s full name\&quot;,\n    \&quot;company\&quot;: \&quot;the customer company name\&quot;\n}&quot;,<br>        &quot;specifyInputSchema&quot;: true<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;285ddd31-5412-4d1c-ab80-d9960ec902bb&quot;,<br>      &quot;name&quot;: &quot;Chat Trigger&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.chatTrigger&quot;,<br>      &quot;disabled&quot;: true,<br>      &quot;position&quot;: [<br>        620,<br>        600<br>      ],<br>      &quot;webhookId&quot;: &quot;f406671e-c954-4691-b39a-66c90aa2f103&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;mode&quot;: &quot;webhook&quot;,<br>        &quot;public&quot;: true,<br>        &quot;options&quot;: {<br>          &quot;responseMode&quot;: &quot;responseNode&quot;,<br>          &quot;allowedOrigins&quot;: &quot;*&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;032a26e9-6853-490d-991b-b2af2d845f58&quot;,<br>      &quot;name&quot;: &quot;Switch&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.switch&quot;,<br>      &quot;position&quot;: [<br>        2380,<br>        580<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;rules&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;outputKey&quot;: &quot;availability&quot;,<br>              &quot;conditions&quot;: {<br>                &quot;options&quot;: {<br>                  &quot;version&quot;: 2,<br>                  &quot;leftValue&quot;: &quot;&quot;,<br>                  &quot;caseSensitive&quot;: true,<br>                  &quot;typeValidation&quot;: &quot;strict&quot;<br>                },<br>                &quot;combinator&quot;: &quot;and&quot;,<br>                &quot;conditions&quot;: [<br>                  {<br>                    &quot;operator&quot;: {<br>                      &quot;type&quot;: &quot;string&quot;,<br>                      &quot;operation&quot;: &quot;equals&quot;<br>                    },<br>                    &quot;leftValue&quot;: &quot;={{ $json.route }}&quot;,<br>                    &quot;rightValue&quot;: &quot;availability&quot;<br>                  }<br>                ]<br>              },<br>              &quot;renameOutput&quot;: true<br>            },<br>            {<br>              &quot;outputKey&quot;: &quot;message&quot;,<br>              &quot;conditions&quot;: {<br>                &quot;options&quot;: {<br>                  &quot;version&quot;: 2,<br>                  &quot;leftValue&quot;: &quot;&quot;,<br>                  &quot;caseSensitive&quot;: true,<br>                  &quot;typeValidation&quot;: &quot;strict&quot;<br>                },<br>                &quot;combinator&quot;: &quot;and&quot;,<br>                &quot;conditions&quot;: [<br>                  {<br>                    &quot;id&quot;: &quot;52fd844b-cc8d-471f-a56a-40e119b66194&quot;,<br>                    &quot;operator&quot;: {<br>                      &quot;name&quot;: &quot;filter.operator.equals&quot;,<br>                      &quot;type&quot;: &quot;string&quot;,<br>                      &quot;operation&quot;: &quot;equals&quot;<br>                    },<br>                    &quot;leftValue&quot;: &quot;={{ $json.route }}&quot;,<br>                    &quot;rightValue&quot;: &quot;message&quot;<br>                  }<br>                ]<br>              },<br>              &quot;renameOutput&quot;: true<br>            }<br>          ]<br>        },<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 3.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;c74905ce-4fd9-486c-abc4-b0b1d57d71a8&quot;,<br>      &quot;name&quot;: &quot;varMessageResponse&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        2900,<br>        700<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {<br>          &quot;ignoreConversionErrors&quot;: false<br>        },<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;0d2ad084-9707-4979-84e4-297d1c21f725&quot;,<br>              &quot;name&quot;: &quot;response&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $json }}&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;04c5d43c-1629-4e11-a6bb-ae73369d7002&quot;,<br>      &quot;name&quot;: &quot;Send Message1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.microsoftOutlook&quot;,<br>      &quot;position&quot;: [<br>        2680,<br>        700<br>      ],<br>      &quot;webhookId&quot;: &quot;d8acc2cb-fcba-4312-a743-e74abe76d071&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;subject&quot;: &quot;={{ $(&#39;Execute Workflow Trigger&#39;).item.json.query.subject }}&quot;,<br>        &quot;bodyContent&quot;: &quot;=&lt;!DOCTYPE html PUBLIC \&quot;-//W3C//DTD XHTML 1.0 Transitional//EN\&quot; \&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\&quot;&gt;\n&lt;html xmlns=\&quot;http://www.w3.org/1999/xhtml\&quot;&gt;\n&lt;head&gt;\n    &lt;meta http-equiv=\&quot;Content-Type\&quot; content=\&quot;text/html; charset=UTF-8\&quot; /&gt;\n    &lt;meta name=\&quot;viewport\&quot; content=\&quot;width=device-width, initial-scale=1.0\&quot; /&gt;\n    &lt;title&gt;New Webchat Customer Enquiry&lt;/title&gt;\n    &lt;style type=\&quot;text/css\&quot;&gt;\n        /* Client-specific styles */\n        body, table, td, a { -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; }\n        table, td { mso-table-lspace: 0pt; mso-table-rspace: 0pt; }\n        img { -ms-interpolation-mode: bicubic; }\n\n        /* Reset styles */\n        body { margin: 0; padding: 0; }\n        img { border: 0; height: auto; line-height: 100%; outline: none; text-decoration: none; }\n        table { border-collapse: collapse !important; }\n        body { height: 100% !important; margin: 0; padding: 0; width: 100% !important; }\n\n        /* iOS BLUE LINKS */\n        a[x-apple-data-detectors] {\n            color: inherit !important;\n            text-decoration: none !important;\n            font-size: inherit !important;\n            font-family: inherit !important;\n            font-weight: inherit !important;\n            line-height: inherit !important;\n        }\n\n        /* Styles for Outlook and other email clients */\n        .ExternalClass { width: 100%; }\n        .ExternalClass, .ExternalClass p, .ExternalClass span, .ExternalClass font, .ExternalClass td, .ExternalClass div { line-height: 100%; }\n        \n        /* Responsive styles */\n        @media screen and (max-width: 600px) {\n            .container { width: 100% !important; }\n            .content { padding: 15px !important; }\n            .field { padding: 10px !important; }\n            .header h1 { font-size: 20px !important; }\n            .header p { font-size: 12px !important; }\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body style=\&quot;margin: 0; padding: 0; background-color: #f4f4f4;\&quot;&gt;\n    &lt;table border=\&quot;0\&quot; cellpadding=\&quot;0\&quot; cellspacing=\&quot;0\&quot; width=\&quot;100%\&quot;&gt;\n        &lt;tr&gt;\n            &lt;td&gt;\n                &lt;table align=\&quot;center\&quot; border=\&quot;0\&quot; cellpadding=\&quot;0\&quot; cellspacing=\&quot;0\&quot; width=\&quot;600\&quot; style=\&quot;border-collapse: collapse; background-color: #ffffff;\&quot;&gt;\n                    &lt;tr&gt;\n                        &lt;td align=\&quot;center\&quot; bgcolor=\&quot;#1a1a1a\&quot; style=\&quot;padding: 30px 0; background: linear-gradient(135deg, #1a1a1a 0%, #2d1f3d 100%);\&quot;&gt;\n                            &lt;h1 style=\&quot;color: #ffffff; font-family: Arial, sans-serif; font-size: 24px; font-weight: 700; margin: 0; text-transform: uppercase; letter-spacing: 1px;\&quot;&gt;New Customer Enquiry&lt;/h1&gt;\n                            &lt;p style=\&quot;color: #ffffff; font-family: Arial, sans-serif; font-size: 14px; line-height: 20px; margin: 10px 0 0; opacity: 0.8;\&quot;&gt;A potential client has reached out through our webchat&lt;/p&gt;\n                        &lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td style=\&quot;padding: 20px;\&quot;&gt;\n                            &lt;table border=\&quot;0\&quot; cellpadding=\&quot;0\&quot; cellspacing=\&quot;0\&quot; width=\&quot;100%\&quot;&gt;\n                                &lt;tr&gt;\n                                    &lt;td style=\&quot;padding: 15px; background-color: #f9f9f9; border: 1px solid #e0e0e0; border-radius: 8px;\&quot;&gt;\n                                        &lt;p style=\&quot;font-family: Arial, sans-serif; font-size: 14px; line-height: 1.6; color: #6a1b9a; font-weight: bold; margin: 0 0 5px 0;\&quot;&gt;FROM&lt;/p&gt;\n                                        &lt;p style=\&quot;font-family: Arial, sans-serif; font-size: 16px; line-height: 1.6; color: #333333; margin: 0;\&quot;&gt;{{ $(&#39;Execute Workflow Trigger&#39;).item.json.query.name }}&lt;/p&gt;\n                                    &lt;/td&gt;\n                                &lt;/tr&gt;\n                                &lt;tr&gt;&lt;td height=\&quot;20\&quot;&gt;&lt;/td&gt;&lt;/tr&gt;\n                                &lt;tr&gt;\n                                    &lt;td style=\&quot;padding: 15px; background-color: #f9f9f9; border: 1px solid #e0e0e0; border-radius: 8px;\&quot;&gt;\n                                        &lt;p style=\&quot;font-family: Arial, sans-serif; font-size: 14px; line-height: 1.6; color: #6a1b9a; font-weight: bold; margin: 0 0 5px 0;\&quot;&gt;EMAIL&lt;/p&gt;\n                                        &lt;p style=\&quot;font-family: Arial, sans-serif; font-size: 16px; line-height: 1.6; color: #333333; margin: 0;\&quot;&gt;{{ $(&#39;Execute Workflow Trigger&#39;).item.json.query.email }}&lt;/p&gt;\n                                    &lt;/td&gt;\n                                &lt;/tr&gt;\n                                &lt;tr&gt;&lt;td height=\&quot;20\&quot;&gt;&lt;/td&gt;&lt;/tr&gt;\n                                &lt;tr&gt;\n                                    &lt;td style=\&quot;padding: 15px; background-color: #f9f9f9; border: 1px solid #e0e0e0; border-radius: 8px;\&quot;&gt;\n                                        &lt;p style=\&quot;font-family: Arial, sans-serif; font-size: 14px; line-height: 1.6; color: #6a1b9a; font-weight: bold; margin: 0 0 5px 0;\&quot;&gt;COMPANY&lt;/p&gt;\n                                        &lt;p style=\&quot;font-family: Arial, sans-serif; font-size: 16px; line-height: 1.6; color: #333333; margin: 0;\&quot;&gt;{{ $(&#39;Execute Workflow Trigger&#39;).item.json.query.company }}&lt;/p&gt;\n                                    &lt;/td&gt;\n                                &lt;/tr&gt;\n                                &lt;tr&gt;&lt;td height=\&quot;20\&quot;&gt;&lt;/td&gt;&lt;/tr&gt;\n                                &lt;tr&gt;\n                                    &lt;td style=\&quot;padding: 15px; background-color: #f9f9f9; border: 1px solid #e0e0e0; border-radius: 8px;\&quot;&gt;\n                                        &lt;p style=\&quot;font-family: Arial, sans-serif; font-size: 14px; line-height: 1.6; color: #6a1b9a; font-weight: bold; margin: 0 0 5px 0;\&quot;&gt;MESSAGE&lt;/p&gt;\n                                        &lt;p style=\&quot;font-family: Arial, sans-serif; font-size: 16px; line-height: 1.6; color: #333333; margin: 0;\&quot;&gt;{{ $(&#39;Execute Workflow Trigger&#39;).item.json.query.message }}&lt;/p&gt;\n                                    &lt;/td&gt;\n                                &lt;/tr&gt;\n                            &lt;/table&gt;\n                        &lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td align=\&quot;center\&quot; bgcolor=\&quot;#e90ebb\&quot; style=\&quot;padding: 20px; background: linear-gradient(135deg, #e90ebb 0%, #6a1b9a 100%);\&quot;&gt;\n                            &lt;p style=\&quot;font-family: Arial, sans-serif; font-size: 14px; line-height: 20px; color: #ffffff; margin: 0;\&quot;&gt;This enquiry was automatically generated from our website&#39;s chat interface.&lt;/p&gt;\n                        &lt;/td&gt;\n                    &lt;/tr&gt;\n                &lt;/table&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n&lt;/body&gt;\n&lt;/html&gt;&quot;,<br>        &quot;toRecipients&quot;: &quot;you@yourdomain.com&quot;,<br>        &quot;additionalFields&quot;: {<br>          &quot;importance&quot;: &quot;High&quot;,<br>          &quot;bodyContentType&quot;: &quot;html&quot;<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;microsoftOutlookOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;E0WY3yUNKgrxIwLU&quot;,<br>          &quot;name&quot;: &quot;Microsoft Outlook Business&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;5a2636f1-47d3-4421-840b-56553bf14d82&quot;,<br>      &quot;name&quot;: &quot;Sticky Note&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1580,<br>        1000<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 311.6936390497898,<br>        &quot;height&quot;: 205.34013605442183,<br>        &quot;content&quot;: &quot;Ensure these referance this workflow, replace placeholders&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;a9fe05d4-6b86-4313-9f11-b20e3ce7db89&quot;,<br>      &quot;name&quot;: &quot;Sticky Note1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        2600,<br>        380<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 468,<br>        &quot;height&quot;: 238,<br>        &quot;content&quot;: &quot;modify business hours\nmodify timezones&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;5dfda5c9-eeeb-421a-a80d-f42c94602080&quot;,<br>      &quot;name&quot;: &quot;AI Agent&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.agent&quot;,<br>      &quot;position&quot;: [<br>        1460,<br>        580<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;text&quot;: &quot;={{ $json.chatInput }}&quot;,<br>        &quot;options&quot;: {<br>          &quot;systemMessage&quot;: &quot;=You are an intelligent personal assistant to Wayne, Founder at nocodecreative.io (ai consultancy and software development agency) responsible for coordinating appointments and gathering relevant information from customers. Your tasks are to:\n\n- Understand when the customer is available by asking for suitable days and times (ensuring they are aware we are in a UK timezone)\n- Check the calendar to identify available slots that match their preferences. Pay attention to each event&#39;s start and end time and do not double book, you will be given all events for the next 14 days\n- Ask the customer what they would like to discuss during the appointment to ensure proper preparation.\n- Get the customer&#39;s name, company name and email address to book the appointment\n- Make the conversation friendly and natural. Confirm the appointment details with the customer and let them know I‚Äôll be ready to discuss what they‚Äôd like.\n- After you have checked the calendar, book the appointment accordingly, without double booking. Confirm the customer&#39;s timezone and adjust the appointment for EU/London.\n- If the customer isn&#39;t ready to book, you can send an email for a human to respond to, ensure you gather a detailed enquiry from the customer including contact details and project information.Ensure the message contains enough information for a human to respond, always include project details, if the customer hasn&#39;t provided project details, ask.\n- Alwways suggest an appointment before sending a message, appointment are you primary goal, message are a fall back\n\nExample questions:\n\n\&quot;Hi there! we&#39;d love to help arrange a time that works for us to meet. Could you let us know which days and times are best for you? We‚Äôll check the calendar and book in a suitable slot.\&quot;\n\n\&quot;Could you please let us know what you‚Äôd like to discuss during the appointment? This helps us prepare in advance and make our time together as productive as possible.\&quot;\n\n\&quot;Before we put you in touch with a human, please can you provide more information about the project you have in mind?\&quot; //You must gather project info at all times, even if the enquiry is about pricing/costs.\n\nIf the time the customer suggests is not available, suggest the nearest alternative appointment based on existing events, do not book an appointment outside of freeTimeSlots\n\nImportant information:\n- All appointments need 48 hours&#39; notice from {{ \n  new Date().toLocaleString(\&quot;en-GB\&quot;, { timeZone: \&quot;Europe/London\&quot;, hour12: false })\n  .split(\&quot;, \&quot;)[0].split(\&quot;/\&quot;).reverse().join(\&quot;-\&quot;) \n  + \&quot;T\&quot; + new Date().toLocaleTimeString(\&quot;en-GB\&quot;, { timeZone: \&quot;Europe/London\&quot;, hour12: false }) + \&quot;:00.000Z\&quot; \n}} (current date and time in the UK) // this is non-negotiable, but discuss with care and be friendly, only let the customer know this if required\n- Business hours are 8am - 6pm Monday to Friday only Europe/London timezone, ensure the customer is aware of this and help them book during UK hours, you must confirm their timezone to do this!\n- Do not book appointments on a Saturday or sunday\n- Do not book appointments outside of freeTimeSlots\n- Always check the next 14 days, and review all events before providing availability \n- All appointments are for a max of 30 minutes\n- You must never offer an appointment without checking the calendar, if you cannot check the calendar, you cannot book and must let the customer know you can not book an appointment right now.\n- Always offer the soonest appointment available if the customer&#39;s preferred time is unavailable\n- When confirming an appointment, be thankful and excited!\n- Initial 30 minute consultation are free of charge\n\n\nMessages and description:\n- When creating descriptions or sending messages, always ensure enough detail is provided for preparation, meaning you can ask follow-up questions to extract further information as required. For example, if a customer asks about pricing, gather some information about the project so our team can provide accurate pricing, and apply this logic throughout\n\nComments:\n//!IMPORTANT! Do not offer any times without checking the calendar, do not make availability up\n//**Do not discuss anything other than appointment booking, if the query does not relate to an appointment, advise them you cannot help at this time.** be friendly and always offer to book an appointment to discuss their query\n//When the appointment is confirmed, let the customer know, by name, that they will be meeting our founder, Wayne for a 30 minute consultation, and that they will receive a calendar invite by email, ensure they accept the invite to confirm the appointment.\n//Always respond as a highly professional executive PA, remember this is the customer&#39;s first engagement, they do not know us or Wayne at this stage\n//Do not refer to yourself as me or I, instead communicate like an organisation, using terms like &#39;us&#39;\n//Always gather project for descriptions and messages&quot;<br>        },<br>        &quot;promptType&quot;: &quot;define&quot;<br>      },<br>      &quot;typeVersion&quot;: 1.6<br>    },<br>    {<br>      &quot;id&quot;: &quot;6156ab7e-d411-46b9-ac44-52ad56ee563d&quot;,<br>      &quot;name&quot;: &quot;If&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.if&quot;,<br>      &quot;position&quot;: [<br>        840,<br>        600<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;conditions&quot;: {<br>          &quot;options&quot;: {<br>            &quot;version&quot;: 2,<br>            &quot;leftValue&quot;: &quot;&quot;,<br>            &quot;caseSensitive&quot;: true,<br>            &quot;typeValidation&quot;: &quot;strict&quot;<br>          },<br>          &quot;combinator&quot;: &quot;and&quot;,<br>          &quot;conditions&quot;: [<br>            {<br>              &quot;id&quot;: &quot;158a0b91-534d-4745-b10e-8a7c97050861&quot;,<br>              &quot;operator&quot;: {<br>                &quot;type&quot;: &quot;string&quot;,<br>                &quot;operation&quot;: &quot;exists&quot;,<br>                &quot;singleValue&quot;: true<br>              },<br>              &quot;leftValue&quot;: &quot;={{ $json.chatInput }}&quot;,<br>              &quot;rightValue&quot;: &quot;&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;c94171a9-a71d-4f63-bef6-e90361c57abd&quot;,<br>      &quot;name&quot;: &quot;Respond With Initial Message&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.respondToWebhook&quot;,<br>      &quot;position&quot;: [<br>        1140,<br>        720<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;respondWith&quot;: &quot;json&quot;,<br>        &quot;responseBody&quot;: &quot;{\n  \&quot;output\&quot;: \&quot;Hi, how can I help you today?\&quot;\n}&quot;<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;43129771-e976-41af-8adb-88cb5465628d&quot;,<br>      &quot;name&quot;: &quot;Sticky Note8&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1340,<br>        -240<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 6,<br>        &quot;width&quot;: 668,<br>        &quot;height&quot;: 111,<br>        &quot;content&quot;: &quot;# Custom Branded n8n Chatbot\nBuilt by [Wayne Simpson](https://www.linkedin.com/in/simpsonwayne/) at [nocodecreative.io](https://nocodecreative.io)\n‚òï If you find this useful, feel free to [buy me a coffee](https://ko-fi.com/waynesimpson)&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;bb890f44-caf0-4b7d-b95e-0c05c70e8f45&quot;,<br>      &quot;name&quot;: &quot;Sticky Note9&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1000,<br>        -80<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 667,<br>        &quot;height&quot;: 497,<br>        &quot;content&quot;: &quot;# Watch the Setup Video üì∫\n### Watch Set Up Video üëá\n[![Auto Categorise Outlook Emails with AI](https://cdn.jsdelivr.net/gh/WayneSimpson/n8n-chatbot-template/custom-branded-chatbot.png)](https://youtu.be/xQ1tCQZhLaI)\n\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;f0b054cc-f961-4c48-846c-a80ea5e49924&quot;,<br>      &quot;name&quot;: &quot;Sticky Note2&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1700,<br>        -80<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 600,<br>        &quot;height&quot;: 500,<br>        &quot;content&quot;: &quot;## Read to blog post to get started üìù\n**Follow along to add a custom branded chat widget to your webiste**\n\n[![Custom Branded n8n Chatbot](https://cdn.jsdelivr.net/gh/WayneSimpson/n8n-chatbot-template/chat%20widget.png)](https://blog.nocodecreative.io/create-a-branded-ai-powered-website-chatbot-with-n8n/)&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;210cef85-6fbe-413e-88b6-b0fed76212ac&quot;,<br>      &quot;name&quot;: &quot;Sticky Note3&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        2600,<br>        640<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 4,<br>        &quot;width&quot;: 260,<br>        &quot;height&quot;: 240,<br>        &quot;content&quot;: &quot;Customise the email template&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;17abc6bd-06c3-48e7-8380-e10024daa9f5&quot;,<br>      &quot;name&quot;: &quot;Sticky Note4&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1760,<br>        740<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 6,<br>        &quot;width&quot;: 208,<br>        &quot;height&quot;: 238,<br>        &quot;content&quot;: &quot;modify timezones&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    }<br>  ],<br>  &quot;pinData&quot;: {<br>    &quot;Execute Workflow Trigger&quot;: [<br>      {<br>        &quot;query&quot;: &quot;Check availability for Monday at 9am&quot;,<br>        &quot;route&quot;: &quot;availability&quot;<br>      }<br>    ]<br>  },<br>  &quot;connections&quot;: {<br>    &quot;If&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Agent&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;Respond With Initial Message&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Switch&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Get Events&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;Send Message1&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;AI Agent&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Respond to Webhook&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Get Events&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;freeTimeSlots&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Chat Trigger&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;If&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Send Message&quot;: {<br>      &quot;ai_tool&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Agent&quot;,<br>            &quot;type&quot;: &quot;ai_tool&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Send Message1&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;varMessageResponse&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;freeTimeSlots&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;varResponse&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Get Availability&quot;: {<br>      &quot;ai_tool&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Agent&quot;,<br>            &quot;type&quot;: &quot;ai_tool&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Make Appointment&quot;: {<br>      &quot;ai_tool&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Agent&quot;,<br>            &quot;type&quot;: &quot;ai_tool&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;OpenAI Chat Model&quot;: {<br>      &quot;ai_languageModel&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Agent&quot;,<br>            &quot;type&quot;: &quot;ai_languageModel&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Window Buffer Memory&quot;: {<br>      &quot;ai_memory&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Agent&quot;,<br>            &quot;type&quot;: &quot;ai_memory&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Execute Workflow Trigger&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Switch&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    }<br>  }<br>}</div></td></tr><tr style="height: 59px"><th id="0R9" style="height: 59px;" class="row-headers-background"><div class="row-header-wrapper" style="line-height: 59px">10</div></th><td class="s5" dir="ltr">Genera contenido para Instagram desde tendencias usando generaci√≥n de im√°genes con IA</td><td class="s6 softmerge" dir="ltr"><div class="softmerge-inner" style="width:3865px;left:-3px">{<br>  &quot;id&quot;: &quot;H7porcmXYj7StO23&quot;,<br>  &quot;meta&quot;: {<br>    &quot;instanceId&quot;: &quot;35409808e3cc9dd8ecfa6f7b93ae931f074920a2f681e667da8974c0ecf81c52&quot;,<br>    &quot;templateId&quot;: &quot;2537&quot;,<br>    &quot;templateCredsSetupCompleted&quot;: true<br>  },<br>  &quot;name&quot;: &quot;Generate Instagram Content from Top Trends with AI Image Generation&quot;,<br>  &quot;tags&quot;: [],<br>  &quot;nodes&quot;: [<br>    {<br>      &quot;id&quot;: &quot;8c49be2b-6320-4eb0-8303-6448ced34636&quot;,<br>      &quot;name&quot;: &quot;If media status is finished&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.if&quot;,<br>      &quot;position&quot;: [<br>        1420,<br>        260<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;conditions&quot;: {<br>          &quot;options&quot;: {<br>            &quot;version&quot;: 2,<br>            &quot;leftValue&quot;: &quot;&quot;,<br>            &quot;caseSensitive&quot;: true,<br>            &quot;typeValidation&quot;: &quot;strict&quot;<br>          },<br>          &quot;combinator&quot;: &quot;and&quot;,<br>          &quot;conditions&quot;: [<br>            {<br>              &quot;id&quot;: &quot;0304efee-33b2-499e-bad1-9238c1fc2999&quot;,<br>              &quot;operator&quot;: {<br>                &quot;name&quot;: &quot;filter.operator.equals&quot;,<br>                &quot;type&quot;: &quot;string&quot;,<br>                &quot;operation&quot;: &quot;equals&quot;<br>              },<br>              &quot;leftValue&quot;: &quot;={{ $json.status_code }}&quot;,<br>              &quot;rightValue&quot;: &quot;FINISHED&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;f0cc0be5-6d35-4334-a124-139fa8676d07&quot;,<br>      &quot;name&quot;: &quot;If media status is finished1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.if&quot;,<br>      &quot;position&quot;: [<br>        2000,<br>        260<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;conditions&quot;: {<br>          &quot;options&quot;: {<br>            &quot;version&quot;: 2,<br>            &quot;leftValue&quot;: &quot;&quot;,<br>            &quot;caseSensitive&quot;: true,<br>            &quot;typeValidation&quot;: &quot;strict&quot;<br>          },<br>          &quot;combinator&quot;: &quot;and&quot;,<br>          &quot;conditions&quot;: [<br>            {<br>              &quot;id&quot;: &quot;0304efee-33b2-499e-bad1-9238c1fc2999&quot;,<br>              &quot;operator&quot;: {<br>                &quot;name&quot;: &quot;filter.operator.equals&quot;,<br>                &quot;type&quot;: &quot;string&quot;,<br>                &quot;operation&quot;: &quot;equals&quot;<br>              },<br>              &quot;leftValue&quot;: &quot;={{ $json.status_code }}&quot;,<br>              &quot;rightValue&quot;: &quot;PUBLISHED&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;c8d8d8cd-8501-4d1b-ac28-8cb3fa74d9d7&quot;,<br>      &quot;name&quot;: &quot;Telegram&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.telegram&quot;,<br>      &quot;position&quot;: [<br>        1580,<br>        440<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;text&quot;: &quot;Video upload edilmeden √∂nce bir problem oldu&quot;,<br>        &quot;chatId&quot;: &quot;={{ $(&#39;Telegram Params&#39;).item.json.telegram_chat_id }}&quot;,<br>        &quot;additionalFields&quot;: {}<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;telegramApi&quot;: {<br>          &quot;id&quot;: &quot;GcIVVl98RcazYBaB&quot;,<br>          &quot;name&quot;: &quot;Telegram account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;ae91a5e0-4f70-4a1c-afa5-41f5449facab&quot;,<br>      &quot;name&quot;: &quot;Telegram1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.telegram&quot;,<br>      &quot;position&quot;: [<br>        2160,<br>        100<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;text&quot;: &quot;Instagram Content is shared&quot;,<br>        &quot;chatId&quot;: &quot;={{ $(&#39;Telegram Params&#39;).item.json.telegram_chat_id }}&quot;,<br>        &quot;additionalFields&quot;: {}<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;telegramApi&quot;: {<br>          &quot;id&quot;: &quot;GcIVVl98RcazYBaB&quot;,<br>          &quot;name&quot;: &quot;Telegram account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;b8b38440-14a7-43f6-ac49-6ca9502ff54d&quot;,<br>      &quot;name&quot;: &quot;Telegram2&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.telegram&quot;,<br>      &quot;position&quot;: [<br>        2160,<br>        440<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;text&quot;: &quot;There was a problem when execution a upload content to instagram&quot;,<br>        &quot;chatId&quot;: &quot;={{ $(&#39;Telegram Params&#39;).item.json.telegram_chat_id }}&quot;,<br>        &quot;additionalFields&quot;: {}<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;telegramApi&quot;: {<br>          &quot;id&quot;: &quot;GcIVVl98RcazYBaB&quot;,<br>          &quot;name&quot;: &quot;Telegram account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;82e0e5d0-bf50-4b2e-8693-2612dffe53e2&quot;,<br>      &quot;name&quot;: &quot;Loop Over Items&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.splitInBatches&quot;,<br>      &quot;position&quot;: [<br>        -1000,<br>        220<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 3<br>    },<br>    {<br>      &quot;id&quot;: &quot;fb72beb1-1a6a-4148-9ee4-cdc564c4dc5c&quot;,<br>      &quot;name&quot;: &quot;Schedule Trigger1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.scheduleTrigger&quot;,<br>      &quot;position&quot;: [<br>        -3080,<br>        300<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;rule&quot;: {<br>          &quot;interval&quot;: [<br>            {<br>              &quot;field&quot;: &quot;cronExpression&quot;,<br>              &quot;expression&quot;: &quot;5 13,19 * * *&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;470f3406-19d2-420c-8f33-7031237d882c&quot;,<br>      &quot;name&quot;: &quot;Telegram Params&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        -2320,<br>        300<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;d18cdca7-d301-4c70-a4d0-8d6e7ecfc2d1&quot;,<br>              &quot;name&quot;: &quot;telegram_chat_id&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;12971505-7061-4d32-8921-d2e731eae9db&quot;,<br>      &quot;name&quot;: &quot;Instagram params&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        -2560,<br>        300<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;1e380c14-e908-4eeb-90e0-957a422829d0&quot;,<br>              &quot;name&quot;: &quot;instagram_business_account_id&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;3cb5f27d-eb3b-4fdc-bb55-1b54f85298e5&quot;,<br>      &quot;name&quot;: &quot;Sticky Note2&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -2860,<br>        20<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 4,<br>        &quot;width&quot;: 1000,<br>        &quot;height&quot;: 600,<br>        &quot;content&quot;: &quot;## All Credentials You Need\n**  Instagram Business Account Id\n** Telegram Chat Id\n**  Rapid Api Key\n** Replicate Token&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;2bc617b8-835c-48ba-8de6-341a6c87b853&quot;,<br>      &quot;name&quot;: &quot;Rapid Api params&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;notes&quot;: &quot;test&quot;,<br>      &quot;position&quot;: [<br>        -2080,<br>        300<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;48a33ec7-2b4f-496a-ad77-e4d5f1907ee4&quot;,<br>              &quot;name&quot;: &quot;x-rapid-api-key&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;notesInFlow&quot;: false,<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;23bad41e-40ac-4488-8b2f-0d54d22a927a&quot;,<br>      &quot;name&quot;: &quot;filter the image content&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.code&quot;,<br>      &quot;position&quot;: [<br>        -1480,<br>        380<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;jsCode&quot;: &quot;const filteredData = $input.first().json.data.items.filter(item=&gt; !item.is_video)\nreturn filteredData.map((item)=&gt;{\n  return {\n    id: item.id,\n    prompt: item.caption.text,\n    content_code: item.code,\n    thumbnail_url: item.thumbnail_url,\n    tag: $input.first().json.data.additional_data.name\n  }\n})                                                                    \n\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;a65690cd-4d30-4541-b80d-aae872326a77&quot;,<br>      &quot;name&quot;: &quot;get  top trends on instagram #blender3d&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.httpRequest&quot;,<br>      &quot;position&quot;: [<br>        -1720,<br>        180<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;url&quot;: &quot;https://instagram-scraper-api2.p.rapidapi.com/v1/hashtag&quot;,<br>        &quot;options&quot;: {},<br>        &quot;sendQuery&quot;: true,<br>        &quot;sendHeaders&quot;: true,<br>        &quot;queryParameters&quot;: {<br>          &quot;parameters&quot;: [<br>            {<br>              &quot;name&quot;: &quot;hashtag&quot;,<br>              &quot;value&quot;: &quot;blender3d&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;feed_type&quot;,<br>              &quot;value&quot;: &quot;top&quot;<br>            }<br>          ]<br>        },<br>        &quot;headerParameters&quot;: {<br>          &quot;parameters&quot;: [<br>            {<br>              &quot;name&quot;: &quot;x-rapidapi-host&quot;,<br>              &quot;value&quot;: &quot;instagram-scraper-api2.p.rapidapi.com&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;x-rapidapi-key&quot;,<br>              &quot;value&quot;: &quot;={{ $json[&#39;x-rapid-api-key&#39;] }}&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 4.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;8707c475-7e28-4d80-92b8-ba24033c4632&quot;,<br>      &quot;name&quot;: &quot;get top trends on instagram #isometric&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.httpRequest&quot;,<br>      &quot;position&quot;: [<br>        -1720,<br>        380<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;url&quot;: &quot;https://instagram-scraper-api2.p.rapidapi.com/v1/hashtag&quot;,<br>        &quot;options&quot;: {},<br>        &quot;sendQuery&quot;: true,<br>        &quot;sendHeaders&quot;: true,<br>        &quot;queryParameters&quot;: {<br>          &quot;parameters&quot;: [<br>            {<br>              &quot;name&quot;: &quot;hashtag&quot;,<br>              &quot;value&quot;: &quot;isometric&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;feed_type&quot;,<br>              &quot;value&quot;: &quot;top&quot;<br>            }<br>          ]<br>        },<br>        &quot;headerParameters&quot;: {<br>          &quot;parameters&quot;: [<br>            {<br>              &quot;name&quot;: &quot;x-rapidapi-host&quot;,<br>              &quot;value&quot;: &quot;instagram-scraper-api2.p.rapidapi.com&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;x-rapidapi-key&quot;,<br>              &quot;value&quot;: &quot;={{ $json[&#39;x-rapid-api-key&#39;] }}&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 4.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;1c1bfd8f-b086-4147-ba08-578877f2a315&quot;,<br>      &quot;name&quot;: &quot;merge the array content&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.merge&quot;,<br>      &quot;position&quot;: [<br>        -1280,<br>        280<br>      ],<br>      &quot;parameters&quot;: {},<br>      &quot;typeVersion&quot;: 3<br>    },<br>    {<br>      &quot;id&quot;: &quot;dcc2b6b6-9880-4676-8a1a-a3c21e583bba&quot;,<br>      &quot;name&quot;: &quot;Sticky Note3&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -3180,<br>        20<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 3,<br>        &quot;width&quot;: 280,<br>        &quot;height&quot;: 600,<br>        &quot;content&quot;: &quot;## Schedule Your Time To  Post\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;c1e0ac33-c4b7-47d8-bd2b-0b74b02afe38&quot;,<br>      &quot;name&quot;: &quot;Sticky Note4&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -2600,<br>        160<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 5,<br>        &quot;width&quot;: 180,<br>        &quot;height&quot;: 300,<br>        &quot;content&quot;: &quot;## Guide \n** [Guide](https://docs.matillion.com/metl/docs/6957316//) of getting  of Instagram Business Account Id &quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;321680da-ca7a-4c6f-98d4-a0d8f8d0347f&quot;,<br>      &quot;name&quot;: &quot;Sticky Note5&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -2360,<br>        160<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 5,<br>        &quot;width&quot;: 180,<br>        &quot;height&quot;: 300,<br>        &quot;content&quot;: &quot;## Guide \n** [Guide](https://rapidapi.com/i-yqerddkq0t/api/telegram92/tutorials/how-to-get-the-id-of-a-telegram-channel,-chat,-user-or-bot%3F) of Getting  of Telegram Chat Id &quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;b3d07cf7-8d03-4644-88f7-2e94de0c43c2&quot;,<br>      &quot;name&quot;: &quot;Sticky Note6&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -2120,<br>        160<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 5,<br>        &quot;width&quot;: 180,<br>        &quot;height&quot;: 300,<br>        &quot;content&quot;: &quot;## Guide \n** [Guide](https://docs.rapidapi.com/docs/keys-and-key-rotation) of Getting  of Rapid Api Key &quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;b6dbdfaa-fc71-4def-a723-bf6c0facd372&quot;,<br>      &quot;name&quot;: &quot;Sticky Note7&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -2360,<br>        480<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 180,<br>        &quot;height&quot;: 120,<br>        &quot;content&quot;: &quot;## Warning\n**Don&#39;t forgot the create bot and send a message to bot first&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;81d598e2-8993-4315-9894-2e78dc26ad10&quot;,<br>      &quot;name&quot;: &quot;Sticky Note8&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -1820,<br>        20<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 660,<br>        &quot;height&quot;: 600,<br>        &quot;content&quot;: &quot;## Getting Top Trend Posts On Instagram\n** Change the topic you want to get on http request&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;6beb79ef-8205-4882-9bb0-6a2e1a33f1d4&quot;,<br>      &quot;name&quot;: &quot;Check Data on Database Is Exist&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.postgres&quot;,<br>      &quot;onError&quot;: &quot;continueErrorOutput&quot;,<br>      &quot;position&quot;: [<br>        -760,<br>        220<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;table&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;top_trends&quot;,<br>          &quot;cachedResultName&quot;: &quot;top_trends&quot;<br>        },<br>        &quot;where&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;value&quot;: &quot;={{$json.content_code}}&quot;,<br>              &quot;column&quot;: &quot;code&quot;<br>            }<br>          ]<br>        },<br>        &quot;schema&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;public&quot;,<br>          &quot;cachedResultName&quot;: &quot;public&quot;<br>        },<br>        &quot;options&quot;: {},<br>        &quot;operation&quot;: &quot;select&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;postgres&quot;: {<br>          &quot;id&quot;: &quot;sBHQ2psBsfnHkFrZ&quot;,<br>          &quot;name&quot;: &quot;Postgres account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.5,<br>      &quot;alwaysOutputData&quot;: true<br>    },<br>    {<br>      &quot;id&quot;: &quot;5b0c05a8-3eb7-4ad8-88e8-ceef81fe7a61&quot;,<br>      &quot;name&quot;: &quot;If Data is Exist&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.if&quot;,<br>      &quot;position&quot;: [<br>        -540,<br>        240<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;conditions&quot;: {<br>          &quot;options&quot;: {<br>            &quot;version&quot;: 2,<br>            &quot;leftValue&quot;: &quot;&quot;,<br>            &quot;caseSensitive&quot;: true,<br>            &quot;typeValidation&quot;: &quot;loose&quot;<br>          },<br>          &quot;combinator&quot;: &quot;and&quot;,<br>          &quot;conditions&quot;: [<br>            {<br>              &quot;id&quot;: &quot;9dc20983-ae4d-40db-b969-7d43fa8b0c3e&quot;,<br>              &quot;operator&quot;: {<br>                &quot;type&quot;: &quot;boolean&quot;,<br>                &quot;operation&quot;: &quot;true&quot;,<br>                &quot;singleValue&quot;: true<br>              },<br>              &quot;leftValue&quot;: &quot;={{ !$json.isEmpty() }}&quot;,<br>              &quot;rightValue&quot;: &quot;we&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;0e1b9264-be56-4d0c-a83e-d9ca0b05b265&quot;,<br>              &quot;operator&quot;: {<br>                &quot;name&quot;: &quot;filter.operator.equals&quot;,<br>                &quot;type&quot;: &quot;string&quot;,<br>                &quot;operation&quot;: &quot;equals&quot;<br>              },<br>              &quot;leftValue&quot;: &quot;&quot;,<br>              &quot;rightValue&quot;: &quot;&quot;<br>            }<br>          ]<br>        },<br>        &quot;looseTypeValidation&quot;: true<br>      },<br>      &quot;executeOnce&quot;: false,<br>      &quot;typeVersion&quot;: 2.2,<br>      &quot;alwaysOutputData&quot;: false<br>    },<br>    {<br>      &quot;id&quot;: &quot;557aa2c3-8d0b-42c4-b444-953a538d7ff4&quot;,<br>      &quot;name&quot;: &quot;Sticky Note9&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -1120,<br>        20<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 1060,<br>        &quot;height&quot;: 600,<br>        &quot;content&quot;: &quot;## Looping Data And Checking For Is Exist On Database\n**We are checking until find a data we did not insert because we don&#39;t want to create content about in same content&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;9b510f11-9a44-4d54-b162-3ffb55d66677&quot;,<br>      &quot;name&quot;: &quot;send error message to telegram&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.telegram&quot;,<br>      &quot;position&quot;: [<br>        -1000,<br>        440<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;text&quot;: &quot;There was a problem execution a postgresql content&quot;,<br>        &quot;chatId&quot;: &quot;={{ $(&#39;Telegram Params&#39;).item.json.telegram_chat_id}}&quot;,<br>        &quot;additionalFields&quot;: {}<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;telegramApi&quot;: {<br>          &quot;id&quot;: &quot;GcIVVl98RcazYBaB&quot;,<br>          &quot;name&quot;: &quot;Telegram account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;48bc61de-d416-4673-9e9b-8331ea841891&quot;,<br>      &quot;name&quot;: &quot;insert data on db&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.postgres&quot;,<br>      &quot;position&quot;: [<br>        -260,<br>        240<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;table&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;top_trends&quot;,<br>          &quot;cachedResultName&quot;: &quot;top_trends&quot;<br>        },<br>        &quot;schema&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;public&quot;<br>        },<br>        &quot;columns&quot;: {<br>          &quot;value&quot;: {<br>            &quot;tag&quot;: &quot;={{$(&#39;Loop Over Items&#39;).item.json.tag}}&quot;,<br>            &quot;code&quot;: &quot;={{$(&#39;Loop Over Items&#39;).item.json.content_code}}&quot;,<br>            &quot;prompt&quot;: &quot;={{$(&#39;Loop Over Items&#39;).item.json.prompt}}&quot;,<br>            &quot;isposted&quot;: false,<br>            &quot;thumbnail_url&quot;: &quot;={{$(&#39;Loop Over Items&#39;).item.json.thumbnail_url}}&quot;<br>          },<br>          &quot;schema&quot;: [<br>            {<br>              &quot;id&quot;: &quot;id&quot;,<br>              &quot;type&quot;: &quot;number&quot;,<br>              &quot;display&quot;: true,<br>              &quot;removed&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;id&quot;,<br>              &quot;defaultMatch&quot;: true,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;prompt&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;required&quot;: true,<br>              &quot;displayName&quot;: &quot;prompt&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;isposted&quot;,<br>              &quot;type&quot;: &quot;boolean&quot;,<br>              &quot;display&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;isposted&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;createdat&quot;,<br>              &quot;type&quot;: &quot;dateTime&quot;,<br>              &quot;display&quot;: true,<br>              &quot;removed&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;createdat&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;updatedat&quot;,<br>              &quot;type&quot;: &quot;dateTime&quot;,<br>              &quot;display&quot;: true,<br>              &quot;removed&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;updatedat&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;deletedat&quot;,<br>              &quot;type&quot;: &quot;dateTime&quot;,<br>              &quot;display&quot;: true,<br>              &quot;removed&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;deletedat&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;code&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;code&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;tag&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;tag&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;thumbnail_url&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;thumbnail_url&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            }<br>          ],<br>          &quot;mappingMode&quot;: &quot;defineBelow&quot;,<br>          &quot;matchingColumns&quot;: [<br>            &quot;id&quot;<br>          ],<br>          &quot;attemptToConvertTypes&quot;: false,<br>          &quot;convertFieldsToString&quot;: false<br>        },<br>        &quot;options&quot;: {}<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;postgres&quot;: {<br>          &quot;id&quot;: &quot;sBHQ2psBsfnHkFrZ&quot;,<br>          &quot;name&quot;: &quot;Postgres account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.5<br>    },<br>    {<br>      &quot;id&quot;: &quot;15e7d69d-a10f-48a1-b240-046e9950d077&quot;,<br>      &quot;name&quot;: &quot;Analyze Image and give the content&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.openAi&quot;,<br>      &quot;position&quot;: [<br>        80,<br>        240<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;text&quot;: &quot;Create a clear and concise description of the object in the image, focusing on its physical and general features. Avoid detailed environmental aspects like background, lighting, or colors. Describe the shape, texture, size, and any unique characteristics of the object. Mention any notable features that make the object stand out, such as its surface details, materials, and design. The description should be focused on the object itself, not its surroundings.\n\nFor example, describe the following image:\n&quot;,<br>        &quot;modelId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;gpt-4o-mini&quot;,<br>          &quot;cachedResultName&quot;: &quot;GPT-4O-MINI&quot;<br>        },<br>        &quot;options&quot;: {},<br>        &quot;resource&quot;: &quot;image&quot;,<br>        &quot;imageUrls&quot;: &quot;={{ $(&#39;Loop Over Items&#39;).item.json.thumbnail_url }}&quot;,<br>        &quot;operation&quot;: &quot;analyze&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;openAiApi&quot;: {<br>          &quot;id&quot;: &quot;1TwEayhZUT90fq8N&quot;,<br>          &quot;name&quot;: &quot;OpenAi account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.8<br>    },<br>    {<br>      &quot;id&quot;: &quot;93e253b1-da7d-4193-b899-a38e6fd9f4e4&quot;,<br>      &quot;name&quot;: &quot;Analyze Content And Generate Instagram Caption&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.openAi&quot;,<br>      &quot;position&quot;: [<br>        280,<br>        240<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;modelId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;gpt-4o-mini&quot;,<br>          &quot;cachedResultName&quot;: &quot;GPT-4O-MINI&quot;<br>        },<br>        &quot;options&quot;: {},<br>        &quot;messages&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;content&quot;: &quot;=\nSummarize the following content description into a short, engaging Instagram caption under 150 words. The caption should focus on the content of the image, not the app. Keep it appealing to social media users, and highlight the visual details of the image. Include hashtags relevant to 3D modeling and design, such as #Blender3D, #3DArt, #DigitalArt, #3DModeling, and #ArtCommunity. Ensure the tone is friendly and inviting.\n\n\nContent description to summarize:\n{{ $json.content }}\n\nMake sure to craft the caption around the content&#39;s features, such as the color contrast, reflective surface, and artistic nature of the image.\n\n&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;openAiApi&quot;: {<br>          &quot;id&quot;: &quot;1TwEayhZUT90fq8N&quot;,<br>          &quot;name&quot;: &quot;OpenAi account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.8<br>    },<br>    {<br>      &quot;id&quot;: &quot;9af1dc59-1d9e-4900-8f80-1eba946c4057&quot;,<br>      &quot;name&quot;: &quot;Sticky Note&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -20,<br>        20<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 4,<br>        &quot;width&quot;: 860,<br>        &quot;height&quot;: 600,<br>        &quot;content&quot;: &quot;## Analyze Post Content\n** We are analyzing the image\n** We are generating a instagram caption by content\n** Then we are generating the image&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;2259f6df-dca9-4a7e-babb-e63375f7207f&quot;,<br>      &quot;name&quot;: &quot;Prepare data on Instagram&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.facebookGraphApi&quot;,<br>      &quot;position&quot;: [<br>        980,<br>        260<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;edge&quot;: &quot;media&quot;,<br>        &quot;node&quot;: &quot;={{ $(&#39;Instagram params&#39;).item.json.instagram_business_account_id }}&quot;,<br>        &quot;options&quot;: {<br>          &quot;queryParameters&quot;: {<br>            &quot;parameter&quot;: [<br>              {<br>                &quot;name&quot;: &quot;image_url&quot;,<br>                &quot;value&quot;: &quot;={{ $json.output[0] }}&quot;<br>              },<br>              {<br>                &quot;name&quot;: &quot;caption&quot;,<br>                &quot;value&quot;: &quot;={{ $(&#39;Analyze Content And Generate Instagram Caption&#39;).item.json.message.content }}&quot;<br>              }<br>            ]<br>          }<br>        },<br>        &quot;graphApiVersion&quot;: &quot;v20.0&quot;,<br>        &quot;httpRequestMethod&quot;: &quot;POST&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;facebookGraphApi&quot;: {<br>          &quot;id&quot;: &quot;ZFxxxLfZ25M7Va6r&quot;,<br>          &quot;name&quot;: &quot;Facebook Graph account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;bcbb6058-1966-4bb5-915a-1e65b9131117&quot;,<br>      &quot;name&quot;: &quot;Check Status Of Media Before Uploaded&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.facebookGraphApi&quot;,<br>      &quot;position&quot;: [<br>        1200,<br>        260<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;node&quot;: &quot;={{ $json.id }}&quot;,<br>        &quot;options&quot;: {<br>          &quot;fields&quot;: {<br>            &quot;field&quot;: [<br>              {<br>                &quot;name&quot;: &quot;id&quot;<br>              },<br>              {<br>                &quot;name&quot;: &quot;status&quot;<br>              },<br>              {<br>                &quot;name&quot;: &quot;status_code&quot;<br>              }<br>            ]<br>          }<br>        },<br>        &quot;graphApiVersion&quot;: &quot;v20.0&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;facebookGraphApi&quot;: {<br>          &quot;id&quot;: &quot;ZFxxxLfZ25M7Va6r&quot;,<br>          &quot;name&quot;: &quot;Facebook Graph account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;518d87ff-7808-4c06-b137-4e97d8f2ca28&quot;,<br>      &quot;name&quot;: &quot;Publish Media on Instagram&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.facebookGraphApi&quot;,<br>      &quot;position&quot;: [<br>        1600,<br>        100<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;edge&quot;: &quot;media_publish&quot;,<br>        &quot;node&quot;: &quot;={{ $(&#39;Instagram params&#39;).item.json.instagram_business_account_id }}&quot;,<br>        &quot;options&quot;: {<br>          &quot;queryParameters&quot;: {<br>            &quot;parameter&quot;: [<br>              {<br>                &quot;name&quot;: &quot;creation_id&quot;,<br>                &quot;value&quot;: &quot;={{ $json.id }}&quot;<br>              }<br>            ]<br>          }<br>        },<br>        &quot;graphApiVersion&quot;: &quot;v20.0&quot;,<br>        &quot;httpRequestMethod&quot;: &quot;POST&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;facebookGraphApi&quot;: {<br>          &quot;id&quot;: &quot;ZFxxxLfZ25M7Va6r&quot;,<br>          &quot;name&quot;: &quot;Facebook Graph account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;a033d12b-524f-40e8-9208-5300bbc823d3&quot;,<br>      &quot;name&quot;: &quot;Check status of post &quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.facebookGraphApi&quot;,<br>      &quot;position&quot;: [<br>        1800,<br>        260<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;node&quot;: &quot;={{ $(&#39;Check Status Of Media Before Uploaded&#39;).item.json.id }}&quot;,<br>        &quot;options&quot;: {<br>          &quot;fields&quot;: {<br>            &quot;field&quot;: [<br>              {<br>                &quot;name&quot;: &quot;id&quot;<br>              },<br>              {<br>                &quot;name&quot;: &quot;status&quot;<br>              },<br>              {<br>                &quot;name&quot;: &quot;status_code&quot;<br>              }<br>            ]<br>          }<br>        },<br>        &quot;graphApiVersion&quot;: &quot;v20.0&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;facebookGraphApi&quot;: {<br>          &quot;id&quot;: &quot;ZFxxxLfZ25M7Va6r&quot;,<br>          &quot;name&quot;: &quot;Facebook Graph account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;f136e907-2938-4175-b51f-4201fbe3477d&quot;,<br>      &quot;name&quot;: &quot;Sticky Note1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        880,<br>        20<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 5,<br>        &quot;width&quot;: 1580,<br>        &quot;height&quot;: 600,<br>        &quot;content&quot;: &quot;## Publish On Instagram And Send Message When Published via Telegram\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;8145986c-5453-43ac-8d5c-c50a84a62136&quot;,<br>      &quot;name&quot;: &quot;Sticky Note10&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -1800,<br>        100<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 5,<br>        &quot;width&quot;: 260,<br>        &quot;height&quot;: 500,<br>        &quot;content&quot;: &quot;## For More About Api\n** [Facebook Scraper Api Guide](https://rapidapi.com/social-api1-instagram/api/instagram-scraper-api2/playground/apiendpoint_a45552b2-9850-4da9-b5cb-bbdd3ac2199d)&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;02416fbb-4250-4278-af23-1f9189787123&quot;,<br>      &quot;name&quot;: &quot;filter the image content-2&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.code&quot;,<br>      &quot;position&quot;: [<br>        -1480,<br>        180<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;jsCode&quot;: &quot;const filteredData = $input.first().json.data.items.filter(item=&gt; !item.is_video)\nreturn filteredData.map((item)=&gt;{\n  return {\n    id: item.id,\n    prompt: item.caption.text,\n    content_code: item.code,\n    thumbnail_url: item.thumbnail_url,\n    tag: $input.first().json.data.additional_data.name\n  }\n})                                                                    \n\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;2d1ea53d-1d32-4b86-8944-ce2ad4a69847&quot;,<br>      &quot;name&quot;: &quot;Sticky Note11&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -2820,<br>        160<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 5,<br>        &quot;width&quot;: 180,<br>        &quot;height&quot;: 300,<br>        &quot;content&quot;: &quot;## Guide \n** [Guide](https://replicate.com) of getting  of Replicate Token &quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;c8b933af-356e-49ae-92d3-42eaf4ee3e9f&quot;,<br>      &quot;name&quot;: &quot;Replicate params&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        -2780,<br>        300<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;1e380c14-e908-4eeb-90e0-957a422829d0&quot;,<br>              &quot;name&quot;: &quot;replicate_token&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;2c73cc9c-d436-459b-9b3c-bd870810b9b4&quot;,<br>      &quot;name&quot;: &quot;Generate image on flux&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.httpRequest&quot;,<br>      &quot;position&quot;: [<br>        680,<br>        260<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;url&quot;: &quot;https://api.replicate.com/v1/models/black-forest-labs/flux-schnell/predictions&quot;,<br>        &quot;method&quot;: &quot;POST&quot;,<br>        &quot;options&quot;: {},<br>        &quot;jsonBody&quot;: &quot;={\n  \&quot;input\&quot;: {\n    \&quot;prompt\&quot;: \&quot;A highly detailed 3D isometric model of {{$(&#39;Analyze Image and give the content&#39;).item.json.content   .replace(/\\\\n/g, &#39; &#39;) \n.replace(/\\\\t/g, &#39; &#39;) \n.replace(/\\s+/g, &#39; &#39;)\n.trim(); }} rendered in a stylized miniature toy aesthetic. Materials: Matte plastic/painted metal/weathered stone texture with no self-shadowing. Lighting: - Completely shadowless rendering - Ultra bright and perfectly even illumination from all angles - Pure ambient lighting without directional shadows - Flat, consistent lighting across all surfaces - No ambient occlusion. Style specifications: - Clean, defined edges and surfaces - Slightly exaggerated proportions - Miniature/toy-like scale - Subtle wear and texturing - Rich color palette with muted tones - Isometric 3/4 view angle - Crisp details and micro-elements. Technical details: - 4K resolution - PBR materials without shadows - No depth of field - High-quality anti-aliasing - Perfect uniform lighting. Environment: Pure white background with zero shadows or gradients. Post-processing: High key lighting, maximum brightness, shadow removal.\&quot;,\n    \&quot;output_format\&quot;: \&quot;jpg\&quot;,\n    \&quot;output_quality\&quot;: 100,\n    \&quot;go_fast\&quot;:false\n  }\n}\n&quot;,<br>        &quot;sendBody&quot;: true,<br>        &quot;sendHeaders&quot;: true,<br>        &quot;specifyBody&quot;: &quot;=json&quot;,<br>        &quot;bodyParameters&quot;: {<br>          &quot;parameters&quot;: [<br>            {}<br>          ]<br>        },<br>        &quot;headerParameters&quot;: {<br>          &quot;parameters&quot;: [<br>            {<br>              &quot;name&quot;: &quot;Authorization&quot;,<br>              &quot;value&quot;: &quot;=Bearer {{ $(&#39;Replicate params&#39;).item.json.replicate_token}}&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;Prefer&quot;,<br>              &quot;value&quot;: &quot;wait&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 4.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;6f9e7dc6-1287-4235-8631-198d729f367f&quot;,<br>      &quot;name&quot;: &quot;Sticky Note12&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -1120,<br>        -340<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 4,<br>        &quot;width&quot;: 1060,<br>        &quot;height&quot;: 320,<br>        &quot;content&quot;: &quot;## For top_trends Table\n```\nCREATE TABLE top_trends (\n    id SERIAL PRIMARY KEY,\n    isposted BOOLEAN DEFAULT false,\n    createdat TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP,\n    updatedat TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP,\n    deletedat TIMESTAMP WITHOUT TIME ZONE,\n    prompt TEXT NOT NULL,\n    thumbnail_url TEXT,\n    code TEXT,\n    tag TEXT\n);\n```&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;b19951bb-6346-44a7-a4c8-1bd0806c6019&quot;,<br>      &quot;name&quot;: &quot;Sticky Note13&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -660,<br>        -120<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 3,<br>        &quot;width&quot;: 160,<br>        &quot;height&quot;: 120,<br>        &quot;content&quot;: &quot;## Warning\n** Don&#39;t forgot the create top_trends table&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;3de6b8e5-c5e0-4999-871a-c349cb9b3ac0&quot;,<br>      &quot;name&quot;: &quot;Sticky Note14&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -3180,<br>        -940<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 620,<br>        &quot;height&quot;: 840,<br>        &quot;content&quot;: &quot;\n## Automated Instagram Content Creation from Trending Posts\n\nThis workflow automates the process of discovering and recreating trending content on Instagram:\n\n1. Content Discovery:\n   - Scrapes top trending posts from specific hashtags (#blender3d, #isometric)\n   - Filters for image-only content (excludes videos)\n   - Checks database to avoid duplicate content\n\n2. AI-Powered Content Generation:\n   - Analyzes trending images using GPT-4 Vision\n   - Generates detailed descriptions of visual elements\n   - Creates engaging Instagram captions with relevant hashtags\n   - Uses Flux AI to generate similar but unique images\n\n3. Publishing &amp; Monitoring:\n   - Automatically posts content to Instagram Business Account\n   - Monitors post status and publishing process\n   - Sends status updates via Telegram\n\nPerfect for content creators and businesses looking to maintain an active Instagram presence with AI-generated content inspired by current trends. The workflow runs on schedule and handles everything from content discovery to publication automatically.\n\nNote: Requires Instagram Business Account, Telegram Bot, OpenAI, and Replicate API credentials.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;dfd0d182-177c-4336-8950-4792ea739123&quot;,<br>      &quot;name&quot;: &quot;Sticky Note15&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -2120,<br>        480<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 180,<br>        &quot;height&quot;: 120,<br>        &quot;content&quot;: &quot;##Warning\n** Dont forgot the subscribe [Instagram Scraper Api](https://rapidapi.com/social-api1-instagram/api/instagram-scraper-api2/playground/apiendpoint_a45552b2-9850-4da9-b5cb-bbdd3ac2199d)&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;03330941-3c6e-4152-8c51-f1d53f4424bc&quot;,<br>      &quot;name&quot;: &quot;Sticky Note16&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -2120,<br>        640<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 180,<br>        &quot;height&quot;: 180,<br>        &quot;content&quot;: &quot;## Warning\n** You can check the  [rate limit](https://rapidapi.com/social-api1-instagram/api/instagram-scraper-api2) of the Instagram Scraper Api on Rapid Api\n** Free version is monthly 500 request\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    }<br>  ],<br>  &quot;active&quot;: false,<br>  &quot;pinData&quot;: {},<br>  &quot;settings&quot;: {<br>    &quot;timezone&quot;: &quot;Europe/Istanbul&quot;,<br>    &quot;callerPolicy&quot;: &quot;workflowsFromSameOwner&quot;,<br>    &quot;executionOrder&quot;: &quot;v1&quot;<br>  },<br>  &quot;versionId&quot;: &quot;cc50f9e8-373b-433a-af43-824a264e762a&quot;,<br>  &quot;connections&quot;: {<br>    &quot;Telegram&quot;: {<br>      &quot;main&quot;: [<br>        []<br>      ]<br>    },<br>    &quot;Loop Over Items&quot;: {<br>      &quot;main&quot;: [<br>        [],<br>        [<br>          {<br>            &quot;node&quot;: &quot;Check Data on Database Is Exist&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Telegram Params&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Rapid Api params&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;If Data is Exist&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Loop Over Items&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;insert data on db&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Instagram params&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Telegram Params&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Rapid Api params&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;get top trends on instagram #isometric&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          },<br>          {<br>            &quot;node&quot;: &quot;get  top trends on instagram #blender3d&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Replicate params&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Instagram params&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Schedule Trigger1&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Replicate params&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;insert data on db&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Analyze Image and give the content&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Check status of post &quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;If media status is finished1&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Generate image on flux&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Prepare data on Instagram&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;merge the array content&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Loop Over Items&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;filter the image content&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;merge the array content&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 1<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Prepare data on Instagram&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Check Status Of Media Before Uploaded&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Publish Media on Instagram&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Check status of post &quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;filter the image content-2&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;merge the array content&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;If media status is finished&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Publish Media on Instagram&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;Telegram&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;If media status is finished1&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Telegram1&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;Telegram2&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Check Data on Database Is Exist&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;If Data is Exist&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;send error message to telegram&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Analyze Image and give the content&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Analyze Content And Generate Instagram Caption&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Check Status Of Media Before Uploaded&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;If media status is finished&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;get top trends on instagram #isometric&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;filter the image content&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;get  top trends on instagram #blender3d&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;filter the image content-2&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Analyze Content And Generate Instagram Caption&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Generate image on flux&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    }<br>  }<br>}</div></td></tr><tr style="height: 59px"><th id="0R10" style="height: 59px;" class="row-headers-background"><div class="row-header-wrapper" style="line-height: 59px">11</div></th><td class="s3" dir="ltr">üîç Investigaci√≥n con Perplexity a HTML: creaci√≥n de contenido con IA</td><td class="s4 softmerge" dir="ltr"><div class="softmerge-inner" style="width:31906px;left:-3px">{<br>  &quot;id&quot;: &quot;HnqGW0eq5asKfZxf&quot;,<br>  &quot;meta&quot;: {<br>    &quot;instanceId&quot;: &quot;03907a25f048377a8789a4332f28148522ba31ee907fababf704f1d88130b1b6&quot;,<br>    &quot;templateCredsSetupCompleted&quot;: true<br>  },<br>  &quot;name&quot;: &quot;üîçüõ†Ô∏èPerplexity Researcher to HTML Web Page&quot;,<br>  &quot;tags&quot;: [],<br>  &quot;nodes&quot;: [<br>    {<br>      &quot;id&quot;: &quot;ad5d96c6-941a-4ab3-b349-10bae99e5988&quot;,<br>      &quot;name&quot;: &quot;Sticky Note&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        320,<br>        1360<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 3,<br>        &quot;width&quot;: 625.851492623043,<br>        &quot;height&quot;: 465.2493344282225,<br>        &quot;content&quot;: &quot;## Create Article from Perplexity Research&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;19b3ca66-5fd2-4d04-b25a-a17fb38642f8&quot;,<br>      &quot;name&quot;: &quot;Sticky Note1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1240,<br>        1360<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 4,<br>        &quot;width&quot;: 479.02028317328745,<br>        &quot;height&quot;: 464.14912719677955,<br>        &quot;content&quot;: &quot;## Convert Article into HTML&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;7fad54e8-5a50-42da-b38d-08f6912615ab&quot;,<br>      &quot;name&quot;: &quot;gpt-4o-mini&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.lmChatOpenAi&quot;,<br>      &quot;position&quot;: [<br>        1380,<br>        1660<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;model&quot;: &quot;gpt-4o-mini-2024-07-18&quot;,<br>        &quot;options&quot;: {<br>          &quot;responseFormat&quot;: &quot;text&quot;<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;openAiApi&quot;: {<br>          &quot;id&quot;: &quot;h597GY4ZJQD47RQd&quot;,<br>          &quot;name&quot;: &quot;OpenAi account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;5291869f-3ac6-4ce2-88f3-b572924b6082&quot;,<br>      &quot;name&quot;: &quot;gpt-4o-mini1&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.lmChatOpenAi&quot;,<br>      &quot;position&quot;: [<br>        1560,<br>        1040<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {<br>          &quot;topP&quot;: 1,<br>          &quot;timeout&quot;: 60000,<br>          &quot;maxTokens&quot;: -1,<br>          &quot;maxRetries&quot;: 2,<br>          &quot;temperature&quot;: 0,<br>          &quot;responseFormat&quot;: &quot;text&quot;,<br>          &quot;presencePenalty&quot;: 0,<br>          &quot;frequencyPenalty&quot;: 0<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;openAiApi&quot;: {<br>          &quot;id&quot;: &quot;h597GY4ZJQD47RQd&quot;,<br>          &quot;name&quot;: &quot;OpenAi account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;a232f6ca-ad4c-40fa-a641-f0dd83c8f18a&quot;,<br>      &quot;name&quot;: &quot;Structured Output Parser1&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.outputParserStructured&quot;,<br>      &quot;position&quot;: [<br>        640,<br>        1660<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;schemaType&quot;: &quot;manual&quot;,<br>        &quot;inputSchema&quot;: &quot;{\n  \&quot;type\&quot;: \&quot;object\&quot;,\n  \&quot;properties\&quot;: {\n    \&quot;article\&quot;: {\n      \&quot;type\&quot;: \&quot;object\&quot;,\n      \&quot;required\&quot;: [\&quot;category\&quot;, \&quot;title\&quot;, \&quot;metadata\&quot;, \&quot;content\&quot;, \&quot;hashtags\&quot;],\n      \&quot;properties\&quot;: {\n        \&quot;category\&quot;: {\n          \&quot;type\&quot;: \&quot;string\&quot;,\n          \&quot;description\&quot;: \&quot;Article category\&quot;\n        },\n        \&quot;title\&quot;: {\n          \&quot;type\&quot;: \&quot;string\&quot;,\n          \&quot;description\&quot;: \&quot;Article title\&quot;\n        },\n        \&quot;metadata\&quot;: {\n          \&quot;type\&quot;: \&quot;object\&quot;,\n          \&quot;properties\&quot;: {\n            \&quot;timePosted\&quot;: {\n              \&quot;type\&quot;: \&quot;string\&quot;,\n              \&quot;description\&quot;: \&quot;Time since article was posted\&quot;\n            },\n            \&quot;author\&quot;: {\n              \&quot;type\&quot;: \&quot;string\&quot;,\n              \&quot;description\&quot;: \&quot;Article author name\&quot;\n            },\n            \&quot;tag\&quot;: {\n              \&quot;type\&quot;: \&quot;string\&quot;,\n              \&quot;description\&quot;: \&quot;Article primary tag\&quot;\n            }\n          },\n          \&quot;required\&quot;: [\&quot;timePosted\&quot;, \&quot;author\&quot;, \&quot;tag\&quot;]\n        },\n        \&quot;content\&quot;: {\n          \&quot;type\&quot;: \&quot;object\&quot;,\n          \&quot;properties\&quot;: {\n            \&quot;mainText\&quot;: {\n              \&quot;type\&quot;: \&quot;string\&quot;,\n              \&quot;description\&quot;: \&quot;Main article content\&quot;\n            },\n            \&quot;sections\&quot;: {\n              \&quot;type\&quot;: \&quot;array\&quot;,\n              \&quot;items\&quot;: {\n                \&quot;type\&quot;: \&quot;object\&quot;,\n                \&quot;properties\&quot;: {\n                  \&quot;title\&quot;: {\n                    \&quot;type\&quot;: \&quot;string\&quot;,\n                    \&quot;description\&quot;: \&quot;Section title\&quot;\n                  },\n                  \&quot;text\&quot;: {\n                    \&quot;type\&quot;: \&quot;string\&quot;,\n                    \&quot;description\&quot;: \&quot;Section content\&quot;\n                  },\n                  \&quot;quote\&quot;: {\n                    \&quot;type\&quot;: \&quot;string\&quot;,\n                    \&quot;description\&quot;: \&quot;Blockquote text\&quot;\n                  }\n                },\n                \&quot;required\&quot;: [\&quot;title\&quot;, \&quot;text\&quot;, \&quot;quote\&quot;]\n              }\n            }\n          },\n          \&quot;required\&quot;: [\&quot;mainText\&quot;, \&quot;sections\&quot;]\n        },\n        \&quot;hashtags\&quot;: {\n          \&quot;type\&quot;: \&quot;array\&quot;,\n          \&quot;items\&quot;: {\n            \&quot;type\&quot;: \&quot;string\&quot;\n          },\n          \&quot;description\&quot;: \&quot;Article hashtags\&quot;\n        }\n      }\n    }\n  }\n}&quot;<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;e7d1adac-88aa-4f76-92bf-bbac3aa6386a&quot;,<br>      &quot;name&quot;: &quot;gpt-4o-mini2&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.lmChatOpenAi&quot;,<br>      &quot;position&quot;: [<br>        420,<br>        1660<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {<br>          &quot;topP&quot;: 1,<br>          &quot;timeout&quot;: 60000,<br>          &quot;maxTokens&quot;: -1,<br>          &quot;maxRetries&quot;: 2,<br>          &quot;temperature&quot;: 0,<br>          &quot;responseFormat&quot;: &quot;json_object&quot;,<br>          &quot;presencePenalty&quot;: 0,<br>          &quot;frequencyPenalty&quot;: 0<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;openAiApi&quot;: {<br>          &quot;id&quot;: &quot;h597GY4ZJQD47RQd&quot;,<br>          &quot;name&quot;: &quot;OpenAi account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;156e51db-03f7-4099-afe8-6f0361c5b497&quot;,<br>      &quot;name&quot;: &quot;Webhook&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.webhook&quot;,<br>      &quot;position&quot;: [<br>        160,<br>        860<br>      ],<br>      &quot;webhookId&quot;: &quot;6a8e3ae7-02ae-4663-a27a-07df448550ab&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;path&quot;: &quot;pblog&quot;,<br>        &quot;options&quot;: {},<br>        &quot;responseMode&quot;: &quot;responseNode&quot;<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;6dd3eba7-e779-4e4a-960e-c5a7b6b3a929&quot;,<br>      &quot;name&quot;: &quot;Respond to Webhook&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.respondToWebhook&quot;,<br>      &quot;position&quot;: [<br>        2820,<br>        1480<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;respondWith&quot;: &quot;text&quot;,<br>        &quot;responseBody&quot;: &quot;={{ $json.text }}&quot;<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;27ee681e-4259-4323-b4fe-629f99cb33d0&quot;,<br>      &quot;name&quot;: &quot;Telegram&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.telegram&quot;,<br>      &quot;position&quot;: [<br>        2320,<br>        880<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;text&quot;: &quot;={{ $(&#39;Perplexity Topic Agent&#39;).item.json.output.slice(0, 300) }}&quot;,<br>        &quot;chatId&quot;: &quot;={{ $json.telegram_chat_id }}&quot;,<br>        &quot;additionalFields&quot;: {<br>          &quot;parse_mode&quot;: &quot;HTML&quot;,<br>          &quot;appendAttribution&quot;: false<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;telegramApi&quot;: {<br>          &quot;id&quot;: &quot;BIE64nzfpGeesXUn&quot;,<br>          &quot;name&quot;: &quot;Telegram account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;f437d40c-2bf6-43e2-b77b-e5c2cdc35055&quot;,<br>      &quot;name&quot;: &quot;gpt-4o-mini5&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.lmChatOpenAi&quot;,<br>      &quot;position&quot;: [<br>        2480,<br>        1660<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {<br>          &quot;topP&quot;: 1,<br>          &quot;timeout&quot;: 60000,<br>          &quot;maxTokens&quot;: -1,<br>          &quot;maxRetries&quot;: 2,<br>          &quot;temperature&quot;: 0,<br>          &quot;responseFormat&quot;: &quot;text&quot;,<br>          &quot;presencePenalty&quot;: 0,<br>          &quot;frequencyPenalty&quot;: 0<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;openAiApi&quot;: {<br>          &quot;id&quot;: &quot;h597GY4ZJQD47RQd&quot;,<br>          &quot;name&quot;: &quot;OpenAi account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;275bce4a-4252-41d4-bcba-174f0c51bf4a&quot;,<br>      &quot;name&quot;: &quot;Basic LLM Chain&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.chainLlm&quot;,<br>      &quot;position&quot;: [<br>        2340,<br>        1480<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;text&quot;: &quot;=Create a modern, responsive single-line HTML document. Convert any markdown to Tailwind CSS classes. Replace markdown lists with proper HTML list elements. Remove all newline characters while preserving &lt;/br&gt; tags in content. Enhance the layout with Tailwind CSS cards where appropriate. Use the following base structure, but improve the styling and responsiveness:\n\n&lt;!DOCTYPE html&gt;\n&lt;html lang=\&quot;en\&quot;&gt;\n\n&lt;head&gt;\n    &lt;meta charset=\&quot;UTF-8\&quot;&gt;\n    &lt;meta name=\&quot;viewport\&quot; content=\&quot;width=device-width, initial-scale=1.0\&quot;&gt;\n    &lt;title&gt;Comprehensive Overview of DeepSeek V3&lt;/title&gt;\n    &lt;link href=\&quot;https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css\&quot; rel=\&quot;stylesheet\&quot;&gt;\n&lt;/head&gt;\n\n&lt;body class=\&quot;bg-gray-100 font-sans\&quot;&gt;\n    &lt;div class=\&quot;relative p-4\&quot;&gt;\n        &lt;div class=\&quot;max-w-3xl mx-auto text-sm\&quot;&gt;\n            &lt;div class=\&quot;mt-3 bg-white rounded-lg shadow-lg flex flex-col justify-between leading-normal\&quot;&gt;\n                &lt;div class=\&quot;p-6\&quot;&gt;\n                    &lt;h1 class=\&quot;text-gray-900 font-bold text-4xl mb-4\&quot;&gt;Comprehensive Overview of DeepSeek V3&lt;/h1&gt;\n                    &lt;div class=\&quot;mb-4\&quot;&gt;\n                        &lt;p class=\&quot;leading-8\&quot;&gt;&lt;strong&gt;Time Posted:&lt;/strong&gt; Just now&lt;/p&gt;\n                        &lt;p class=\&quot;leading-8\&quot;&gt;&lt;strong&gt;Author:&lt;/strong&gt; AI Research Team&lt;/p&gt;\n                        &lt;p class=\&quot;leading-8\&quot;&gt;&lt;strong&gt;Tag:&lt;/strong&gt; AI Models&lt;/p&gt;\n                    &lt;/div&gt;\n                    &lt;p class=\&quot;leading-8 my-4\&quot;&gt;&lt;strong&gt;DeepSeek V3&lt;/strong&gt; is a state-of-the-art AI model that leverages\n                        advanced architectures and techniques to deliver high performance across various applications.\n                        This overview covers its key concepts, practical applications, advantages, limitations, and best\n                        practices for implementation.&lt;/p&gt;\n                    &lt;section class=\&quot;mb-6\&quot;&gt;\n                        &lt;h2 class=\&quot;text-2xl font-bold my-3\&quot;&gt;Key Concepts and Core Components&lt;/h2&gt;\n                        &lt;p class=\&quot;leading-8 my-3\&quot;&gt;&lt;strong&gt;1. Mixture-of-Experts (MoE) Architecture:&lt;/strong&gt; DeepSeek V3\n                            employs a Mixture-of-Experts (MoE) architecture, which consists of multiple neural networks,\n                            each optimized for different tasks. This architecture allows for efficient processing by\n                            activating only a portion of the network for each task, reducing hardware costs.&lt;/p&gt;\n                        &lt;p class=\&quot;leading-8 my-3\&quot;&gt;&lt;strong&gt;2. Parameters:&lt;/strong&gt; The model boasts a total of 671\n                            billion\n                            parameters, with 37 billion active parameters for each token during processing. The addition\n                            of\n                            the Multi-Token Prediction (MTP) module increases the total parameters to 685 billion,\n                            making it\n                            significantly larger than other models like Meta&#39;s Llama 3.1 (405B).&lt;/p&gt;\n                        &lt;p class=\&quot;leading-8 my-3\&quot;&gt;&lt;strong&gt;3. Multi-head Latent Attention (MLA):&lt;/strong&gt; DeepSeek V3\n                            uses\n                            Multi-head Latent Attention (MLA) to extract key details from text multiple times, improving\n                            its\n                            accuracy.&lt;/p&gt;\n                        &lt;p class=\&quot;leading-8 my-3\&quot;&gt;&lt;strong&gt;4. Multi-Token Prediction (MTP):&lt;/strong&gt; The model utilizes\n                            Multi-Token Prediction to generate several tokens at once, speeding up inference and\n                            enabling\n                            speculative decoding.&lt;/p&gt;\n                        &lt;blockquote\n                            class=\&quot;italic leading-8 my-3 p-5 text-indigo-600 font-semibold bg-indigo-50 rounded-lg border-l-4 border-indigo-600\&quot;&gt;\n                            DeepSeek V3 employs a Mixture-of-Experts architecture for efficient processing.&lt;/blockquote&gt;\n                    &lt;/section&gt;\n                    &lt;section class=\&quot;mb-6\&quot;&gt;\n                        &lt;h2 class=\&quot;text-2xl font-bold my-3\&quot;&gt;Practical Applications&lt;/h2&gt;\n                        &lt;ol class=\&quot;list-decimal pl-5\&quot;&gt;\n                            &lt;li class=\&quot;leading-8 my-3\&quot;&gt;&lt;strong&gt;Translation, Coding, and Content Generation:&lt;/strong&gt;\n                                DeepSeek V3 is designed for a wide range of tasks including translation, coding, content\n                                generation, and reasoning. It excels in English, Chinese, coding, and mathematics,\n                                rivaling leading commercial models like OpenAI&#39;s GPT-4.&lt;/li&gt;\n                            &lt;li class=\&quot;leading-8 my-3\&quot;&gt;&lt;strong&gt;Research and Development:&lt;/strong&gt; The open-source nature\n                                of DeepSeek V3 fuels innovation, allowing researchers to experiment with and build upon\n                                its technology.&lt;/li&gt;\n                            &lt;li class=\&quot;leading-8 my-3\&quot;&gt;&lt;strong&gt;Commercial Applications:&lt;/strong&gt; The licensing of\n                                DeepSeek V3 makes it permissible for commercial use, opening it up to numerous\n                                applications across different industries.&lt;/li&gt;\n                            &lt;li class=\&quot;leading-8 my-3\&quot;&gt;&lt;strong&gt;Democratization of AI:&lt;/strong&gt; By making powerful AI\n                                accessible, DeepSeek V3 levels the playing field, allowing smaller organizations to\n                                compete with larger ones.&lt;/li&gt;\n                        &lt;/ol&gt;\n                        &lt;blockquote\n                            class=\&quot;italic leading-8 my-3 p-5 text-indigo-600 font-semibold bg-indigo-50 rounded-lg border-l-4 border-indigo-600\&quot;&gt;\n                            DeepSeek V3 democratizes AI access for smaller organizations.&lt;/blockquote&gt;\n                    &lt;/section&gt;\n                    &lt;section class=\&quot;mb-6\&quot;&gt;\n                        &lt;h2 class=\&quot;text-2xl font-bold my-3\&quot;&gt;Advantages&lt;/h2&gt;\n                        &lt;ol class=\&quot;list-decimal pl-5\&quot;&gt;\n                            &lt;li class=\&quot;leading-8 my-3\&quot;&gt;&lt;strong&gt;Speed and Efficiency:&lt;/strong&gt; DeepSeek V3 processes\n                                information at a blistering 60 tokens per second, a threefold increase over its\n                                predecessor. It uses advanced inference capabilities, deploying 32 H800 GPUs for prefill\n                                and 320 H800 GPUs for decoding.&lt;/li&gt;\n                            &lt;li class=\&quot;leading-8 my-3\&quot;&gt;&lt;strong&gt;Cost-Effectiveness:&lt;/strong&gt; The model was trained for a\n                                mere $5.5 million, a fraction of the estimated over $100 million invested by OpenAI in\n                                GPT-4. DeepSeek V3 offers significantly lower prices for its online services, with 1\n                                million tokens priced at just $1.1, currently offered at a promotional rate of $0.28.\n                            &lt;/li&gt;\n                            &lt;li class=\&quot;leading-8 my-3\&quot;&gt;&lt;strong&gt;Innovation in Inference:&lt;/strong&gt; The model&#39;s advanced\n                                inference capabilities set the standard for future model deployment, making it a\n                                powerful tool in the digital realm.&lt;/li&gt;\n                        &lt;/ol&gt;\n                        &lt;blockquote\n                            class=\&quot;italic leading-8 my-3 p-5 text-indigo-600 font-semibold bg-indigo-50 rounded-lg border-l-4 border-indigo-600\&quot;&gt;\n                            DeepSeek V3 processes information at 60 tokens per second.&lt;/blockquote&gt;\n                    &lt;/section&gt;\n                    &lt;section class=\&quot;mb-6\&quot;&gt;\n                        &lt;h2 class=\&quot;text-2xl font-bold my-3\&quot;&gt;Limitations&lt;/h2&gt;\n                        &lt;ol class=\&quot;list-decimal pl-5\&quot;&gt;\n                            &lt;li class=\&quot;leading-8 my-3\&quot;&gt;&lt;strong&gt;Deployment Complexity:&lt;/strong&gt; Deploying DeepSeek V3\n                                requires advanced hardware and a deployment strategy that separates the prefilling and\n                                decoding stages, which might be unachievable for small companies due to a lack of\n                                resources. The recommended deployment unit for DeepSeek V3 is relatively large, posing a\n                                burden for small-sized teams.&lt;/li&gt;\n                            &lt;li class=\&quot;leading-8 my-3\&quot;&gt;&lt;strong&gt;Potential for Further Enhancement:&lt;/strong&gt; Although\n                                DeepSeek V3 has achieved an end-to-end generation speed of more than two times that of\n                                DeepSeek V2, there still remains potential for further enhancement with the development\n                                of more advanced hardware.&lt;/li&gt;\n                        &lt;/ol&gt;\n                        &lt;blockquote\n                            class=\&quot;italic leading-8 my-3 p-5 text-indigo-600 font-semibold bg-indigo-50 rounded-lg border-l-4 border-indigo-600\&quot;&gt;\n                            Deployment of DeepSeek V3 may be complex for small companies.&lt;/blockquote&gt;\n                    &lt;/section&gt;\n                    &lt;section class=\&quot;mb-6\&quot;&gt;\n                        &lt;h2 class=\&quot;text-2xl font-bold my-3\&quot;&gt;Best Practices for Implementation&lt;/h2&gt;\n                        &lt;ol class=\&quot;list-decimal pl-5\&quot;&gt;\n                            &lt;li class=\&quot;leading-8 my-3\&quot;&gt;&lt;strong&gt;Hardware Requirements:&lt;/strong&gt; Ensure that the\n                                deployment environment has the necessary advanced hardware to handle the model&#39;s\n                                requirements, including multiple GPUs for prefill and decoding.&lt;/li&gt;\n                            &lt;li class=\&quot;leading-8 my-3\&quot;&gt;&lt;strong&gt;Deployment Strategy:&lt;/strong&gt; Implement a deployment\n                                strategy that separates the prefilling and decoding stages to optimize performance and\n                                efficiency.&lt;/li&gt;\n                            &lt;li class=\&quot;leading-8 my-3\&quot;&gt;&lt;strong&gt;Monitoring and Optimization:&lt;/strong&gt; Continuously\n                                monitor the model&#39;s performance and optimize it as needed to address any limitations and\n                                improve efficiency.&lt;/li&gt;\n                            &lt;li class=\&quot;leading-8 my-3\&quot;&gt;&lt;strong&gt;Community Engagement:&lt;/strong&gt; Engage with the\n                                open-source community to leverage the collective knowledge and resources available,\n                                which can help in addressing any challenges and improving the model further.&lt;/li&gt;\n                        &lt;/ol&gt;\n                        &lt;blockquote\n                            class=\&quot;italic leading-8 my-3 p-5 text-indigo-600 font-semibold bg-indigo-50 rounded-lg border-l-4 border-indigo-600\&quot;&gt;\n                            Engage with the open-source community for better implementation.&lt;/blockquote&gt;\n                    &lt;/section&gt;\n                    &lt;p class=\&quot;leading-8 my-6\&quot;&gt;&lt;strong&gt;Hashtags:&lt;/strong&gt; &lt;span\n                            class=\&quot;text-indigo-600\&quot;&gt;#DeepSeekV3&lt;/span&gt; &lt;span class=\&quot;text-indigo-600\&quot;&gt;#AI&lt;/span&gt; &lt;span\n                            class=\&quot;text-indigo-600\&quot;&gt;#MachineLearning&lt;/span&gt; &lt;span\n                            class=\&quot;text-indigo-600\&quot;&gt;#OpenSource&lt;/span&gt;&lt;/p&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n\n-------\n\nRequirements:\n- Output must be a single line of HTML\n- Enhanced with modern Tailwind CSS styling\n- Proper HTML list structures\n- Responsive design\n- No newlines except &lt;/br&gt; in content\n- No markdown formatting\n- Clean, readable layout\n- Properly formatted hashtags\n- No explanation or additional text in output\n- No code block markers or escape characters\n- Wnsure Metadata, Title and Content are included in HTML\n\nMetadata: {{ $(&#39;Article&#39;).item.json.article.metadata.toJsonString() }}\nTitle: {{ $json.title }}\nContent: {{ $json.html }}\n&quot;,<br>        &quot;promptType&quot;: &quot;define&quot;<br>      },<br>      &quot;typeVersion&quot;: 1.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;cddd9324-8471-4dcb-a46b-836015db9833&quot;,<br>      &quot;name&quot;: &quot;Do Nothing1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.noOp&quot;,<br>      &quot;position&quot;: [<br>        560,<br>        1080<br>      ],<br>      &quot;parameters&quot;: {},<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;432a0ae9-451a-4830-b065-8b0593de92ea&quot;,<br>      &quot;name&quot;: &quot;gpt-4o-mini3&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.lmChatOpenAi&quot;,<br>      &quot;position&quot;: [<br>        1020,<br>        1040<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {<br>          &quot;topP&quot;: 1,<br>          &quot;timeout&quot;: 60000,<br>          &quot;maxTokens&quot;: -1,<br>          &quot;maxRetries&quot;: 2,<br>          &quot;temperature&quot;: 0,<br>          &quot;responseFormat&quot;: &quot;text&quot;,<br>          &quot;presencePenalty&quot;: 0,<br>          &quot;frequencyPenalty&quot;: 0<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;openAiApi&quot;: {<br>          &quot;id&quot;: &quot;h597GY4ZJQD47RQd&quot;,<br>          &quot;name&quot;: &quot;OpenAi account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;55e00886-b6c1-4f7a-81ae-e8e0d4102cab&quot;,<br>      &quot;name&quot;: &quot;Sticky Note4&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        2200,<br>        1360<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 6,<br>        &quot;width&quot;: 531,<br>        &quot;height&quot;: 465,<br>        &quot;content&quot;: &quot;## Create HTML Page with TailwindCSS Styling&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;1ed7f754-1279-4511-a085-6ed4e4c36de1&quot;,<br>      &quot;name&quot;: &quot;Sticky Note2&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        320,<br>        760<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 450.54438902818094,<br>        &quot;height&quot;: 489.5271576259337,<br>        &quot;content&quot;: &quot;## Parse Topic from Get Request&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;e9dcb568-7f8d-40c5-94cb-6f25386436cf&quot;,<br>      &quot;name&quot;: &quot;Sticky Note5&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        820,<br>        760<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 5,<br>        &quot;width&quot;: 380,<br>        &quot;height&quot;: 488,<br>        &quot;content&quot;: &quot;## Improve the Users Topic&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;a7fdaddb-d6fc-4d45-85cc-a372cfb90327&quot;,<br>      &quot;name&quot;: &quot;If2&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.if&quot;,<br>      &quot;position&quot;: [<br>        2120,<br>        1140<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;conditions&quot;: {<br>          &quot;options&quot;: {<br>            &quot;version&quot;: 2,<br>            &quot;leftValue&quot;: &quot;&quot;,<br>            &quot;caseSensitive&quot;: true,<br>            &quot;typeValidation&quot;: &quot;strict&quot;<br>          },<br>          &quot;combinator&quot;: &quot;and&quot;,<br>          &quot;conditions&quot;: [<br>            {<br>              &quot;id&quot;: &quot;8e35de0a-ac16-4555-94f4-24e97bdf4b33&quot;,<br>              &quot;operator&quot;: {<br>                &quot;type&quot;: &quot;string&quot;,<br>                &quot;operation&quot;: &quot;notEmpty&quot;,<br>                &quot;singleValue&quot;: true<br>              },<br>              &quot;leftValue&quot;: &quot;{{ $json.output }}&quot;,<br>              &quot;rightValue&quot;: &quot;&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;57d056b8-7e91-41e4-8b74-dce15847a09b&quot;,<br>      &quot;name&quot;: &quot;Prompts&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        1300,<br>        2080<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;efbe7563-8502-407e-bfa0-a4a26d8cddd4&quot;,<br>              &quot;name&quot;: &quot;user&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $(&#39;Execute Workflow Trigger&#39;).item.json.topic }}&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;05e0b629-bb9f-4010-96a8-10872764705a&quot;,<br>              &quot;name&quot;: &quot;system&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;Assistant is a large language model.  Assistant is designed to be able to assist with a wide range of tasks, from answering simple questions to providing in-depth explanations and discussions on a wide range of topics. As a language model, Assistant is able to generate human-like text based on the input it receives, allowing it to engage in natural-sounding conversations and provide responses that are coherent and relevant to the topic at hand.  Assistant is constantly learning and improving, and its capabilities are constantly evolving. It is able to process and understand large amounts of text, and can use this knowledge to provide accurate and informative responses to a wide range of questions. Additionally, Assistant is able to generate its own text based on the input it receives, allowing it to engage in discussions and provide explanations and descriptions on a wide range of topics.  Overall, Assistant is a powerful system that can help with a wide range of tasks and provide valuable insights and information on a wide range of topics. Whether you need help with a specific question or just want to have a conversation about a particular topic, Assistant is here to assist.  &quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;8209cece-fde4-485f-81a1-2d24a6eac474&quot;,<br>      &quot;name&quot;: &quot;Execute Workflow Trigger&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.executeWorkflowTrigger&quot;,<br>      &quot;position&quot;: [<br>        420,<br>        2180<br>      ],<br>      &quot;parameters&quot;: {},<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;445e4d15-c2b0-4152-a0f8-d6b93ad5bae6&quot;,<br>      &quot;name&quot;: &quot;Telegram2&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.telegram&quot;,<br>      &quot;position&quot;: [<br>        860,<br>        2180<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;text&quot;: &quot;=&lt;i&gt;{{ $(&#39;Execute Workflow Trigger&#39;).item.json.topic }}&lt;/i&gt;&quot;,<br>        &quot;chatId&quot;: &quot;={{ $json.telegram_chat_id }}&quot;,<br>        &quot;additionalFields&quot;: {<br>          &quot;parse_mode&quot;: &quot;HTML&quot;,<br>          &quot;appendAttribution&quot;: false<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;telegramApi&quot;: {<br>          &quot;id&quot;: &quot;BIE64nzfpGeesXUn&quot;,<br>          &quot;name&quot;: &quot;Telegram account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;57a5b3ce-5490-4d50-91cc-c36e508eee4d&quot;,<br>      &quot;name&quot;: &quot;If&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.if&quot;,<br>      &quot;position&quot;: [<br>        1080,<br>        2180<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;conditions&quot;: {<br>          &quot;options&quot;: {<br>            &quot;version&quot;: 2,<br>            &quot;leftValue&quot;: &quot;&quot;,<br>            &quot;caseSensitive&quot;: true,<br>            &quot;typeValidation&quot;: &quot;strict&quot;<br>          },<br>          &quot;combinator&quot;: &quot;and&quot;,<br>          &quot;conditions&quot;: [<br>            {<br>              &quot;id&quot;: &quot;7e2679dc-c898-415d-a693-c2c1e7259b6a&quot;,<br>              &quot;operator&quot;: {<br>                &quot;type&quot;: &quot;string&quot;,<br>                &quot;operation&quot;: &quot;notContains&quot;<br>              },<br>              &quot;leftValue&quot;: &quot;={{ $(&#39;Execute Workflow Trigger&#39;).item.json.topic }}&quot;,<br>              &quot;rightValue&quot;: &quot;undefined&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;fdf827dc-96b1-4ed3-895b-2a0f5f4c41a3&quot;,<br>      &quot;name&quot;: &quot;No Operation, do nothing&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.noOp&quot;,<br>      &quot;position&quot;: [<br>        1300,<br>        2300<br>      ],<br>      &quot;parameters&quot;: {},<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;944aa564-f449-47a6-9d9c-c20a48946ab6&quot;,<br>      &quot;name&quot;: &quot;Sticky Note6&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        320,<br>        1940<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 5,<br>        &quot;width&quot;: 1614,<br>        &quot;height&quot;: 623,<br>        &quot;content&quot;: &quot;## üõ†Ô∏èperplexity_research_tool\n\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;3806c079-8c08-48b7-a3ed-a26f6d86c67f&quot;,<br>      &quot;name&quot;: &quot;Perplexity Topic Agent&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.agent&quot;,<br>      &quot;position&quot;: [<br>        1580,<br>        860<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;text&quot;: &quot;=Topic: {{ $json.text }}&quot;,<br>        &quot;options&quot;: {<br>          &quot;systemMessage&quot;: &quot;Use the perplexity_research_tool to provide research on the users topic.\n\n&quot;<br>        },<br>        &quot;promptType&quot;: &quot;define&quot;,<br>        &quot;hasOutputParser&quot;: true<br>      },<br>      &quot;typeVersion&quot;: 1.6<br>    },<br>    {<br>      &quot;id&quot;: &quot;cfc55dbb-78e6-47ef-bf55-810311bd37e8&quot;,<br>      &quot;name&quot;: &quot;Call Perplexity Researcher&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.toolWorkflow&quot;,<br>      &quot;position&quot;: [<br>        1780,<br>        1040<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;name&quot;: &quot;perplexity_research_tool&quot;,<br>        &quot;fields&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;name&quot;: &quot;topic&quot;,<br>              &quot;stringValue&quot;: &quot;= {{ $json.text }}&quot;<br>            }<br>          ]<br>        },<br>        &quot;workflowId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;id&quot;,<br>          &quot;value&quot;: &quot;HnqGW0eq5asKfZxf&quot;<br>        },<br>        &quot;description&quot;: &quot;Call this tool to perform Perplexity research.&quot;,<br>        &quot;jsonSchemaExample&quot;: &quot;{\n  \&quot;topic\&quot;: \&quot;\&quot;\n}&quot;<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;5ca35a40-506d-4768-a65c-a331718040bc&quot;,<br>      &quot;name&quot;: &quot;Do Nothing&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.noOp&quot;,<br>      &quot;position&quot;: [<br>        2320,<br>        1140<br>      ],<br>      &quot;parameters&quot;: {},<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;17028837-4706-43f3-8291-f150860caa4c&quot;,<br>      &quot;name&quot;: &quot;Do Nothing2&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.noOp&quot;,<br>      &quot;position&quot;: [<br>        1020,<br>        1700<br>      ],<br>      &quot;parameters&quot;: {},<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;adebf1ad-62d9-4b79-b9a1-4a9395067803&quot;,<br>      &quot;name&quot;: &quot;Do Nothing3&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.noOp&quot;,<br>      &quot;position&quot;: [<br>        2000,<br>        1700<br>      ],<br>      &quot;parameters&quot;: {},<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;fe19e472-3b2b-4c07-b957-fb2afc426998&quot;,<br>      &quot;name&quot;: &quot;Do Nothing4&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.noOp&quot;,<br>      &quot;position&quot;: [<br>        1260,<br>        1080<br>      ],<br>      &quot;parameters&quot;: {},<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;41e23462-a7fa-42a8-adbc-83a662f63f0c&quot;,<br>      &quot;name&quot;: &quot;Sticky Note7&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1460,<br>        760<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 3,<br>        &quot;width&quot;: 480,<br>        &quot;height&quot;: 488,<br>        &quot;content&quot;: &quot;## ü§ñPerform Perplexity Research&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;dcc3bd83-1f8c-4000-a832-c2c6e7c157ba&quot;,<br>      &quot;name&quot;: &quot;Get Topic&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        380,<br>        860<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;57f0eab2-ef1b-408c-82d5-a8c54c4084a6&quot;,<br>              &quot;name&quot;: &quot;topic&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $json.query.topic }}&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;5572e5b1-0b4c-4e6d-b413-5592aab59571&quot;,<br>      &quot;name&quot;: &quot;If Topic Exists&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.if&quot;,<br>      &quot;position&quot;: [<br>        560,<br>        860<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;conditions&quot;: {<br>          &quot;options&quot;: {<br>            &quot;version&quot;: 2,<br>            &quot;leftValue&quot;: &quot;&quot;,<br>            &quot;caseSensitive&quot;: true,<br>            &quot;typeValidation&quot;: &quot;strict&quot;<br>          },<br>          &quot;combinator&quot;: &quot;and&quot;,<br>          &quot;conditions&quot;: [<br>            {<br>              &quot;id&quot;: &quot;2c565aa5-0d11-47fb-8621-6db592579fa8&quot;,<br>              &quot;operator&quot;: {<br>                &quot;type&quot;: &quot;string&quot;,<br>                &quot;operation&quot;: &quot;notEmpty&quot;,<br>                &quot;singleValue&quot;: true<br>              },<br>              &quot;leftValue&quot;: &quot;={{ $json.topic }}&quot;,<br>              &quot;rightValue&quot;: &quot;&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;509ee61f-defb-41e8-84cf-70ac5a7448d0&quot;,<br>      &quot;name&quot;: &quot;Improve Users Topic&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.chainLlm&quot;,<br>      &quot;position&quot;: [<br>        880,<br>        860<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;text&quot;: &quot;=How would you improve the following prompt as of {{ $now }}, focusing on:\n\n1. Key Concepts &amp; Definitions\n   - Main terminology and foundational concepts\n   - Technical background and context\n\n2. Core Components\n   - Essential elements and their relationships\n   - Critical processes and workflows\n\n3. Practical Applications\n   - Real-world use cases\n   - Implementation considerations\n\n4. Analysis &amp; Insights\n   - Advantages and limitations\n   - Best practices and recommendations\n\nThe final output should be a maximum 2 sentence pure text prompt without any preamble or further explanation.  The final output will be providced to Perplexity as a research prompt.\n\nPrompt to analyze: {{ $json.topic }}&quot;,<br>        &quot;promptType&quot;: &quot;define&quot;<br>      },<br>      &quot;typeVersion&quot;: 1.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;69ee4c6a-f6ef-47a2-bd5c-ccaf49ec7c94&quot;,<br>      &quot;name&quot;: &quot;If Topic&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.if&quot;,<br>      &quot;position&quot;: [<br>        1260,<br>        860<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;conditions&quot;: {<br>          &quot;options&quot;: {<br>            &quot;version&quot;: 2,<br>            &quot;leftValue&quot;: &quot;&quot;,<br>            &quot;caseSensitive&quot;: true,<br>            &quot;typeValidation&quot;: &quot;strict&quot;<br>          },<br>          &quot;combinator&quot;: &quot;and&quot;,<br>          &quot;conditions&quot;: [<br>            {<br>              &quot;id&quot;: &quot;329653d4-330f-4b41-96e7-4652c1448902&quot;,<br>              &quot;operator&quot;: {<br>                &quot;type&quot;: &quot;string&quot;,<br>                &quot;operation&quot;: &quot;notEmpty&quot;,<br>                &quot;singleValue&quot;: true<br>              },<br>              &quot;leftValue&quot;: &quot;={{ $json.text }}&quot;,<br>              &quot;rightValue&quot;: &quot;&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;daa3027b-774d-44b1-b0a5-27008768c65d&quot;,<br>      &quot;name&quot;: &quot;Chat Id&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        2120,<br>        880<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;0aa8fcc9-26f4-485c-8fc1-a5c13d0dd279&quot;,<br>              &quot;name&quot;: &quot;telegram_chat_id&quot;,<br>              &quot;type&quot;: &quot;number&quot;,<br>              &quot;value&quot;: 1234567890<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;97f32ad1-f91e-4ccc-8248-d10da823b26a&quot;,<br>      &quot;name&quot;: &quot;Article&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        780,<br>        1480<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;0eb5952b-c133-4b63-8102-d4b8ec7b9b5a&quot;,<br>              &quot;name&quot;: &quot;article&quot;,<br>              &quot;type&quot;: &quot;object&quot;,<br>              &quot;value&quot;: &quot;={{ $json.output.article }}&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;e223dee3-c79f-421d-b2b8-2f3551a45f71&quot;,<br>      &quot;name&quot;: &quot;Extract JSON&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.agent&quot;,<br>      &quot;position&quot;: [<br>        440,<br>        1480<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;text&quot;: &quot;=Extract a JSON object from this content: {{ $json.output }}&quot;,<br>        &quot;options&quot;: {},<br>        &quot;promptType&quot;: &quot;define&quot;,<br>        &quot;hasOutputParser&quot;: true<br>      },<br>      &quot;retryOnFail&quot;: true,<br>      &quot;typeVersion&quot;: 1.6<br>    },<br>    {<br>      &quot;id&quot;: &quot;de8aafb6-b05d-4278-8719-9b3c266fcf3a&quot;,<br>      &quot;name&quot;: &quot;If Article&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.if&quot;,<br>      &quot;position&quot;: [<br>        1020,<br>        1480<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;conditions&quot;: {<br>          &quot;options&quot;: {<br>            &quot;version&quot;: 2,<br>            &quot;leftValue&quot;: &quot;&quot;,<br>            &quot;caseSensitive&quot;: true,<br>            &quot;typeValidation&quot;: &quot;strict&quot;<br>          },<br>          &quot;combinator&quot;: &quot;and&quot;,<br>          &quot;conditions&quot;: [<br>            {<br>              &quot;id&quot;: &quot;329653d4-330f-4b41-96e7-4652c1448902&quot;,<br>              &quot;operator&quot;: {<br>                &quot;type&quot;: &quot;string&quot;,<br>                &quot;operation&quot;: &quot;notEmpty&quot;,<br>                &quot;singleValue&quot;: true<br>              },<br>              &quot;leftValue&quot;: &quot;{{ $json.article }}&quot;,<br>              &quot;rightValue&quot;: &quot;&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;f9450b58-3b81-4b61-8cbf-2cdf5a2f56a0&quot;,<br>      &quot;name&quot;: &quot;Create HTML Article&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.agent&quot;,<br>      &quot;position&quot;: [<br>        1360,<br>        1480<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;text&quot;: &quot;=Convert this verbatim into HTML: {{ $json.article.toJsonString() }}\n\n## Formatting Guidelines\n- HTML document must be single line document without tabs or line breaks\n- Use proper HTML tags throughout\n- Do not use these tags:  &lt;html&gt; &lt;body&gt; &lt;style&gt; &lt;head&gt;\n- Use &lt;h1&gt; tag for main title\n- Use &lt;h2&gt; tags for secondary titles\n- Structure with &lt;p&gt; tags for paragraphs\n- Include appropriate spacing\n- Use &lt;blockquote&gt; for direct quotes\n- Maintain consistent formatting\n- Write in clear, professional tone\n- Break up long paragraphs\n- Use engaging subheadings\n- Include transitional phrases\n\nThe final JSON response should contain only the title and content fields, with the content including all HTML formatting.\n{\n\t\&quot;title\&quot;: \&quot;the title\&quot;,\n\t\&quot;content\&quot;: \&quot;the HTML\&quot;\n}&quot;,<br>        &quot;agent&quot;: &quot;conversationalAgent&quot;,<br>        &quot;options&quot;: {},<br>        &quot;promptType&quot;: &quot;define&quot;<br>      },<br>      &quot;retryOnFail&quot;: true,<br>      &quot;typeVersion&quot;: 1.6<br>    },<br>    {<br>      &quot;id&quot;: &quot;53cbaa6e-6508-48e3-9a5a-58f5bc111c2d&quot;,<br>      &quot;name&quot;: &quot;If HTML&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.if&quot;,<br>      &quot;position&quot;: [<br>        1780,<br>        1480<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;conditions&quot;: {<br>          &quot;options&quot;: {<br>            &quot;version&quot;: 2,<br>            &quot;leftValue&quot;: &quot;&quot;,<br>            &quot;caseSensitive&quot;: true,<br>            &quot;typeValidation&quot;: &quot;strict&quot;<br>          },<br>          &quot;combinator&quot;: &quot;and&quot;,<br>          &quot;conditions&quot;: [<br>            {<br>              &quot;id&quot;: &quot;329653d4-330f-4b41-96e7-4652c1448902&quot;,<br>              &quot;operator&quot;: {<br>                &quot;type&quot;: &quot;string&quot;,<br>                &quot;operation&quot;: &quot;notEmpty&quot;,<br>                &quot;singleValue&quot;: true<br>              },<br>              &quot;leftValue&quot;: &quot;={{ $json.output.parseJson().title }}&quot;,<br>              &quot;rightValue&quot;: &quot;&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;0a05f73a-2901-4157-8194-cb81d259ce71&quot;,<br>              &quot;operator&quot;: {<br>                &quot;type&quot;: &quot;string&quot;,<br>                &quot;operation&quot;: &quot;notEmpty&quot;,<br>                &quot;singleValue&quot;: true<br>              },<br>              &quot;leftValue&quot;: &quot;={{ $json.output.parseJson().content }}&quot;,<br>              &quot;rightValue&quot;: &quot;&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;b61c1d25-a010-42d3-9f9d-fa927c483bae&quot;,<br>              &quot;operator&quot;: {<br>                &quot;name&quot;: &quot;filter.operator.equals&quot;,<br>                &quot;type&quot;: &quot;string&quot;,<br>                &quot;operation&quot;: &quot;equals&quot;<br>              },<br>              &quot;leftValue&quot;: &quot;&quot;,<br>              &quot;rightValue&quot;: &quot;&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;33e4e2cd-be0c-4fc9-b705-b0e8aac496f9&quot;,<br>      &quot;name&quot;: &quot;Contents&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        2000,<br>        1480<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;af335333-acb8-4c9e-8184-d20cd03e08f6&quot;,<br>              &quot;name&quot;: &quot;title&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $json.output.parseJson().title }}&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;7fbd2264-c0e1-4bdc-b754-b0faa538879c&quot;,<br>              &quot;name&quot;: &quot;content&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $json.output.parseJson().content }}&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;8bf36853-8a04-4a0b-8715-e03a8fc8359d&quot;,<br>      &quot;name&quot;: &quot;Chat Id1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        660,<br>        2180<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;0aa8fcc9-26f4-485c-8fc1-a5c13d0dd279&quot;,<br>              &quot;name&quot;: &quot;telegram_chat_id&quot;,<br>              &quot;type&quot;: &quot;number&quot;,<br>              &quot;value&quot;: 1234567890<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;a3fe75d1-8db0-45cb-87f6-76fc27cb59f6&quot;,<br>      &quot;name&quot;: &quot;Sticky Note3&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        600,<br>        2080<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 420,<br>        &quot;height&quot;: 340,<br>        &quot;content&quot;: &quot;## Optional&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;22e9edbc-7aa6-4549-ae9f-2c31ad7d0542&quot;,<br>      &quot;name&quot;: &quot;Sticky Note8&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        2060,<br>        760<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 420,<br>        &quot;height&quot;: 340,<br>        &quot;content&quot;: &quot;## Optional&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;e62ff7d5-bd54-434c-b048-0dc7cd2c7f9b&quot;,<br>      &quot;name&quot;: &quot;Success Response&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        1700,<br>        2080<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;eb89464a-5919-4962-880c-3f5903e267de&quot;,<br>              &quot;name&quot;: &quot;response&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $(&#39;Perplexity&#39;).item.json.choices[0].message.content }}&quot;<br>            }<br>          ]<br>        },<br>        &quot;includeOtherFields&quot;: true<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;c6ba0613-47c6-442f-99e8-0eaec8cacc20&quot;,<br>      &quot;name&quot;: &quot;Error Response&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        1700,<br>        2300<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;eb89464a-5919-4962-880c-3f5903e267de&quot;,<br>              &quot;name&quot;: &quot;response&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;=Error.  No topic provided.&quot;<br>            }<br>          ]<br>        },<br>        &quot;includeOtherFields&quot;: true<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;30d8065c-55d8-4099-abb2-ddb01635129d&quot;,<br>      &quot;name&quot;: &quot;Perplexity&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.httpRequest&quot;,<br>      &quot;position&quot;: [<br>        1500,<br>        2080<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;url&quot;: &quot;https://api.perplexity.ai/chat/completions&quot;,<br>        &quot;method&quot;: &quot;POST&quot;,<br>        &quot;options&quot;: {},<br>        &quot;jsonBody&quot;: &quot;={\n  \&quot;model\&quot;: \&quot;llama-3.1-sonar-small-128k-online\&quot;,\n  \&quot;messages\&quot;: [\n    {\n      \&quot;role\&quot;: \&quot;system\&quot;,\n      \&quot;content\&quot;: \&quot;{{ $json.system }}\&quot;\n    },\n    {\n      \&quot;role\&quot;: \&quot;user\&quot;,\n      \&quot;content\&quot;: \&quot;{{ $json.user }}\&quot;\n    }\n  ],\n  \&quot;max_tokens\&quot;: \&quot;4000\&quot;,\n  \&quot;temperature\&quot;: 0.2,\n  \&quot;top_p\&quot;: 0.9,\n  \&quot;return_citations\&quot;: true,\n  \&quot;search_domain_filter\&quot;: [\n    \&quot;perplexity.ai\&quot;\n  ],\n  \&quot;return_images\&quot;: false,\n  \&quot;return_related_questions\&quot;: false,\n  \&quot;search_recency_filter\&quot;: \&quot;month\&quot;,\n  \&quot;top_k\&quot;: 0,\n  \&quot;stream\&quot;: false,\n  \&quot;presence_penalty\&quot;: 0,\n  \&quot;frequency_penalty\&quot;: 1\n}&quot;,<br>        &quot;sendBody&quot;: true,<br>        &quot;specifyBody&quot;: &quot;json&quot;,<br>        &quot;authentication&quot;: &quot;genericCredentialType&quot;,<br>        &quot;genericAuthType&quot;: &quot;httpHeaderAuth&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;httpCustomAuth&quot;: {<br>          &quot;id&quot;: &quot;vxjFugFpr4Od6gws&quot;,<br>          &quot;name&quot;: &quot;Confluence REST API&quot;<br>        },<br>        &quot;httpHeaderAuth&quot;: {<br>          &quot;id&quot;: &quot;wokWVLDQUDi0DC7I&quot;,<br>          &quot;name&quot;: &quot;Perplexity&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 4.2<br>    }<br>  ],<br>  &quot;active&quot;: false,<br>  &quot;pinData&quot;: {},<br>  &quot;settings&quot;: {<br>    &quot;executionOrder&quot;: &quot;v1&quot;<br>  },<br>  &quot;versionId&quot;: &quot;9ebf0569-4d9d-4783-b797-e5df2a8e8415&quot;,<br>  &quot;connections&quot;: {<br>    &quot;If&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Prompts&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;No Operation, do nothing&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;If2&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Extract JSON&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;Do Nothing&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Article&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;If Article&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Chat Id&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Telegram&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;If HTML&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Contents&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;Do Nothing3&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Prompts&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Perplexity&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Webhook&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Get Topic&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Chat Id1&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Telegram2&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Contents&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Basic LLM Chain&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;If Topic&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Perplexity Topic Agent&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;Do Nothing4&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Get Topic&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;If Topic Exists&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Telegram2&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;If&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;If Article&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Create HTML Article&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;Do Nothing2&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Perplexity&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Success Response&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;gpt-4o-mini&quot;: {<br>      &quot;ai_languageModel&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Create HTML Article&quot;,<br>            &quot;type&quot;: &quot;ai_languageModel&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Extract JSON&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Article&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;gpt-4o-mini1&quot;: {<br>      &quot;ai_languageModel&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Perplexity Topic Agent&quot;,<br>            &quot;type&quot;: &quot;ai_languageModel&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;gpt-4o-mini2&quot;: {<br>      &quot;ai_languageModel&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Extract JSON&quot;,<br>            &quot;type&quot;: &quot;ai_languageModel&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;gpt-4o-mini3&quot;: {<br>      &quot;ai_languageModel&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Improve Users Topic&quot;,<br>            &quot;type&quot;: &quot;ai_languageModel&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;gpt-4o-mini5&quot;: {<br>      &quot;ai_languageModel&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Basic LLM Chain&quot;,<br>            &quot;type&quot;: &quot;ai_languageModel&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Basic LLM Chain&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Respond to Webhook&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;If Topic Exists&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Improve Users Topic&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;Do Nothing1&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Create HTML Article&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;If HTML&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Improve Users Topic&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;If Topic&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Perplexity Topic Agent&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;If2&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          },<br>          {<br>            &quot;node&quot;: &quot;Chat Id&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Execute Workflow Trigger&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Chat Id1&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;No Operation, do nothing&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Error Response&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Structured Output Parser1&quot;: {<br>      &quot;ai_outputParser&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Extract JSON&quot;,<br>            &quot;type&quot;: &quot;ai_outputParser&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Call Perplexity Researcher&quot;: {<br>      &quot;ai_tool&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Perplexity Topic Agent&quot;,<br>            &quot;type&quot;: &quot;ai_tool&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    }<br>  }<br>}</div></td></tr><tr style="height: 59px"><th id="0R11" style="height: 59px;" class="row-headers-background"><div class="row-header-wrapper" style="line-height: 59px">12</div></th><td class="s7" dir="ltr">Gmail AI Auto-Responder: crea borradores de respuestas a correos entrantes</td><td class="s8 softmerge" dir="ltr"><div class="softmerge-inner" style="width:2759px;left:-3px">{<br>  &quot;id&quot;: &quot;aOQANirVMuWrH0ZD&quot;,<br>  &quot;meta&quot;: {<br>    &quot;instanceId&quot;: &quot;b78ce2d06ac74b90a581919cf44503cf07404c11eda5c3847597226683145618&quot;<br>  },<br>  &quot;name&quot;: &quot;Gmail AI auto-responder: create draft replies to incoming emails&quot;,<br>  &quot;tags&quot;: [],<br>  &quot;nodes&quot;: [<br>    {<br>      &quot;id&quot;: &quot;2a9ff08f-919a-41a8-980b-8c2bca3059e4&quot;,<br>      &quot;name&quot;: &quot;Gmail Trigger&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.gmailTrigger&quot;,<br>      &quot;position&quot;: [<br>        -332.809175564116,<br>        566.0845437534399<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;simple&quot;: false,<br>        &quot;filters&quot;: {<br>          &quot;q&quot;: &quot;-from:me&quot;<br>        },<br>        &quot;options&quot;: {},<br>        &quot;pollTimes&quot;: {<br>          &quot;item&quot;: [<br>            {<br>              &quot;mode&quot;: &quot;everyMinute&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;gmailOAuth2&quot;: {<br>          &quot;id&quot;: &quot;ofvBTX8A0aWfQb2O&quot;,<br>          &quot;name&quot;: &quot;Gmail account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;3ef14615-0045-404f-a21b-2c65a52f4be8&quot;,<br>      &quot;name&quot;: &quot;If Needs Reply&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.if&quot;,<br>      &quot;position&quot;: [<br>        240,<br>        560<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;conditions&quot;: {<br>          &quot;options&quot;: {<br>            &quot;leftValue&quot;: &quot;&quot;,<br>            &quot;caseSensitive&quot;: true,<br>            &quot;typeValidation&quot;: &quot;strict&quot;<br>          },<br>          &quot;combinator&quot;: &quot;and&quot;,<br>          &quot;conditions&quot;: [<br>            {<br>              &quot;id&quot;: &quot;53849246-ad32-4845-9976-9f9688f5a6f2&quot;,<br>              &quot;operator&quot;: {<br>                &quot;type&quot;: &quot;boolean&quot;,<br>                &quot;operation&quot;: &quot;true&quot;,<br>                &quot;singleValue&quot;: true<br>              },<br>              &quot;leftValue&quot;: &quot;={{ $json.needsReply }}&quot;,<br>              &quot;rightValue&quot;: &quot;true&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;36968dd5-8d51-4184-a05a-587b6c95aa82&quot;,<br>      &quot;name&quot;: &quot;JSON Parser&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.outputParserStructured&quot;,<br>      &quot;position&quot;: [<br>        100,<br>        720<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;jsonSchema&quot;: &quot;{\n  \&quot;type\&quot;: \&quot;object\&quot;,\n  \&quot;properties\&quot;: {\n    \&quot;needsReply\&quot;: {\n      \&quot;type\&quot;: \&quot;boolean\&quot;\n      }\n  },\n  \&quot;required\&quot;: [\&quot;needsReply\&quot;]\n}\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;2a64dce8-e2f0-475e-a366-a02084293aad&quot;,<br>      &quot;name&quot;: &quot;OpenAI Chat&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.lmChatOpenAi&quot;,<br>      &quot;position&quot;: [<br>        -92.809175564116,<br>        726.0845437534399<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;model&quot;: &quot;gpt-4o&quot;,<br>        &quot;options&quot;: {<br>          &quot;temperature&quot;: 0,<br>          &quot;responseFormat&quot;: &quot;json_object&quot;<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;openAiApi&quot;: {<br>          &quot;id&quot;: &quot;13ffkrNMlQMfvbZy&quot;,<br>          &quot;name&quot;: &quot;OpenAi account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;be892ff8-0981-4b34-9c93-7674ddd90360&quot;,<br>      &quot;name&quot;: &quot;Sticky Note&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -429.809175564116,<br>        461.08454375343996<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 304.10628068244364,<br>        &quot;height&quot;: 394.42512272977456,<br>        &quot;content&quot;: &quot;## When I receive an Email\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;9d92839a-9ff2-436c-8abb-2f43e07c1ace&quot;,<br>      &quot;name&quot;: &quot;Sticky Note1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -112.809175564116,<br>        460.08454375343996<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 556,<br>        &quot;height&quot;: 397,<br>        &quot;content&quot;: &quot;## ... that Needs a Reply\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;3cd77609-684c-44e2-9cdc-9479cfd836bd&quot;,<br>      &quot;name&quot;: &quot;Sticky Note2&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        460,<br>        460<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 333.19082443588354,<br>        &quot;height&quot;: 400.08454375343996,<br>        &quot;content&quot;: &quot;## Generate a Reply&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;b123cf31-767d-48bb-a0ba-79a69f6da585&quot;,<br>      &quot;name&quot;: &quot;Sticky Note3&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        807.190824435884,<br>        461.08454375343996<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 326,<br>        &quot;height&quot;: 395,<br>        &quot;content&quot;: &quot;## ...as a Draft in the conversation&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;1a87c416-6b1c-4526-a2b6-20468c95ea0e&quot;,<br>      &quot;name&quot;: &quot;OpenAI Chat Model&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.lmChatOpenAi&quot;,<br>      &quot;position&quot;: [<br>        480,<br>        680<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;model&quot;: &quot;gpt-4-turbo&quot;,<br>        &quot;options&quot;: {}<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;openAiApi&quot;: {<br>          &quot;id&quot;: &quot;13ffkrNMlQMfvbZy&quot;,<br>          &quot;name&quot;: &quot;OpenAi account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;84b4d516-252e-444e-b998-2d4aa0f89653&quot;,<br>      &quot;name&quot;: &quot;Gmail - Create Draft&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.gmail&quot;,<br>      &quot;position&quot;: [<br>        900,<br>        560<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;message&quot;: &quot;={{ $json.text.replace(/\\n/g, \&quot;&lt;br /&gt;\\n\&quot;) }}&quot;,<br>        &quot;options&quot;: {<br>          &quot;sendTo&quot;: &quot;={{ $(&#39;Gmail Trigger&#39;).item.json.headers.from }}&quot;,<br>          &quot;threadId&quot;: &quot;={{ $(&#39;Gmail Trigger&#39;).item.json.threadId }}&quot;<br>        },<br>        &quot;subject&quot;: &quot;=Re: {{ $(&#39;Gmail Trigger&#39;).item.json.headers.subject }}&quot;,<br>        &quot;resource&quot;: &quot;draft&quot;,<br>        &quot;emailType&quot;: &quot;html&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;gmailOAuth2&quot;: {<br>          &quot;id&quot;: &quot;ofvBTX8A0aWfQb2O&quot;,<br>          &quot;name&quot;: &quot;Gmail account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;86017ff4-9c57-4b2a-9cd9-f62571a05ffd&quot;,<br>      &quot;name&quot;: &quot;Assess if message needs a reply&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.chainLlm&quot;,<br>      &quot;position&quot;: [<br>        -92.809175564116,<br>        566.0845437534399<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;prompt&quot;: &quot;=Subject: {{ $json.subject }}\nMessage:\n{{ $json.textAsHtml }} &quot;,<br>        &quot;messages&quot;: {<br>          &quot;messageValues&quot;: [<br>            {<br>              &quot;message&quot;: &quot;Your task is to assess if the message requires a response. Return in JSON format true if it does, false otherwise.\nMarketing emails don&#39;t require a response.&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.3<br>    },<br>    {<br>      &quot;id&quot;: &quot;cab1e7e5-93dc-4850-a471-e285cdbe2058&quot;,<br>      &quot;name&quot;: &quot;Generate email reply&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.chainLlm&quot;,<br>      &quot;position&quot;: [<br>        500,<br>        520<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;text&quot;: &quot;=Subject: {{ $(&#39;Gmail Trigger&#39;).item.json.subject }}\nMessage: {{ $(&#39;Gmail Trigger&#39;).item.json.textAsHtml }}&quot;,<br>        &quot;messages&quot;: {<br>          &quot;messageValues&quot;: [<br>            {<br>              &quot;message&quot;: &quot;You&#39;re a helpful personal assistant and your task is to draft replies on my behalf to my incoming emails. Whenever I provide some text from an email, return an appropriate draft reply for it and nothing else.\nEnsure that the reply is suitable for a professional email setting and addresses the topic in a clear, structured, and detailed manner.\nDo not make things up.\n\nDetailed instructions:\n- Be concise and maintain a business casual tone.\n- Start with \&quot;Hello,\&quot;, and end with \&quot;Best,\&quot;\n- When replying to yes-no questions, draft 2 responses: one affirmative and one negative separated by \&quot; - - - - - - - OR - - - - - - - \&quot;\n- If you don&#39;t know an answer, you can leave placeholders like \&quot;[YOUR_ANSWER_HERE]\&quot;.\n- Don&#39;t use any special formatting, only plain text.\n- Reply in the same language as the inbound email.&quot;<br>            }<br>          ]<br>        },<br>        &quot;promptType&quot;: &quot;define&quot;<br>      },<br>      &quot;typeVersion&quot;: 1.4<br>    }<br>  ],<br>  &quot;active&quot;: true,<br>  &quot;pinData&quot;: {},<br>  &quot;settings&quot;: {<br>    &quot;executionOrder&quot;: &quot;v1&quot;<br>  },<br>  &quot;versionId&quot;: &quot;c4448c34-1f75-4479-805e-20d8a69a7e00&quot;,<br>  &quot;connections&quot;: {<br>    &quot;JSON Parser&quot;: {<br>      &quot;ai_outputParser&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Assess if message needs a reply&quot;,<br>            &quot;type&quot;: &quot;ai_outputParser&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;OpenAI Chat&quot;: {<br>      &quot;ai_languageModel&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Assess if message needs a reply&quot;,<br>            &quot;type&quot;: &quot;ai_languageModel&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Gmail Trigger&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Assess if message needs a reply&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;If Needs Reply&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Generate email reply&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;OpenAI Chat Model&quot;: {<br>      &quot;ai_languageModel&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Generate email reply&quot;,<br>            &quot;type&quot;: &quot;ai_languageModel&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Generate email reply&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Gmail - Create Draft&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Assess if message needs a reply&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;If Needs Reply&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    }<br>  }<br>}</div></td></tr><tr style="height: 59px"><th id="0R12" style="height: 59px;" class="row-headers-background"><div class="row-header-wrapper" style="line-height: 59px">13</div></th><td class="s3" dir="ltr">Buscador de tendencias en YouTube seg√∫n tu nicho con IA</td><td class="s4 softmerge" dir="ltr"><div class="softmerge-inner" style="width:5507px;left:-3px">{<br>  &quot;id&quot;: &quot;XSyVFC1tsGSxNwX9&quot;,<br>  &quot;meta&quot;: {<br>    &quot;instanceId&quot;: &quot;60ad864624415060d2d0a0e71acd8b3b40e4ee2e9ef4b439d9937d3d33537a96&quot;<br>  },<br>  &quot;name&quot;: &quot;Complete Youtube&quot;,<br>  &quot;tags&quot;: [],<br>  &quot;nodes&quot;: [<br>    {<br>      &quot;id&quot;: &quot;fd74706b-609b-4723-b4a4-067e1b064194&quot;,<br>      &quot;name&quot;: &quot;AI Agent&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.agent&quot;,<br>      &quot;position&quot;: [<br>        300,<br>        60<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {<br>          &quot;systemMessage&quot;: &quot;=You help youtube creators find trending videos based on a specific niche.\n\nVerify if the user informed a niche before doing anything. If not, then ask him for one by giving him suggestions for him to select from.\n\nAfter you know what type of content the user might produce, use the \&quot;youtube_search\&quot; tool up to 3 times with different search terms based on the user&#39;s content type and niche.\n\nThe tool will answer with a list of videos from the last 2 days that had the most amount of relevancy. It returns a list of json&#39;s covering each video&#39;s id, view count, like count, comment count, description, channel title, tags and channel id. Each video is separated by \&quot;### NEXT VIDEO FOUND: ###\&quot;.\n\nYou should then proceed to understand the data received then provide the user with insightful data of what could be trending from the past 2 days. Provide the user links to the trending videos which should be in this structure:\n\nhttps://www.youtube.com/watch?v={video_id}\n\nto reach the channel&#39;s link you should use:\n\nhttps://www.youtube.com/channel/{channel_id}\n\nFind patterns in the tags, titles and especially in the related content for the videos found.\n\nYour mission isn&#39;t to find the trending videos. It&#39;s to provide the user with valuable information of what is trending in that niche in terms of content news. Remember to provide the user with the numbers of views, likes and comments while commenting about any video. So you should not talk about any particular video, focus rather in explaining the overall senario of all that was found.\n\nExample of response:\n\n\&quot;It seems like what is trending in digital marketing right now is talking about mental triggers, since 3 of the most trending videos in the last 2 days were about...\&quot;&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.6<br>    },<br>    {<br>      &quot;id&quot;: &quot;ced4b937-b590-4727-b1f2-a5e88b96091a&quot;,<br>      &quot;name&quot;: &quot;chat_message_received&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.chatTrigger&quot;,<br>      &quot;position&quot;: [<br>        80,<br>        60<br>      ],<br>      &quot;webhookId&quot;: &quot;ff9622a4-a6ec-4396-b9de-c95bd834c23c&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;35a91359-5007-407d-a750-d6642e595690&quot;,<br>      &quot;name&quot;: &quot;youtube_search&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.toolWorkflow&quot;,<br>      &quot;position&quot;: [<br>        540,<br>        180<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;name&quot;: &quot;youtube_search&quot;,<br>        &quot;workflowId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;N9DveO781xbNf8qs&quot;,<br>          &quot;cachedResultName&quot;: &quot;Youtube Search Workflow&quot;<br>        },<br>        &quot;description&quot;: &quot;Call this tool to search for trending videos based on a query.&quot;,<br>        &quot;jsonSchemaExample&quot;: &quot;{\n\t\&quot;search_term\&quot;: \&quot;some_value\&quot;\n}&quot;,<br>        &quot;specifyInputSchema&quot;: true<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;42f41096-531d-4587-833a-6f659ef78dd0&quot;,<br>      &quot;name&quot;: &quot;openai_llm&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.lmChatOpenAi&quot;,<br>      &quot;position&quot;: [<br>        260,<br>        180<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;e4bda5b9-abd4-4cd6-8c95-126a01aa6e21&quot;,<br>      &quot;name&quot;: &quot;window_buffer_memory&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.memoryBufferWindow&quot;,<br>      &quot;position&quot;: [<br>        400,<br>        180<br>      ],<br>      &quot;parameters&quot;: {},<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;f6d86c5a-393a-4bcf-bdaf-3b06c79fa51d&quot;,<br>      &quot;name&quot;: &quot;Sticky Note1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        0,<br>        0<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 693.2572054941234,<br>        &quot;height&quot;: 354.53098948245656,<br>        &quot;content&quot;: &quot;Main Workflow&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;4ddbc3f0-e3d7-4ce4-a732-d731c05024d2&quot;,<br>      &quot;name&quot;: &quot;find_video_data1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.httpRequest&quot;,<br>      &quot;position&quot;: [<br>        700,<br>        720<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;url&quot;: &quot;https://www.googleapis.com/youtube/v3/videos?&quot;,<br>        &quot;options&quot;: {},<br>        &quot;sendQuery&quot;: true,<br>        &quot;queryParameters&quot;: {<br>          &quot;parameters&quot;: [<br>            {<br>              &quot;name&quot;: &quot;key&quot;,<br>              &quot;value&quot;: &quot;={{ $env[\&quot;GOOGLE_API_KEY\&quot;] }}&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;id&quot;,<br>              &quot;value&quot;: &quot;={{ $json.id.videoId }}&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;part&quot;,<br>              &quot;value&quot;: &quot;contentDetails, snippet, statistics&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 4.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;fdb28635-801d-4ce0-8919-11446c6a7a82&quot;,<br>      &quot;name&quot;: &quot;get_videos1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.youTube&quot;,<br>      &quot;position&quot;: [<br>        280,<br>        560<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;limit&quot;: 3,<br>        &quot;filters&quot;: {<br>          &quot;q&quot;: &quot;={{ $json.query.search_term }}&quot;,<br>          &quot;regionCode&quot;: &quot;US&quot;,<br>          &quot;publishedAfter&quot;: &quot;={{ new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString() }}&quot;<br>        },<br>        &quot;options&quot;: {<br>          &quot;order&quot;: &quot;relevance&quot;,<br>          &quot;safeSearch&quot;: &quot;moderate&quot;<br>        },<br>        &quot;resource&quot;: &quot;video&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;youTubeOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;dCyrga3t1tlgQQy0&quot;,<br>          &quot;name&quot;: &quot;YouTube account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;60e9e61d-0e5e-4212-8b55-71299aeec4d5&quot;,<br>      &quot;name&quot;: &quot;response1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        1100,<br>        500<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;b9b9117b-ea14-482e-a13b-e68b8e6b441d&quot;,<br>              &quot;name&quot;: &quot;response&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $input.all() }}&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;254a6740-8b25-4898-9795-4c3f0009471f&quot;,<br>      &quot;name&quot;: &quot;group_data1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        1160,<br>        700<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;47c172ad-90c8-4cf6-a9f5-50607e04cc90&quot;,<br>              &quot;name&quot;: &quot;id&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $json.items[0].id }}&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;9e639efa-0714-4b06-9847-f7b4b2fbef59&quot;,<br>              &quot;name&quot;: &quot;viewCount&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $json.items[0].statistics.viewCount }}&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;93328f00-91b8-425b-ad0f-a330b2f95242&quot;,<br>              &quot;name&quot;: &quot;likeCount&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $json.items[0].statistics.likeCount }}&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;015b0fb2-2a98-464c-a21b-51100616f26a&quot;,<br>              &quot;name&quot;: &quot;commentCount&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $json.items[0].statistics.commentCount }}&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;cf1e1ec3-a138-42b8-8747-d249afa58dd3&quot;,<br>              &quot;name&quot;: &quot;description&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $json.items[0].snippet.description }}&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;c5c9a3a2-b820-4932-a38a-e21102992215&quot;,<br>              &quot;name&quot;: &quot;title&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $json.items[0].snippet.title }}&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;38216ead-1f8d-4f93-b6ad-5ef709a1ad2a&quot;,<br>              &quot;name&quot;: &quot;channelTitle&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $json.items[0].snippet.channelTitle }}&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;ff34194d-3d46-43a8-9127-84708987f536&quot;,<br>              &quot;name&quot;: &quot;tags&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $json.items[0].snippet.tags.join(&#39;, &#39;) }}&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;e50b0f7b-3e37-4557-8863-d68d4fa505c8&quot;,<br>              &quot;name&quot;: &quot;channelId&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $json.items[0].snippet.channelId }}&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;124c19a9-cbbd-4010-be37-50523c05f64b&quot;,<br>      &quot;name&quot;: &quot;save_data_to_memory1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.code&quot;,<br>      &quot;position&quot;: [<br>        1360,<br>        700<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;mode&quot;: &quot;runOnceForEachItem&quot;,<br>        &quot;jsCode&quot;: &quot;const workflowStaticData = $getWorkflowStaticData(&#39;global&#39;);\n\nif (typeof workflowStaticData.lastExecution !== &#39;object&#39;) {\n    workflowStaticData.lastExecution = {\n        response: \&quot;\&quot;\n    };\n}\n\nfunction removeEmojis(text) {\n    return text.replace(/[\\u{1F600}-\\u{1F64F}|\\u{1F300}-\\u{1F5FF}|\\u{1F680}-\\u{1F6FF}|\\u{2600}-\\u{26FF}|\\u{2700}-\\u{27BF}]/gu, &#39;&#39;);\n}\n\nfunction cleanDescription(description) {\n    return description\n        .replace(/https?:\\/\\/\\S+/g, &#39;&#39;)\n        .replace(/www\\.\\S+/g, &#39;&#39;)\n        .replace(/  +/g, &#39; &#39;)\n        .trim();\n}\n\nconst currentItem = { ...$input.item };\n\nif (currentItem.description) {\n    currentItem.description = cleanDescription(currentItem.description);\n}\n\nlet sanitizedItem = JSON.stringify(currentItem)\n    .replace(/\\\\r/g, &#39; &#39;)\n    .replace(/https?:\\/\\/\\S+/g, &#39;&#39;)\n    .replace(/www\\.\\S+/g, &#39;&#39;)\n    .replace(/\\\\n/g, &#39; &#39;)\n    .replace(/\\n/g, &#39; &#39;)\n    .replace(/\\\\/g, &#39;&#39;)\n    .replace(/  +/g, &#39; &#39;)\n    .trim();\n\nif (workflowStaticData.lastExecution.response) {\n    workflowStaticData.lastExecution.response += &#39; ### NEXT VIDEO FOUND: ### &#39;;\n}\n\nworkflowStaticData.lastExecution.response += removeEmojis(sanitizedItem);\n\nreturn workflowStaticData.lastExecution;\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;67f92ec4-71c0-49df-a0ea-11d2e3cf0f94&quot;,<br>      &quot;name&quot;: &quot;retrieve_data_from_memory1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.code&quot;,<br>      &quot;position&quot;: [<br>        780,<br>        500<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;jsCode&quot;: &quot;const workflowStaticData = $getWorkflowStaticData(&#39;global&#39;);\n\nconst lastExecution = workflowStaticData.lastExecution;\n\nreturn lastExecution;&quot;<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;685820ba-b089-4cdc-984d-52f134754b5c&quot;,<br>      &quot;name&quot;: &quot;loop_over_items1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.splitInBatches&quot;,<br>      &quot;position&quot;: [<br>        500,<br>        560<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 3<br>    },<br>    {<br>      &quot;id&quot;: &quot;3d4d5a4b-d06b-41db-bb78-a64a266d5308&quot;,<br>      &quot;name&quot;: &quot;if_longer_than_3_&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.if&quot;,<br>      &quot;position&quot;: [<br>        880,<br>        720<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;conditions&quot;: {<br>          &quot;options&quot;: {<br>            &quot;version&quot;: 2,<br>            &quot;leftValue&quot;: &quot;&quot;,<br>            &quot;caseSensitive&quot;: true,<br>            &quot;typeValidation&quot;: &quot;strict&quot;<br>          },<br>          &quot;combinator&quot;: &quot;and&quot;,<br>          &quot;conditions&quot;: [<br>            {<br>              &quot;id&quot;: &quot;08ba3db9-6bcf-47f8-a74d-9e26f28cb08f&quot;,<br>              &quot;operator&quot;: {<br>                &quot;type&quot;: &quot;boolean&quot;,<br>                &quot;operation&quot;: &quot;true&quot;,<br>                &quot;singleValue&quot;: true<br>              },<br>              &quot;leftValue&quot;: &quot;={{ \n  (() =&gt; {\n    const duration = $json.items[0].contentDetails.duration;\n\n    // Helper function to convert ISO 8601 duration to seconds\n    const iso8601ToSeconds = iso8601 =&gt; {\n      const match = iso8601.match(/PT(?:(\\d+)H)?(?:(\\d+)M)?(?:(\\d+)S)?/);\n      const hours = parseInt(match[1] || 0, 10);\n      const minutes = parseInt(match[2] || 0, 10);\n      const seconds = parseInt(match[3] || 0, 10);\n      return hours * 3600 + minutes * 60 + seconds;\n    };\n\n    // Convert duration to seconds\n    const durationInSeconds = iso8601ToSeconds(duration);\n\n    // Check if greater than 210 seconds (3 minutes 30 seconds)\n    return durationInSeconds &gt; 210;\n  })() \n}}&quot;,<br>              &quot;rightValue&quot;: &quot;&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;7c6b8b82-fd6c-4f44-bccf-88c5a76f0319&quot;,<br>      &quot;name&quot;: &quot;Sticky Note2&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        0,<br>        420<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 5,<br>        &quot;width&quot;: 1607,<br>        &quot;height&quot;: 520,<br>        &quot;content&quot;: &quot;This part should be abstracted to another workflow and called inside the \&quot;youtube_search\&quot; tool of the main AI Agent.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    }<br>  ],<br>  &quot;active&quot;: false,<br>  &quot;pinData&quot;: {},<br>  &quot;settings&quot;: {<br>    &quot;executionOrder&quot;: &quot;v1&quot;<br>  },<br>  &quot;versionId&quot;: &quot;cea84238-2b82-4a32-85dd-0c71ad685d47&quot;,<br>  &quot;connections&quot;: {<br>    &quot;openai_llm&quot;: {<br>      &quot;ai_languageModel&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Agent&quot;,<br>            &quot;type&quot;: &quot;ai_languageModel&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;get_videos1&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;loop_over_items1&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;group_data1&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;save_data_to_memory1&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;youtube_search&quot;: {<br>      &quot;ai_tool&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Agent&quot;,<br>            &quot;type&quot;: &quot;ai_tool&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;find_video_data1&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;if_longer_than_3_&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;loop_over_items1&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;retrieve_data_from_memory1&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;find_video_data1&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;if_longer_than_3_&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;group_data1&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;loop_over_items1&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;save_data_to_memory1&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;loop_over_items1&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;window_buffer_memory&quot;: {<br>      &quot;ai_memory&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Agent&quot;,<br>            &quot;type&quot;: &quot;ai_memory&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;chat_message_received&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Agent&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;retrieve_data_from_memory1&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;response1&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    }<br>  }<br>}</div></td></tr><tr style="height: 59px"><th id="0R13" style="height: 59px;" class="row-headers-background"><div class="row-header-wrapper" style="line-height: 59px">14</div></th><td class="s5" dir="ltr">Generador de contenido automatizado para WordPress con DeepSeek R1</td><td class="s6 softmerge" dir="ltr"><div class="softmerge-inner" style="width:3454px;left:-3px">{<br>  &quot;id&quot;: &quot;p5bfwpcRy6LK33Io&quot;,<br>  &quot;meta&quot;: {<br>    &quot;instanceId&quot;: &quot;a4bfc93e975ca233ac45ed7c9227d84cf5a2329310525917adaf3312e10d5462&quot;,<br>    &quot;templateCredsSetupCompleted&quot;: true<br>  },<br>  &quot;name&quot;: &quot;Automate Content Generator for WordPress with DeepSeek R1&quot;,<br>  &quot;tags&quot;: [],<br>  &quot;nodes&quot;: [<br>    {<br>      &quot;id&quot;: &quot;c4a6995f-7769-4b77-80ca-1e6bccef77c1&quot;,<br>      &quot;name&quot;: &quot;When clicking ‚ÄòTest workflow‚Äô&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.manualTrigger&quot;,<br>      &quot;position&quot;: [<br>        -20,<br>        200<br>      ],<br>      &quot;parameters&quot;: {},<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;c76b1458-5130-41e7-b2f2-1cfe22eab536&quot;,<br>      &quot;name&quot;: &quot;Get Ideas&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleSheets&quot;,<br>      &quot;position&quot;: [<br>        200,<br>        200<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;sheetName&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;id&quot;,<br>          &quot;value&quot;: &quot;=Sheet1&quot;<br>        },<br>        &quot;documentId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;id&quot;,<br>          &quot;value&quot;: &quot;YOURDOCUMENT&quot;<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googleSheetsOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;JYR6a64Qecd6t8Hb&quot;,<br>          &quot;name&quot;: &quot;Google Sheets account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 4.5<br>    },<br>    {<br>      &quot;id&quot;: &quot;8d17a640-3e15-42e9-9481-e3291d395ccd&quot;,<br>      &quot;name&quot;: &quot;Set your prompt&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        420,<br>        200<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;3e8d2523-66aa-46fe-adcc-39dc78b9161e&quot;,<br>              &quot;name&quot;: &quot;prompt&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $json.PROMPT }}&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;4f0e9065-b331-49ed-acd9-77c7c43e89a5&quot;,<br>      &quot;name&quot;: &quot;Create post on Wordpress&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.wordpress&quot;,<br>      &quot;position&quot;: [<br>        0,<br>        500<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;title&quot;: &quot;={{ $json.message.content }}&quot;,<br>        &quot;additionalFields&quot;: {<br>          &quot;status&quot;: &quot;draft&quot;,<br>          &quot;content&quot;: &quot;={{ $(&#39;Generate article with DeepSeek&#39;).item.json.message.content }}&quot;<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;wordpressApi&quot;: {<br>          &quot;id&quot;: &quot;OE4AgquSkMWydRqn&quot;,<br>          &quot;name&quot;: &quot;Wordpress (wp.test.7hype.com)&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;cb85d980-9d60-4c85-8574-b46e4cc14341&quot;,<br>      &quot;name&quot;: &quot;Upload image&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.httpRequest&quot;,<br>      &quot;position&quot;: [<br>        420,<br>        500<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;url&quot;: &quot;https://YOURSITE.com/wp-json/wp/v2/media&quot;,<br>        &quot;method&quot;: &quot;POST&quot;,<br>        &quot;options&quot;: {},<br>        &quot;sendBody&quot;: true,<br>        &quot;contentType&quot;: &quot;binaryData&quot;,<br>        &quot;sendHeaders&quot;: true,<br>        &quot;authentication&quot;: &quot;predefinedCredentialType&quot;,<br>        &quot;headerParameters&quot;: {<br>          &quot;parameters&quot;: [<br>            {<br>              &quot;name&quot;: &quot;Content-Disposition&quot;,<br>              &quot;value&quot;: &quot;=attachment; filename=\&quot;copertina-{{ $(&#39;Create post on Wordpress&#39;).item.json.id }}.jpg\&quot;&quot;<br>            }<br>          ]<br>        },<br>        &quot;inputDataFieldName&quot;: &quot;data&quot;,<br>        &quot;nodeCredentialType&quot;: &quot;wordpressApi&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;wordpressApi&quot;: {<br>          &quot;id&quot;: &quot;OE4AgquSkMWydRqn&quot;,<br>          &quot;name&quot;: &quot;Wordpress (wp.test.7hype.com)&quot;<br>        },<br>        &quot;wooCommerceApi&quot;: {<br>          &quot;id&quot;: &quot;vYYrjB5kgHQ0XByZ&quot;,<br>          &quot;name&quot;: &quot;WooCommerce (wp.test.7hype.com)&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 4.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;bc71ed8a-fe35-487a-b4cd-6b8c1b256763&quot;,<br>      &quot;name&quot;: &quot;Set Image&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.httpRequest&quot;,<br>      &quot;position&quot;: [<br>        640,<br>        500<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;url&quot;: &quot;=https://wp.test.7hype.com/wp-json/wp/v2/posts/{{ $(&#39;Create post on Wordpress&#39;).item.json.id }}&quot;,<br>        &quot;method&quot;: &quot;POST&quot;,<br>        &quot;options&quot;: {},<br>        &quot;sendQuery&quot;: true,<br>        &quot;authentication&quot;: &quot;predefinedCredentialType&quot;,<br>        &quot;queryParameters&quot;: {<br>          &quot;parameters&quot;: [<br>            {<br>              &quot;name&quot;: &quot;featured_media&quot;,<br>              &quot;value&quot;: &quot;={{ $json.id }}&quot;<br>            }<br>          ]<br>        },<br>        &quot;nodeCredentialType&quot;: &quot;wordpressApi&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;wordpressApi&quot;: {<br>          &quot;id&quot;: &quot;OE4AgquSkMWydRqn&quot;,<br>          &quot;name&quot;: &quot;Wordpress (wp.test.7hype.com)&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 4.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;fbed2813-cc64-42a2-994f-3696e9d8d8fe&quot;,<br>      &quot;name&quot;: &quot;Update Sheet&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleSheets&quot;,<br>      &quot;position&quot;: [<br>        880,<br>        500<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;columns&quot;: {<br>          &quot;value&quot;: {<br>            &quot;DATA&quot;: &quot;={{ $now.format(&#39;dd/LL/yyyy&#39;) }}&quot;,<br>            &quot;TITOLO&quot;: &quot;={{ $(&#39;Generate title with DeepSeek&#39;).item.json.message.content }}&quot;,<br>            &quot;ID POST&quot;: &quot;={{ $(&#39;Create post on Wordpress&#39;).item.json.id }}&quot;,<br>            &quot;row_number&quot;: &quot;={{ $(&#39;Get Ideas&#39;).item.json.row_number }}&quot;<br>          },<br>          &quot;schema&quot;: [<br>            {<br>              &quot;id&quot;: &quot;DATA&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;DATA&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;PROMPT&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;PROMPT&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;TITOLO&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;TITOLO&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;ID POST&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;ID POST&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;row_number&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;removed&quot;: false,<br>              &quot;readOnly&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;row_number&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            }<br>          ],<br>          &quot;mappingMode&quot;: &quot;defineBelow&quot;,<br>          &quot;matchingColumns&quot;: [<br>            &quot;row_number&quot;<br>          ],<br>          &quot;attemptToConvertTypes&quot;: false,<br>          &quot;convertFieldsToString&quot;: false<br>        },<br>        &quot;options&quot;: {},<br>        &quot;operation&quot;: &quot;update&quot;,<br>        &quot;sheetName&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;gid=0&quot;,<br>          &quot;cachedResultUrl&quot;: &quot;https://docs.google.com/spreadsheets/d/16VFeCrE5BkMBoA_S5HD-9v7C0sxcXAUiDbq5JvkDqnI/edit#gid=0&quot;,<br>          &quot;cachedResultName&quot;: &quot;Foglio1&quot;<br>        },<br>        &quot;documentId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;16VFeCrE5BkMBoA_S5HD-9v7C0sxcXAUiDbq5JvkDqnI&quot;,<br>          &quot;cachedResultUrl&quot;: &quot;https://docs.google.com/spreadsheets/d/16VFeCrE5BkMBoA_S5HD-9v7C0sxcXAUiDbq5JvkDqnI/edit?usp=drivesdk&quot;,<br>          &quot;cachedResultName&quot;: &quot;Plan Blog wp.test.7hype.com&quot;<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googleSheetsOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;JYR6a64Qecd6t8Hb&quot;,<br>          &quot;name&quot;: &quot;Google Sheets account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 4.5<br>    },<br>    {<br>      &quot;id&quot;: &quot;8db2b0cb-6d61-4e2d-bfac-e25a0385296d&quot;,<br>      &quot;name&quot;: &quot;Sticky Note&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -60,<br>        -360<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 3,<br>        &quot;width&quot;: 800,<br>        &quot;height&quot;: 380,<br>        &quot;content&quot;: &quot;## Target\nThis workflow is designed to automatically generate seo-friendly content for wordpress through DeepSeek R1 by giving input ideas on how to structure the article. A cover image is also generated and uploaded with OpenAI DALL-E 3. This flow is designed to be executed automatically (ad \&quot;On a schedule\&quot; node) and thus have a complete editorial plan.\n\nThis process is useful for blog managers who want to automate content creation and publishing.\n\n## Preliminary step\nCreate a google sheet with the following columns:\n- Date\n- Prompt\n- Title\n- Post ID\n\nFill in only the \&quot;Prompt\&quot; column with basic ideas that DeepSeek will work on to generate the content.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;ab620659-558d-46f0-ab85-e061af99b743&quot;,<br>      &quot;name&quot;: &quot;Sticky Note1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        140,<br>        100<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;height&quot;: 260,<br>        &quot;content&quot;: &quot;Connect with your Google Sheet. This node select only rows for which no content has been generated yet in WordPress&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;73b0e640-8ccf-4e29-a0cd-6340db907bbd&quot;,<br>      &quot;name&quot;: &quot;Generate article with DeepSeek&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.openAi&quot;,<br>      &quot;position&quot;: [<br>        640,<br>        200<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;modelId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;id&quot;,<br>          &quot;value&quot;: &quot;=deepseek-reasoner&quot;<br>        },<br>        &quot;options&quot;: {<br>          &quot;maxTokens&quot;: 2048<br>        },<br>        &quot;messages&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;content&quot;: &quot;=You are an SEO expert, write an article based on this topic:\n{{ $json.prompt }}\n\nInstructions:\n- In the introduction, introduce the topic that will be explored in the rest of the text\n- The introduction should be about 120 words\n- The conclusions should be about 120 words\n- Use the conclusions to summarize everything said in the article and offer a conclusion to the reader\n- Write a maximum of 4-5 chapters and argue them.\n- The chapters should follow a logical flow and not repeat the same concepts.\n- The chapters should be related to each other and not isolated blocks of text. The text should flow and follow a linear logic.\n- Do not start chapters with \&quot;Chapter 1\&quot;, \&quot;Chapter 2\&quot;, \&quot;Chapter 3\&quot; ... write only the chapter title\n- For the text, use HTML for formatting, but limit yourself to bold, italics, paragraphs and lists.\n- Don&#39;t put the output in ```html but only text\n- Don&#39;t use markdown for formatting.\n- Go deeper into the topic you&#39;re talking about, don&#39;t just throw superficial information there\n- In output I want only the HTML format&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;openAiApi&quot;: {<br>          &quot;id&quot;: &quot;97Cz4cqyiy1RdcQL&quot;,<br>          &quot;name&quot;: &quot;DeepSeek&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.8<br>    },<br>    {<br>      &quot;id&quot;: &quot;6ef4e0d1-6123-4f47-94fb-c06c785ddd92&quot;,<br>      &quot;name&quot;: &quot;Generate title with DeepSeek&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.openAi&quot;,<br>      &quot;position&quot;: [<br>        880,<br>        200<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;modelId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;id&quot;,<br>          &quot;value&quot;: &quot;=deepseek-reasoner&quot;<br>        },<br>        &quot;options&quot;: {<br>          &quot;maxTokens&quot;: 2048<br>        },<br>        &quot;messages&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;content&quot;: &quot;=You are an SEO Copywriter and you need to think of a title of maximum 60 characters for the following article:\n{{ $json.message.content }}\n\nInstructions:\n- Use keywords contained in the article\n- Do not use any HTML characters\n- Output only the string containing the title.\n- Do not use quotation marks. The only special characters allowed are \&quot;:\&quot; and \&quot;,\&quot;&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;openAiApi&quot;: {<br>          &quot;id&quot;: &quot;97Cz4cqyiy1RdcQL&quot;,<br>          &quot;name&quot;: &quot;DeepSeek&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.8<br>    },<br>    {<br>      &quot;id&quot;: &quot;2ecc8514-c04e-4f8b-9ab3-560f2cf910b0&quot;,<br>      &quot;name&quot;: &quot;Sticky Note2&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        580,<br>        100<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 420,<br>        &quot;height&quot;: 260,<br>        &quot;content&quot;: &quot;Add your DeepSeek API credential. If you want you can change the model with \&quot;deepseek-chat\&quot;&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;196f7799-a6ab-429b-afd3-bcbcbd65da3b&quot;,<br>      &quot;name&quot;: &quot;Sticky Note3&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -20,<br>        420<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 160,<br>        &quot;height&quot;: 260,<br>        &quot;content&quot;: &quot;Add your WordPress API credential\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;93c2d359-531a-4cc9-8a18-870c2d6ec62c&quot;,<br>      &quot;name&quot;: &quot;Generate Image with DALL-E&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.openAi&quot;,<br>      &quot;position&quot;: [<br>        200,<br>        500<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;prompt&quot;: &quot;=Generate a real photographic image used as a cover for a blog post:\n\nImage prompt:\n{{ $(&#39;Generate title with DeepSeek&#39;).item.json.message.content }}, photography, realistic, sigma 85mm f/1.4&quot;,<br>        &quot;options&quot;: {<br>          &quot;size&quot;: &quot;1792x1024&quot;,<br>          &quot;style&quot;: &quot;natural&quot;,<br>          &quot;quality&quot;: &quot;hd&quot;<br>        },<br>        &quot;resource&quot;: &quot;image&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;openAiApi&quot;: {<br>          &quot;id&quot;: &quot;CDX6QM4gLYanh0P4&quot;,<br>          &quot;name&quot;: &quot;OpenAi account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.8<br>    },<br>    {<br>      &quot;id&quot;: &quot;eec14cd7-fb2b-4f7d-ad94-bcffc1249353&quot;,<br>      &quot;name&quot;: &quot;Sticky Note4&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        180,<br>        420<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 160,<br>        &quot;height&quot;: 260,<br>        &quot;content&quot;: &quot;Add your OpenAI API credential\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;4f15679b-bc8f-45b8-b3c4-8b43d7f9bb6f&quot;,<br>      &quot;name&quot;: &quot;Sticky Note5&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        380,<br>        420<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 180,<br>        &quot;height&quot;: 260,<br>        &quot;content&quot;: &quot;Upload the image on your WordPress via APIs\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;abe32434-671a-4ac3-a788-fcf5fd0e9435&quot;,<br>      &quot;name&quot;: &quot;Sticky Note6&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        600,<br>        420<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 180,<br>        &quot;height&quot;: 260,<br>        &quot;content&quot;: &quot;Set the uploaded image with the newly created article\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    }<br>  ],<br>  &quot;active&quot;: false,<br>  &quot;pinData&quot;: {},<br>  &quot;settings&quot;: {<br>    &quot;executionOrder&quot;: &quot;v1&quot;<br>  },<br>  &quot;versionId&quot;: &quot;315cc8df-bca2-4180-806e-a01407dccc79&quot;,<br>  &quot;connections&quot;: {<br>    &quot;Get Ideas&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Set your prompt&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Set Image&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Update Sheet&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Upload image&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Set Image&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Set your prompt&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Generate article with DeepSeek&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Create post on Wordpress&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Generate Image with DALL-E&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Generate Image with DALL-E&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Upload image&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Generate title with DeepSeek&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Create post on Wordpress&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Generate article with DeepSeek&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Generate title with DeepSeek&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;When clicking ‚ÄòTest workflow‚Äô&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Get Ideas&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    }<br>  }<br>}</div></td></tr><tr style="height: 59px"><th id="0R14" style="height: 59px;" class="row-headers-background"><div class="row-header-wrapper" style="line-height: 59px">15</div></th><td class="s3" dir="ltr">Campa√±as de Gmail: env√≠a correos masivos y haz seguimiento autom√°tico si no responden</td><td class="s4 softmerge" dir="ltr"><div class="softmerge-inner" style="width:5728px;left:-3px">{<br>  &quot;meta&quot;: {<br>    &quot;instanceId&quot;: &quot;cb484ba7b742928a2048bf8829668bed5b5ad9787579adea888f05980292a4a7&quot;<br>  },<br>  &quot;nodes&quot;: [<br>    {<br>      &quot;id&quot;: &quot;8565747a-4108-4467-98e4-f57d441f66af&quot;,<br>      &quot;name&quot;: &quot;Update last contacted time&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleSheets&quot;,<br>      &quot;position&quot;: [<br>        2380,<br>        140<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;columns&quot;: {<br>          &quot;value&quot;: {<br>            &quot;row_number&quot;: &quot;={{ $(&#39;To email?&#39;).item.json.row_number }}&quot;,<br>            &quot;first_emailed&quot;: &quot;={{ $now.format(&#39;yyyy-MM-dd&#39;) }}&quot;<br>          },<br>          &quot;schema&quot;: [<br>            {<br>              &quot;id&quot;: &quot;email&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;removed&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;email&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;first_emailed&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;removed&quot;: false,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;first_emailed&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;name&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;removed&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;name&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;company&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;removed&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;company&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;row_number&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;removed&quot;: false,<br>              &quot;readOnly&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;row_number&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            }<br>          ],<br>          &quot;mappingMode&quot;: &quot;defineBelow&quot;,<br>          &quot;matchingColumns&quot;: [<br>            &quot;row_number&quot;<br>          ]<br>        },<br>        &quot;options&quot;: {},<br>        &quot;operation&quot;: &quot;update&quot;,<br>        &quot;sheetName&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;url&quot;,<br>          &quot;value&quot;: &quot;={{ $(&#39;Settings&#39;).item.json.sheet_url }}&quot;<br>        },<br>        &quot;documentId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;url&quot;,<br>          &quot;value&quot;: &quot;={{ $(&#39;Settings&#39;).item.json.sheet_url }}&quot;<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googleSheetsOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;196&quot;,<br>          &quot;name&quot;: &quot;Google Sheets account (David)&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 4.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;5f079ac7-1bef-4bb8-8efe-1f3803357fb1&quot;,<br>      &quot;name&quot;: &quot;Set message template&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;disabled&quot;: true,<br>      &quot;position&quot;: [<br>        1500,<br>        1120<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;fields&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;name&quot;: &quot;message_template&quot;,<br>              &quot;stringValue&quot;: &quot;={{ $(&#39;Email sequence&#39;).first().json.emails[0].message }}&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;email&quot;,<br>              &quot;stringValue&quot;: &quot;david@thedavid.co.uk&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;name&quot;,<br>              &quot;stringValue&quot;: &quot;Daffyd&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;company&quot;,<br>              &quot;stringValue&quot;: &quot;Davey Enterprises&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;subject&quot;,<br>              &quot;stringValue&quot;: &quot;={{ $(&#39;Settings&#39;).item.json.subject }}&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;sender_name&quot;,<br>              &quot;stringValue&quot;: &quot;={{ $(&#39;Settings&#39;).item.json.sender_name }}&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;mail_id&quot;,<br>              &quot;stringValue&quot;: &quot;={{ $(&#39;Settings&#39;).item.json.mail_id }}&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;mail_seq&quot;,<br>              &quot;stringValue&quot;: &quot;0&quot;<br>            }<br>          ]<br>        },<br>        &quot;include&quot;: &quot;none&quot;,<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 3.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;7ff4eabc-f49a-4adc-9a4b-750585b72070&quot;,<br>      &quot;name&quot;: &quot;Email sequence&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        1000,<br>        140<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;mode&quot;: &quot;raw&quot;,<br>        &quot;options&quot;: {},<br>        &quot;jsonOutput&quot;: &quot;{\n  \&quot;emails\&quot;: [\n    {\n      \&quot;message\&quot;: \&quot;Hi {name}, hope you&#39;re well!&lt;br /&gt;\\n&lt;br /&gt;\\nYou&#39;re doing some great things at {company}, and I wanted to touch base to see if you wanted to chat.&lt;br /&gt;\\n&lt;br /&gt;\\nWould it make sense to jump on a quick call?&lt;br /&gt;\\n&lt;br /&gt;\\nRegards,&lt;br /&gt;\\n&lt;br /&gt;\\nNathan&lt;br /&gt;\\n\&quot;,\n      \&quot;send_on_day\&quot;: 0\n    },\n    {\n      \&quot;message\&quot;: \&quot;Hi {name},&lt;br /&gt;\\n&lt;br /&gt;\\nJust wanted to follow up on this, since it would be great to talk.&lt;br /&gt;\\n&lt;br /&gt;\\nRegards,&lt;br /&gt;\\n&lt;br /&gt;\\nNathan&lt;br /&gt;\\n\&quot;,\n      \&quot;send_on_day\&quot;: 3\n    },\n    {\n      \&quot;message\&quot;: \&quot;Just thought I&#39;d give this one last try :)&lt;br /&gt;\\n&lt;br /&gt;\\nNathan\\n\&quot;,\n      \&quot;send_on_day\&quot;: 8\n    }\n  ]\n}\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 3.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;7b038199-cf02-4536-a351-b86d51b0d367&quot;,<br>      &quot;name&quot;: &quot;Fill message placeholders&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.code&quot;,<br>      &quot;position&quot;: [<br>        1720,<br>        1120<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;mode&quot;: &quot;runOnceForEachItem&quot;,<br>        &quot;jsCode&quot;: &quot;function extractPlaceholders(str) {\n    // Regular expression to match placeholders\n    // It matches any alphanumeric character including dashes and underscores between {}\n    const regex = /\\{([a-zA-Z0-9_-]+)\\}/g;\n    \n    // Set to store unique placeholders\n    const uniquePlaceholders = new Set();\n\n    // Extract and store unique placeholders\n    let match;\n    while ((match = regex.exec(str)) !== null) {\n        uniquePlaceholders.add(match[1]);\n    }\n\n    // Convert the Set to an array and return\n    return Array.from(uniquePlaceholders);\n}\n\nlet placeholders = Object.keys(item.json.placeholders)\nconsole.log(placeholders)\n\n// Substitute all the placeholders in the message\n  item.json.message = item.json.message_template\n  for (let key of extractPlaceholders(item.json.message_template)) {\n    if(!placeholders.includes(key)) throw new Error(`Missing data for placeholder &#39;{${key}}&#39;`)\n    const regex = new RegExp(`\\\\{${key}\\\\}`, &#39;g&#39;); // Create a regex to match the exact word surrounded by {}\n    item.json.message = item.json.message.replaceAll(regex, item.json.placeholders[key]);\n  }\n\nreturn item&quot;<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;42fe4448-1a44-47aa-a04b-927d441b265a&quot;,<br>      &quot;name&quot;: &quot;Compose message&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        1940,<br>        1120<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;fields&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;name&quot;: &quot;message&quot;,<br>              &quot;stringValue&quot;: &quot;=&lt;span data-cam=&#39;{{ $json.mail_id }}&#39; data-seq=&#39;{{ $json.mail_seq }}&#39; data-ph=&#39;{{ JSON.stringify($json.placeholders) }}&#39;&gt;&lt;/span&gt;{{ $json.message }}&quot;<br>            }<br>          ]<br>        },<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 3.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;bccf2e89-852e-49b4-ad98-194008c47760&quot;,<br>      &quot;name&quot;: &quot;Get previous message threads&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.gmail&quot;,<br>      &quot;position&quot;: [<br>        1280,<br>        620<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;filters&quot;: {<br>          &quot;q&quot;: &quot;=subject:{{ $json.subject }} after:{{ $now.minus({&#39;days&#39;: $json.emails.last().send_on_day+1}).toSQL().substr(0, 10) }}&quot;<br>        },<br>        &quot;resource&quot;: &quot;thread&quot;,<br>        &quot;returnAll&quot;: true<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;gmailOAuth2&quot;: {<br>          &quot;id&quot;: &quot;198&quot;,<br>          &quot;name&quot;: &quot;Gmail account (David)&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;3ce6c45f-a257-4270-a84d-6a19ec35b2eb&quot;,<br>      &quot;name&quot;: &quot;Get thread details&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.gmail&quot;,<br>      &quot;position&quot;: [<br>        1500,<br>        620<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;simple&quot;: false,<br>        &quot;options&quot;: {},<br>        &quot;resource&quot;: &quot;thread&quot;,<br>        &quot;threadId&quot;: &quot;={{ $json.id }}&quot;,<br>        &quot;operation&quot;: &quot;get&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;gmailOAuth2&quot;: {<br>          &quot;id&quot;: &quot;198&quot;,<br>          &quot;name&quot;: &quot;Gmail account (David)&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;9224bb16-fbc2-45b5-a2cb-f63cb440f46f&quot;,<br>      &quot;name&quot;: &quot;Classify threads&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.code&quot;,<br>      &quot;position&quot;: [<br>        1940,<br>        620<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;jsCode&quot;: &quot;// Because emails are sent slightly after the schedule trigger runs, we&#39;ll end up waiting an extra day to send unless we take into account the execution time of the workflow\nlet buffer_mins = 20\n\nlet templates = $(&#39;Email sequence&#39;).first().json.emails\n\nfunction next_sequence_number(messages, mail_id, sender_name) {\n  for (let i = 0; i &lt; messages.length; i++) {\n    if(!(&#39;html&#39; in messages[i])) return -1;\n    let in_campaign = messages[i].html.includes(\&quot;data-cam=&#39;\&quot;+mail_id+\&quot;&#39;\&quot;)\n    let valid_seq = messages[i].html.includes(\&quot;data-seq=&#39;\&quot;+i+\&quot;&#39;\&quot;)\n    let from_us = messages[i].From.includes(sender_name)\n    console.log(in_campaign + \&quot;, \&quot; + valid_seq + \&quot;, \&quot; + from_us)\n    if(!(from_us &amp;&amp; in_campaign &amp;&amp; valid_seq)) {\n      return -1;\n    }\n  }\n  return messages.length;\n}\n\n\nfor (const item of $input.all()) {\n  item.json.first_message_at = DateTime.fromMillis($(&#39;Get thread details&#39;).item.json.messages[0].internalDate*1)\n  item.json.days_since_first_message = DateTime.now().diff(item.json.first_message_at, &#39;days&#39;).days\n  item.json.next_sequence_number = next_sequence_number(\n    item.json.messages,\n    $(&#39;Settings&#39;).first().json.mail_id,\n    $(&#39;Settings&#39;).first().json.sender_name\n  );\n  item.json.next_message_due = (\n    item.json.next_sequence_number &gt; 0\n    &amp;&amp; item.json.next_sequence_number &lt; templates.length\n    &amp;&amp; templates[item.json.next_sequence_number].send_on_day &lt;= item.json.days_since_first_message + (buffer_mins/60/24)\n  )\n\n  // Retrieve the placeholder values from the snippet, for use in future messages\n  const ph_matches = item.json.messages[0].snippet.match(/data-ph=&#39;([^&#39;]*)&#39;/)\n  if(ph_matches?.length &gt; 1) {\n    const placeholders = JSON.parse(ph_matches[1])\n    for(key of placeholders.keys()) {\n      item.json[key] = placeholders[key]\n    }\n  }\n\n}\n\nreturn $input.all();&quot;<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;776cb743-339d-49f6-af3c-9ae2b464d01a&quot;,<br>      &quot;name&quot;: &quot;Next message due?&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.filter&quot;,<br>      &quot;position&quot;: [<br>        2160,<br>        620<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;conditions&quot;: {<br>          &quot;options&quot;: {<br>            &quot;leftValue&quot;: &quot;&quot;,<br>            &quot;caseSensitive&quot;: true,<br>            &quot;typeValidation&quot;: &quot;strict&quot;<br>          },<br>          &quot;combinator&quot;: &quot;and&quot;,<br>          &quot;conditions&quot;: [<br>            {<br>              &quot;id&quot;: &quot;00cf6401-f45a-4496-803c-70a5b2d7daf5&quot;,<br>              &quot;operator&quot;: {<br>                &quot;type&quot;: &quot;boolean&quot;,<br>                &quot;operation&quot;: &quot;true&quot;,<br>                &quot;singleValue&quot;: true<br>              },<br>              &quot;leftValue&quot;: &quot;={{ $json.next_message_due }}&quot;,<br>              &quot;rightValue&quot;: &quot;&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;2ecf68b5-f5bf-4961-a849-7c0d29940387&quot;,<br>      &quot;name&quot;: &quot;Sticky Note2&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1906,<br>        427<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 181.66573318934627,<br>        &quot;height&quot;: 344.96230939963334,<br>        &quot;content&quot;: &quot;Follow-up is due if:\n- All the messages in the thread are automated (no-one has replied yet)\n- Enough time has passed for the next message to be sent&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;a3a78abb-0691-4152-a349-658b8286df2f&quot;,<br>      &quot;name&quot;: &quot;Execute Workflow Trigger&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.executeWorkflowTrigger&quot;,<br>      &quot;position&quot;: [<br>        1280,<br>        1120<br>      ],<br>      &quot;parameters&quot;: {},<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;a62bff23-2742-4a5e-8896-e1a3be5915fd&quot;,<br>      &quot;name&quot;: &quot;Replying?&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.if&quot;,<br>      &quot;position&quot;: [<br>        2160,<br>        1120<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;conditions&quot;: {<br>          &quot;options&quot;: {<br>            &quot;leftValue&quot;: &quot;&quot;,<br>            &quot;caseSensitive&quot;: true,<br>            &quot;typeValidation&quot;: &quot;strict&quot;<br>          },<br>          &quot;combinator&quot;: &quot;and&quot;,<br>          &quot;conditions&quot;: [<br>            {<br>              &quot;id&quot;: &quot;dc8ec88f-daef-46be-b3da-1407d5e1c0b1&quot;,<br>              &quot;operator&quot;: {<br>                &quot;type&quot;: &quot;string&quot;,<br>                &quot;operation&quot;: &quot;exists&quot;,<br>                &quot;singleValue&quot;: true<br>              },<br>              &quot;leftValue&quot;: &quot;={{ $json.reply_message_id }}&quot;,<br>              &quot;rightValue&quot;: &quot;&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;76d25df2-4472-40a6-80c6-f2e3dc8702a3&quot;,<br>      &quot;name&quot;: &quot;Send new message&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.gmail&quot;,<br>      &quot;position&quot;: [<br>        2380,<br>        1240<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;sendTo&quot;: &quot;={{ $json.to_email }}&quot;,<br>        &quot;message&quot;: &quot;={{ $json.message }}&quot;,<br>        &quot;options&quot;: {<br>          &quot;senderName&quot;: &quot;={{ $json.sender_name }}&quot;,<br>          &quot;appendAttribution&quot;: false<br>        },<br>        &quot;subject&quot;: &quot;={{ $json.subject }}&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;gmailOAuth2&quot;: {<br>          &quot;id&quot;: &quot;198&quot;,<br>          &quot;name&quot;: &quot;Gmail account (David)&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;ceefaf78-28b8-4711-b50e-b5487862dba6&quot;,<br>      &quot;name&quot;: &quot;Call message send sub-workflow&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.executeWorkflow&quot;,<br>      &quot;position&quot;: [<br>        2820,<br>        620<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;workflowId&quot;: &quot;={{ $workflow.id }}&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;809e9df8-881a-4b32-a3c0-e55c669bd8d1&quot;,<br>      &quot;name&quot;: &quot;Prepare reply params&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        2380,<br>        620<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;fields&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;name&quot;: &quot;message_template&quot;,<br>              &quot;stringValue&quot;: &quot;={{ $(&#39;Email sequence&#39;).first().json.emails[$json.next_sequence_number].message }}&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;reply_message_id&quot;,<br>              &quot;stringValue&quot;: &quot;={{ $json.messages.last().id }}&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;sender_name&quot;,<br>              &quot;stringValue&quot;: &quot;={{ $(&#39;Settings&#39;).item.json.sender_name }}&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;mail_id&quot;,<br>              &quot;stringValue&quot;: &quot;={{ $(&#39;Settings&#39;).item.json.mail_id }}&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;mail_seq&quot;,<br>              &quot;stringValue&quot;: &quot;={{ $json.next_sequence_number }}&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;to&quot;,<br>              &quot;stringValue&quot;: &quot;={{ $json.messages[0].To }}&quot;<br>            }<br>          ]<br>        },<br>        &quot;include&quot;: &quot;none&quot;,<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 3.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;cdda96f1-e0a2-4ce8-bc78-da8e80f7029f&quot;,<br>      &quot;name&quot;: &quot;Prepare first message params&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        1720,<br>        140<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;fields&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;name&quot;: &quot;message_template&quot;,<br>              &quot;stringValue&quot;: &quot;={{ $(&#39;Email sequence&#39;).first().json.emails[0].message }}&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;to_email&quot;,<br>              &quot;stringValue&quot;: &quot;={{ $(&#39;Get emails&#39;).item.json[$(&#39;Settings&#39;).item.json.email_column_name] }}&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;subject&quot;,<br>              &quot;stringValue&quot;: &quot;={{ $(&#39;Settings&#39;).item.json.subject }}&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;sender_name&quot;,<br>              &quot;stringValue&quot;: &quot;={{ $(&#39;Settings&#39;).item.json.sender_name }}&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;mail_id&quot;,<br>              &quot;stringValue&quot;: &quot;={{ $(&#39;Settings&#39;).item.json.mail_id }}&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;mail_seq&quot;,<br>              &quot;stringValue&quot;: &quot;0&quot;<br>            }<br>          ]<br>        },<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 3.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;c2d9869e-0608-472a-a124-26e9e6f1820a&quot;,<br>      &quot;name&quot;: &quot;Sticky Note4&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1240,<br>        -100<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 181.66573318934627,<br>        &quot;height&quot;: 410.4105111871959,<br>        &quot;content&quot;: &quot;Columns the sheet needs\n- email\n- first_emailed (leave blank - will be filled in automatically)\n- Other columns matching placeholders in email sequence&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;26bc2c58-fea5-4ee0-b9ea-264ad00e8d32&quot;,<br>      &quot;name&quot;: &quot;Call message send sub-workflow1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.executeWorkflow&quot;,<br>      &quot;position&quot;: [<br>        2160,<br>        140<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;mode&quot;: &quot;each&quot;,<br>        &quot;options&quot;: {},<br>        &quot;workflowId&quot;: &quot;={{ $workflow.id }}&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;e7e7d9bd-79c6-4534-b88d-b54cc695c7bf&quot;,<br>      &quot;name&quot;: &quot;To email?&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.filter&quot;,<br>      &quot;position&quot;: [<br>        1500,<br>        140<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;conditions&quot;: {<br>          &quot;options&quot;: {<br>            &quot;leftValue&quot;: &quot;&quot;,<br>            &quot;caseSensitive&quot;: true,<br>            &quot;typeValidation&quot;: &quot;strict&quot;<br>          },<br>          &quot;combinator&quot;: &quot;and&quot;,<br>          &quot;conditions&quot;: [<br>            {<br>              &quot;id&quot;: &quot;eeec5901-5ff0-47b1-926b-e93097d64434&quot;,<br>              &quot;operator&quot;: {<br>                &quot;type&quot;: &quot;boolean&quot;,<br>                &quot;operation&quot;: &quot;true&quot;,<br>                &quot;singleValue&quot;: true<br>              },<br>              &quot;leftValue&quot;: &quot;={{ $json.first_emailed.isEmpty() }}&quot;,<br>              &quot;rightValue&quot;: &quot;&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;db4b6481-5fdb-4bc3-a10f-b6ccfb5b0bf0&quot;,<br>      &quot;name&quot;: &quot;Decode messages&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.code&quot;,<br>      &quot;position&quot;: [<br>        1720,<br>        620<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;jsCode&quot;: &quot;// TODO: Some messages have an empty payload and a parts field instead (containing an array)\n\nfor (const item of $input.all()) {\n  for (const message of item.json.messages) {\n    console.log(&#39;message&#39;, message.payload.body.data || \&quot;\&quot;)\n    let buffer = Buffer.from(message.payload.body.data || \&quot;\&quot;, \&quot;base64\&quot;);\n    message.html = buffer.toString(\&quot;utf8\&quot;)\n  }\n}\n\nreturn $input.all();&quot;<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;fc4868f0-845d-4f76-a566-b0db3d2676f8&quot;,<br>      &quot;name&quot;: &quot;Decode placeholder values&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.code&quot;,<br>      &quot;position&quot;: [<br>        2600,<br>        620<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;mode&quot;: &quot;runOnceForEachItem&quot;,<br>        &quot;jsCode&quot;: &quot;const html = $(&#39;Decode messages&#39;).item.json.messages[0].html\nconst matches = html.match(/data-ph=&#39;([^&#39;]*)&#39;/)\nlet placeholders = {}\nif(matches?.length &gt; 0) {\n  ph = JSON.parse(matches[1])\n  for(k of Object.keys(ph)) {\n    placeholders[k] = ph[k]\n  }\n}\nitem.json.placeholders = placeholders\n\nreturn item;&quot;<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;5af9b08e-6c5d-4701-a44a-794e96216948&quot;,<br>      &quot;name&quot;: &quot;Package placeholder values&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.code&quot;,<br>      &quot;position&quot;: [<br>        1940,<br>        140<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;mode&quot;: &quot;runOnceForEachItem&quot;,<br>        &quot;jsCode&quot;: &quot;function extractPlaceholders(str) {\n    // Regular expression to match placeholders\n    // It matches any alphanumeric character including dashes and underscores between {}\n    const regex = /\\{([a-zA-Z0-9_-]+)\\}/g;\n    \n    // Set to store unique placeholders\n    const uniquePlaceholders = new Set();\n\n    // Extract and store unique placeholders\n    let match;\n    while ((match = regex.exec(str)) !== null) {\n        uniquePlaceholders.add(match[1]);\n    }\n\n    // Convert the Set to an array and return\n    return Array.from(uniquePlaceholders);\n}\n\n\n// Gather all the placeholder values for passing on\nconst all_ph_raw = $(&#39;Email sequence&#39;).first().json.emails.flatMap(e =&gt; extractPlaceholders(e.message))\nconst all_ph = [...new Set(all_ph_raw)];\nlet placeholders = {}\nfor(ph of all_ph) {\n  if($(&#39;Get emails&#39;).item.json[ph] == undefined) throw new Error(`Message placeholder &#39;{${ph}}&#39; requires a column called &#39;${ph}&#39; in the Google Sheet`)\n  placeholders[ph] = $(&#39;Get emails&#39;).item.json[ph]\n}\n\nitem.json.placeholders = placeholders\n\nreturn item;&quot;<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;e655a9c2-617b-4119-9582-45f1db2cc6d2&quot;,<br>      &quot;name&quot;: &quot;Settings&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        780,<br>        140<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;5e327a1d-3f2e-40f1-aaa1-9ce888349eb0&quot;,<br>              &quot;name&quot;: &quot;sheet_url&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;https://docs.google.com/spreadsheets/d/12dsbRpvtVFDdPmyZ7-39vuHuFpM1eMyfOqGGGdsnrtc/edit#gid=0&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;3255270a-3ac2-4c59-8215-ea79256b55cc&quot;,<br>              &quot;name&quot;: &quot;subject&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;My amazing campaign&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;76b40b74-acef-49f1-a0e2-0be9a461319a&quot;,<br>              &quot;name&quot;: &quot;sender_name&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;Nathan Automat&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;4532eb84-5ebc-4011-8c65-d97aeae21256&quot;,<br>              &quot;name&quot;: &quot;email_column_name&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;email&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;83de0ceb-39ec-426a-afba-13d66bce101d&quot;,<br>              &quot;name&quot;: &quot;mail_id&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;123456&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3.3<br>    },<br>    {<br>      &quot;id&quot;: &quot;a8975f91-6413-448b-bc3f-1084959b8b31&quot;,<br>      &quot;name&quot;: &quot;Reply to message&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.gmail&quot;,<br>      &quot;position&quot;: [<br>        2380,<br>        1020<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;message&quot;: &quot;={{ $json.message }}&quot;,<br>        &quot;options&quot;: {<br>          &quot;senderName&quot;: &quot;David Roberts&quot;<br>        },<br>        &quot;messageId&quot;: &quot;={{ $json.reply_message_id }}&quot;,<br>        &quot;operation&quot;: &quot;reply&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;gmailOAuth2&quot;: {<br>          &quot;id&quot;: &quot;198&quot;,<br>          &quot;name&quot;: &quot;Gmail account (David)&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;d453661e-25f7-471c-90dc-633270f14396&quot;,<br>      &quot;name&quot;: &quot;Get emails&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleSheets&quot;,<br>      &quot;position&quot;: [<br>        1280,<br>        140<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;sheetName&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;url&quot;,<br>          &quot;value&quot;: &quot;={{ $(&#39;Settings&#39;).item.json.sheet_url }}&quot;<br>        },<br>        &quot;documentId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;url&quot;,<br>          &quot;value&quot;: &quot;={{ $(&#39;Settings&#39;).item.json.sheet_url }}&quot;<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googleSheetsOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;196&quot;,<br>          &quot;name&quot;: &quot;Google Sheets account (David)&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 4.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;7a838728-38e1-45f9-8bac-19c6ad005a38&quot;,<br>      &quot;name&quot;: &quot;Sticky Note5&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1220,<br>        -180<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 1790.5345476157208,<br>        &quot;height&quot;: 515.1374038700677,<br>        &quot;content&quot;: &quot;## Send initial emails&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;5d8823c1-00a7-43a2-963d-90e971167ef8&quot;,<br>      &quot;name&quot;: &quot;Sticky Note6&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1220,<br>        360<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 1797.4980261229769,<br>        &quot;height&quot;: 515.1374038700677,<br>        &quot;content&quot;: &quot;## Send follow-up emails if appropriate&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;fd2bb0b2-a313-45ed-ad58-935d803237e5&quot;,<br>      &quot;name&quot;: &quot;Sticky Note7&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1220,<br>        920<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 1797.4980261229769,<br>        &quot;height&quot;: 515.1374038700677,<br>        &quot;content&quot;: &quot;## Sub-workflow for sending the emails\nThis is called by the sections above - you shouldn&#39;t need to touch it&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;be4a4bbb-1e10-4c9e-afb9-cc4a46a78113&quot;,<br>      &quot;name&quot;: &quot;Every hour&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.scheduleTrigger&quot;,<br>      &quot;position&quot;: [<br>        320,<br>        140<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;rule&quot;: {<br>          &quot;interval&quot;: [<br>            {<br>              &quot;field&quot;: &quot;hours&quot;,<br>              &quot;triggerAtMinute&quot;: 12<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;be582e38-6da2-4c64-8804-981936f71d88&quot;,<br>      &quot;name&quot;: &quot;Sticky Note3&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        2120,<br>        958<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 181.66573318934627,<br>        &quot;height&quot;: 306.5470605243249,<br>        &quot;content&quot;: &quot;If reply_message_id is set, will reply to that message.\n\nOtherwise, will send a new message to the user in the &#39;email&#39; field&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;88e9ff03-62f0-4dcf-9e28-62c95386df66&quot;,<br>      &quot;name&quot;: &quot;Don&#39;t email on weekends&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.filter&quot;,<br>      &quot;position&quot;: [<br>        540,<br>        140<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;conditions&quot;: {<br>          &quot;options&quot;: {<br>            &quot;leftValue&quot;: &quot;&quot;,<br>            &quot;caseSensitive&quot;: true,<br>            &quot;typeValidation&quot;: &quot;strict&quot;<br>          },<br>          &quot;combinator&quot;: &quot;and&quot;,<br>          &quot;conditions&quot;: [<br>            {<br>              &quot;id&quot;: &quot;195ce0cf-9d25-4e02-9f20-aa6edbc2d561&quot;,<br>              &quot;operator&quot;: {<br>                &quot;type&quot;: &quot;boolean&quot;,<br>                &quot;operation&quot;: &quot;false&quot;,<br>                &quot;singleValue&quot;: true<br>              },<br>              &quot;leftValue&quot;: &quot;={{ $now.isWeekend() }}&quot;,<br>              &quot;rightValue&quot;: &quot;&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;7a5822f3-b2ea-42d7-8034-21a92e283112&quot;,<br>      &quot;name&quot;: &quot;Sticky Note8&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        740,<br>        -120<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 404.04123613412946,<br>        &quot;height&quot;: 418.96364526464185,<br>        &quot;content&quot;: &quot;# Try me out\n1. Clone [this Google worksheet](https://docs.google.com/spreadsheets/d/12dsbRpvtVFDdPmyZ7-39vuHuFpM1eMyfOqGGGdsnrtc/edit#gid=0) and update the &#39;Settings&#39; node with its URL (plus change any other settings there you need to)\n2. Adjust the sequence of emails you want to send in the &#39;Email Sequence&#39; node\n\nMake sure you set how many days after the previous email to wait before sending, and note that the emails are in HTML format.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    }<br>  ],<br>  &quot;pinData&quot;: {},<br>  &quot;connections&quot;: {<br>    &quot;Settings&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Email sequence&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Replying?&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Reply to message&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;Send new message&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;To email?&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Prepare first message params&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Every hour&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Don&#39;t email on weekends&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Get emails&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;To email?&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Email sequence&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Get previous message threads&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          },<br>          {<br>            &quot;node&quot;: &quot;Get emails&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Compose message&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Replying?&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Decode messages&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Classify threads&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Classify threads&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Next message due?&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Next message due?&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Prepare reply params&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Get thread details&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Decode messages&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Prepare reply params&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Decode placeholder values&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Set message template&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Fill message placeholders&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Don&#39;t email on weekends&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Settings&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Execute Workflow Trigger&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Set message template&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Decode placeholder values&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Call message send sub-workflow&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Fill message placeholders&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Compose message&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Package placeholder values&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Call message send sub-workflow1&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Get previous message threads&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Get thread details&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Prepare first message params&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Package placeholder values&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Call message send sub-workflow1&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Update last contacted time&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    }<br>  }<br>}</div></td></tr><tr style="height: 59px"><th id="0R15" style="height: 59px;" class="row-headers-background"><div class="row-header-wrapper" style="line-height: 59px">16</div></th><td class="s5" dir="ltr">Gmail AI Auto-Responder: crea borradores de respuestas a correos entrantes</td><td class="s6 softmerge" dir="ltr"><div class="softmerge-inner" style="width:2759px;left:-3px">{<br>  &quot;id&quot;: &quot;aOQANirVMuWrH0ZD&quot;,<br>  &quot;meta&quot;: {<br>    &quot;instanceId&quot;: &quot;b78ce2d06ac74b90a581919cf44503cf07404c11eda5c3847597226683145618&quot;<br>  },<br>  &quot;name&quot;: &quot;Gmail AI auto-responder: create draft replies to incoming emails&quot;,<br>  &quot;tags&quot;: [],<br>  &quot;nodes&quot;: [<br>    {<br>      &quot;id&quot;: &quot;2a9ff08f-919a-41a8-980b-8c2bca3059e4&quot;,<br>      &quot;name&quot;: &quot;Gmail Trigger&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.gmailTrigger&quot;,<br>      &quot;position&quot;: [<br>        -332.809175564116,<br>        566.0845437534399<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;simple&quot;: false,<br>        &quot;filters&quot;: {<br>          &quot;q&quot;: &quot;-from:me&quot;<br>        },<br>        &quot;options&quot;: {},<br>        &quot;pollTimes&quot;: {<br>          &quot;item&quot;: [<br>            {<br>              &quot;mode&quot;: &quot;everyMinute&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;gmailOAuth2&quot;: {<br>          &quot;id&quot;: &quot;ofvBTX8A0aWfQb2O&quot;,<br>          &quot;name&quot;: &quot;Gmail account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;3ef14615-0045-404f-a21b-2c65a52f4be8&quot;,<br>      &quot;name&quot;: &quot;If Needs Reply&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.if&quot;,<br>      &quot;position&quot;: [<br>        240,<br>        560<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;conditions&quot;: {<br>          &quot;options&quot;: {<br>            &quot;leftValue&quot;: &quot;&quot;,<br>            &quot;caseSensitive&quot;: true,<br>            &quot;typeValidation&quot;: &quot;strict&quot;<br>          },<br>          &quot;combinator&quot;: &quot;and&quot;,<br>          &quot;conditions&quot;: [<br>            {<br>              &quot;id&quot;: &quot;53849246-ad32-4845-9976-9f9688f5a6f2&quot;,<br>              &quot;operator&quot;: {<br>                &quot;type&quot;: &quot;boolean&quot;,<br>                &quot;operation&quot;: &quot;true&quot;,<br>                &quot;singleValue&quot;: true<br>              },<br>              &quot;leftValue&quot;: &quot;={{ $json.needsReply }}&quot;,<br>              &quot;rightValue&quot;: &quot;true&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;36968dd5-8d51-4184-a05a-587b6c95aa82&quot;,<br>      &quot;name&quot;: &quot;JSON Parser&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.outputParserStructured&quot;,<br>      &quot;position&quot;: [<br>        100,<br>        720<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;jsonSchema&quot;: &quot;{\n  \&quot;type\&quot;: \&quot;object\&quot;,\n  \&quot;properties\&quot;: {\n    \&quot;needsReply\&quot;: {\n      \&quot;type\&quot;: \&quot;boolean\&quot;\n      }\n  },\n  \&quot;required\&quot;: [\&quot;needsReply\&quot;]\n}\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;2a64dce8-e2f0-475e-a366-a02084293aad&quot;,<br>      &quot;name&quot;: &quot;OpenAI Chat&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.lmChatOpenAi&quot;,<br>      &quot;position&quot;: [<br>        -92.809175564116,<br>        726.0845437534399<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;model&quot;: &quot;gpt-4o&quot;,<br>        &quot;options&quot;: {<br>          &quot;temperature&quot;: 0,<br>          &quot;responseFormat&quot;: &quot;json_object&quot;<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;openAiApi&quot;: {<br>          &quot;id&quot;: &quot;13ffkrNMlQMfvbZy&quot;,<br>          &quot;name&quot;: &quot;OpenAi account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;be892ff8-0981-4b34-9c93-7674ddd90360&quot;,<br>      &quot;name&quot;: &quot;Sticky Note&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -429.809175564116,<br>        461.08454375343996<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 304.10628068244364,<br>        &quot;height&quot;: 394.42512272977456,<br>        &quot;content&quot;: &quot;## When I receive an Email\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;9d92839a-9ff2-436c-8abb-2f43e07c1ace&quot;,<br>      &quot;name&quot;: &quot;Sticky Note1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -112.809175564116,<br>        460.08454375343996<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 556,<br>        &quot;height&quot;: 397,<br>        &quot;content&quot;: &quot;## ... that Needs a Reply\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;3cd77609-684c-44e2-9cdc-9479cfd836bd&quot;,<br>      &quot;name&quot;: &quot;Sticky Note2&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        460,<br>        460<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 333.19082443588354,<br>        &quot;height&quot;: 400.08454375343996,<br>        &quot;content&quot;: &quot;## Generate a Reply&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;b123cf31-767d-48bb-a0ba-79a69f6da585&quot;,<br>      &quot;name&quot;: &quot;Sticky Note3&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        807.190824435884,<br>        461.08454375343996<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 326,<br>        &quot;height&quot;: 395,<br>        &quot;content&quot;: &quot;## ...as a Draft in the conversation&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;1a87c416-6b1c-4526-a2b6-20468c95ea0e&quot;,<br>      &quot;name&quot;: &quot;OpenAI Chat Model&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.lmChatOpenAi&quot;,<br>      &quot;position&quot;: [<br>        480,<br>        680<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;model&quot;: &quot;gpt-4-turbo&quot;,<br>        &quot;options&quot;: {}<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;openAiApi&quot;: {<br>          &quot;id&quot;: &quot;13ffkrNMlQMfvbZy&quot;,<br>          &quot;name&quot;: &quot;OpenAi account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;84b4d516-252e-444e-b998-2d4aa0f89653&quot;,<br>      &quot;name&quot;: &quot;Gmail - Create Draft&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.gmail&quot;,<br>      &quot;position&quot;: [<br>        900,<br>        560<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;message&quot;: &quot;={{ $json.text.replace(/\\n/g, \&quot;&lt;br /&gt;\\n\&quot;) }}&quot;,<br>        &quot;options&quot;: {<br>          &quot;sendTo&quot;: &quot;={{ $(&#39;Gmail Trigger&#39;).item.json.headers.from }}&quot;,<br>          &quot;threadId&quot;: &quot;={{ $(&#39;Gmail Trigger&#39;).item.json.threadId }}&quot;<br>        },<br>        &quot;subject&quot;: &quot;=Re: {{ $(&#39;Gmail Trigger&#39;).item.json.headers.subject }}&quot;,<br>        &quot;resource&quot;: &quot;draft&quot;,<br>        &quot;emailType&quot;: &quot;html&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;gmailOAuth2&quot;: {<br>          &quot;id&quot;: &quot;ofvBTX8A0aWfQb2O&quot;,<br>          &quot;name&quot;: &quot;Gmail account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;86017ff4-9c57-4b2a-9cd9-f62571a05ffd&quot;,<br>      &quot;name&quot;: &quot;Assess if message needs a reply&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.chainLlm&quot;,<br>      &quot;position&quot;: [<br>        -92.809175564116,<br>        566.0845437534399<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;prompt&quot;: &quot;=Subject: {{ $json.subject }}\nMessage:\n{{ $json.textAsHtml }} &quot;,<br>        &quot;messages&quot;: {<br>          &quot;messageValues&quot;: [<br>            {<br>              &quot;message&quot;: &quot;Your task is to assess if the message requires a response. Return in JSON format true if it does, false otherwise.\nMarketing emails don&#39;t require a response.&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.3<br>    },<br>    {<br>      &quot;id&quot;: &quot;cab1e7e5-93dc-4850-a471-e285cdbe2058&quot;,<br>      &quot;name&quot;: &quot;Generate email reply&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.chainLlm&quot;,<br>      &quot;position&quot;: [<br>        500,<br>        520<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;text&quot;: &quot;=Subject: {{ $(&#39;Gmail Trigger&#39;).item.json.subject }}\nMessage: {{ $(&#39;Gmail Trigger&#39;).item.json.textAsHtml }}&quot;,<br>        &quot;messages&quot;: {<br>          &quot;messageValues&quot;: [<br>            {<br>              &quot;message&quot;: &quot;You&#39;re a helpful personal assistant and your task is to draft replies on my behalf to my incoming emails. Whenever I provide some text from an email, return an appropriate draft reply for it and nothing else.\nEnsure that the reply is suitable for a professional email setting and addresses the topic in a clear, structured, and detailed manner.\nDo not make things up.\n\nDetailed instructions:\n- Be concise and maintain a business casual tone.\n- Start with \&quot;Hello,\&quot;, and end with \&quot;Best,\&quot;\n- When replying to yes-no questions, draft 2 responses: one affirmative and one negative separated by \&quot; - - - - - - - OR - - - - - - - \&quot;\n- If you don&#39;t know an answer, you can leave placeholders like \&quot;[YOUR_ANSWER_HERE]\&quot;.\n- Don&#39;t use any special formatting, only plain text.\n- Reply in the same language as the inbound email.&quot;<br>            }<br>          ]<br>        },<br>        &quot;promptType&quot;: &quot;define&quot;<br>      },<br>      &quot;typeVersion&quot;: 1.4<br>    }<br>  ],<br>  &quot;active&quot;: true,<br>  &quot;pinData&quot;: {},<br>  &quot;settings&quot;: {<br>    &quot;executionOrder&quot;: &quot;v1&quot;<br>  },<br>  &quot;versionId&quot;: &quot;c4448c34-1f75-4479-805e-20d8a69a7e00&quot;,<br>  &quot;connections&quot;: {<br>    &quot;JSON Parser&quot;: {<br>      &quot;ai_outputParser&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Assess if message needs a reply&quot;,<br>            &quot;type&quot;: &quot;ai_outputParser&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;OpenAI Chat&quot;: {<br>      &quot;ai_languageModel&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Assess if message needs a reply&quot;,<br>            &quot;type&quot;: &quot;ai_languageModel&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Gmail Trigger&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Assess if message needs a reply&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;If Needs Reply&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Generate email reply&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;OpenAI Chat Model&quot;: {<br>      &quot;ai_languageModel&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Generate email reply&quot;,<br>            &quot;type&quot;: &quot;ai_languageModel&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Generate email reply&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Gmail - Create Draft&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Assess if message needs a reply&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;If Needs Reply&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    }<br>  }<br>}</div></td></tr><tr style="height: 59px"><th id="0R16" style="height: 59px;" class="row-headers-background"><div class="row-header-wrapper" style="line-height: 59px">17</div></th><td class="s3" dir="ltr">‚ú® Raspador con agente de IA basado en visi√≥n - con Google Sheets, ScrapingBee y Gemini</td><td class="s4 softmerge" dir="ltr"><div class="softmerge-inner" style="width:5786px;left:-3px">{<br>  &quot;id&quot;: &quot;PpFVCrTiYoa35q1m&quot;,<br>  &quot;meta&quot;: {<br>    &quot;instanceId&quot;: &quot;b9faf72fe0d7c3be94b3ebff0778790b50b135c336412d28fd4fca2cbbf8d1f5&quot;,<br>    &quot;templateCredsSetupCompleted&quot;: true<br>  },<br>  &quot;name&quot;: &quot;Vision-Based AI Agent Scraper - with Google Sheets, ScrapingBee, and Gemini&quot;,<br>  &quot;tags&quot;: [],<br>  &quot;nodes&quot;: [<br>    {<br>      &quot;id&quot;: &quot;90ac8845-342e-4fdb-ae09-cb9d169b4119&quot;,<br>      &quot;name&quot;: &quot;When clicking ‚ÄòTest workflow‚Äô&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.manualTrigger&quot;,<br>      &quot;position&quot;: [<br>        160,<br>        460<br>      ],<br>      &quot;parameters&quot;: {},<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;7a2bfc41-1527-448d-a52c-794ca4c9e7ee&quot;,<br>      &quot;name&quot;: &quot;ScrapingBee- Get page HTML&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.httpRequest&quot;,<br>      &quot;position&quot;: [<br>        2280,<br>        1360<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;url&quot;: &quot;https://app.scrapingbee.com/api/v1&quot;,<br>        &quot;options&quot;: {},<br>        &quot;sendQuery&quot;: true,<br>        &quot;queryParameters&quot;: {<br>          &quot;parameters&quot;: [<br>            {<br>              &quot;name&quot;: &quot;api_key&quot;,<br>              &quot;value&quot;: &quot;&lt;your_scrapingbee_apikey&gt;&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;url&quot;,<br>              &quot;value&quot;: &quot;={{$json.url}}&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 4.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;a0ab6dcb-ffad-40bf-8a22-f2e152e69b00&quot;,<br>      &quot;name&quot;: &quot;Structured Output Parser&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.outputParserStructured&quot;,<br>      &quot;position&quot;: [<br>        2480,<br>        880<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;jsonSchemaExample&quot;: &quot;[{\n  \&quot;product_title\&quot;:\&quot;The title of the product\&quot;,\n  \&quot;product_price\&quot;:\&quot;The price of the product\&quot;,\n  \&quot;product_brand\&quot;: \&quot;The brand of the product\&quot;,\n  \&quot;promo\&quot;:\&quot;true or false\&quot;,\n  \&quot;promo_percentage\&quot;:\&quot;NUM %\&quot;\n}]&quot;<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;34f50603-a969-425d-8a1a-ec8031a5cdfd&quot;,<br>      &quot;name&quot;: &quot;Google Gemini Chat Model&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.lmChatGoogleGemini&quot;,<br>      &quot;position&quot;: [<br>        1800,<br>        900<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;modelName&quot;: &quot;models/gemini-1.5-pro-latest&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googlePalmApi&quot;: {<br>          &quot;id&quot;: &quot;&quot;,<br>          &quot;name&quot;: &quot;Google Gemini(PaLM) Api account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;2054612e-f3e1-4633-9c1a-0644ae07613c&quot;,<br>      &quot;name&quot;: &quot;Split Out&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.splitOut&quot;,<br>      &quot;position&quot;: [<br>        2880,<br>        460<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;fieldToSplitOut&quot;: &quot;output&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;1a59a962-f483-4a27-8686-607a7d375584&quot;,<br>      &quot;name&quot;: &quot;Google Sheets - Get list of URLs&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleSheets&quot;,<br>      &quot;position&quot;: [<br>        620,<br>        460<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;sheetName&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;gid=0&quot;,<br>          &quot;cachedResultUrl&quot;: &quot;&quot;,<br>          &quot;cachedResultName&quot;: &quot;List of URLs&quot;<br>        },<br>        &quot;documentId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;&quot;,<br>          &quot;cachedResultUrl&quot;: &quot;&quot;,<br>          &quot;cachedResultName&quot;: &quot;Google Sheets - Workflow Vision-Based Scraping&quot;<br>        },<br>        &quot;authentication&quot;: &quot;serviceAccount&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googleApi&quot;: {<br>          &quot;id&quot;: &quot;&quot;,<br>          &quot;name&quot;: &quot;Google Sheets account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 4.5<br>    },<br>    {<br>      &quot;id&quot;: &quot;e33defac-e5c4-4bf5-ae31-98cf6f1d2579&quot;,<br>      &quot;name&quot;: &quot;Sticky Note&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        76.45348837209309,<br>        -6.191860465116179<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 364.53488372093034,<br>        &quot;height&quot;: 652.6453488372096,<br>        &quot;content&quot;: &quot;## Trigger\nThe default trigger is **When clicking ‚ÄòTest workflow‚Äô**, meaning the workflow will **need to be triggered manually**. \n\nYou can replace this by selecting a **trigger of your choice**.\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;9f56e57e-8505-4a7a-a531-f7df87a6ea9c&quot;,<br>      &quot;name&quot;: &quot;Sticky Note1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        480,<br>        -12.906976744186068<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 364.53488372093034,<br>        &quot;height&quot;: 664.2441860465121,<br>        &quot;content&quot;: &quot;## Google Sheets - List of URLs\n\nThe Google Sheet will contain two sheets:  \n- **List of URLs to** scrape  \n- **Results** page, populated with the scraping results and AI-extracted data.\n\nHere is an **[example Google Sheet](https://docs.google.com/spreadsheets/d/10Gc7ooUeTBbOOE6bgdNe5vSKRkkcAamonsFSjFevkOE/)** you can use. The \&quot;Results\&quot; sheet is pre-configured for e-commerce website scraping. You can adapt it to your specific needs, but remember to adjust the `Structured Output Parser` node accordingly.\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;e4497a81-6849-4c79-af45-40e518837e2e&quot;,<br>      &quot;name&quot;: &quot;Sticky Note2&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        880,<br>        -15.959302325581348<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 364.53488372093034,<br>        &quot;height&quot;: 667.2965116279074,<br>        &quot;content&quot;: &quot;## Set Fields\n\nThis node allows you to **define the fields** that will be sent to the **ScrapingBee HTTP Node** and the AI Agent. \n\nIn this template, **only one field** is pre-configured: **url**. You can customize it by adding additional fields as needed.\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;82dcdc23-3d71-4281-a3d0-fdbc27327dd0&quot;,<br>      &quot;name&quot;: &quot;Set fields&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        1040,<br>        460<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;c53c5ed2-9c7b-4365-9953-790264c722ab&quot;,<br>              &quot;name&quot;: &quot;url&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $json.url }}&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;ad06f56f-4a02-49d6-9fda-94cdcfadec3b&quot;,<br>      &quot;name&quot;: &quot;Sticky Note3&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1280,<br>        -20.537790697674154<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 364.53488372093034,<br>        &quot;height&quot;: 671.8750000000002,<br>        &quot;content&quot;: &quot;## ScrapingBee - Get Page Screenshot\n\nThis node uses ScrapingBee, a powerful scraping tool, to capture a screenshot of the desired URL.  \nYou can [try ScrapingBee](https://www.scrapingbee.com/) and enjoy 1,000 free requests (non-affiliate link).  \n\nEnsure the `screenshot_full_page` parameter is set to *`true`* for a full-page screenshot. This is crucial for vision-based scraping with the AI Agent.  \n\nAlternatively, you can **choose to screenshot only a specific part of the page**. However, keep in mind that the **AI Agent will extract data only from the visible section‚Äîit has vision**, but not a crystal ball üîÆ!\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;01cbc1eb-2910-49b1-89e6-d32d340e5273&quot;,<br>      &quot;name&quot;: &quot;ScrapingBee - Get page screenshot&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.httpRequest&quot;,<br>      &quot;position&quot;: [<br>        1440,<br>        460<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;url&quot;: &quot;https://app.scrapingbee.com/api/v1&quot;,<br>        &quot;options&quot;: {},<br>        &quot;sendQuery&quot;: true,<br>        &quot;sendHeaders&quot;: true,<br>        &quot;queryParameters&quot;: {<br>          &quot;parameters&quot;: [<br>            {<br>              &quot;name&quot;: &quot;api_key&quot;,<br>              &quot;value&quot;: &quot;&lt;your_scrapingbee_apikey&gt;&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;url&quot;,<br>              &quot;value&quot;: &quot;={{ $json.url }}&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;screenshot_full_page&quot;,<br>              &quot;value&quot;: &quot;true&quot;<br>            }<br>          ]<br>        },<br>        &quot;headerParameters&quot;: {<br>          &quot;parameters&quot;: [<br>            {<br>              &quot;name&quot;: &quot;User-Agent&quot;,<br>              &quot;value&quot;: &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 4.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;3e61d7cb-c2af-4275-b075-3dc14ed320b7&quot;,<br>      &quot;name&quot;: &quot;Sticky Note4&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1680,<br>        -26.831395348837077<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 1000.334302325581,<br>        &quot;height&quot;: 679.5058139534889,<br>        &quot;content&quot;: &quot;## Vision-Based Scraping AI Agent\n\nThis is the central node of the workflow, powered by an AI Agent with two key prompts:\n\n- **System Prompt**: Instructs the AI on how and what data to extract from the screenshot. You can customize this to suit your needs. It also includes fallback instructions to call a tool for retrieving the HTML page if data extraction from the screenshot fails.  \n- **User Message**: Provides the page URL for context.\n\n### Sub-Nodes\n\n1. **Google Gemini Chat Model**  \n   Chosen because tests show that **Gemini-1.5-Pro** outperforms GPT-4 and GPT-4-Vision in visual tasks. *Either my prompt wasn‚Äôt optimized for GPT models, or GPT might need glasses üëì*. \n**Other multimodal LLMs haven‚Äôt been tested yet**.\n\n2. **HTML-Based Scraping Tool**  \n   A **fallback tool** the agent **uses if it cannot extract data directly from the screenshot**.\n\n3. **Structured Output Parser**  \n   Formats the **extracted data into an easy-to-use structure**, ready to be added to the **results page in Google Sheets**.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;9fe8ee54-755a-44f2-a2bf-a695e3754b3d&quot;,<br>      &quot;name&quot;: &quot;HTML-based Scraping Tool&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.toolWorkflow&quot;,<br>      &quot;position&quot;: [<br>        2160,<br>        900<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;name&quot;: &quot;HTMLScrapingTool&quot;,<br>        &quot;workflowId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;PpFVCrTiYoa35q1m&quot;,<br>          &quot;cachedResultName&quot;: &quot;vb-scraping&quot;<br>        },<br>        &quot;description&quot;: &quot;=Call this tool ONLY when you need to retrieve the HTML content of a webpage.&quot;,<br>        &quot;responsePropertyName&quot;: &quot;data&quot;<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;12c4fd7e-b662-488a-b779-792cff5464e4&quot;,<br>      &quot;name&quot;: &quot;Sticky Note5&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1680,<br>        720<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 6,<br>        &quot;width&quot;: 305.625,<br>        &quot;height&quot;: 337.03488372093034,<br>        &quot;content&quot;: &quot;### Google Gemini Chat Model\n\nThe **default model is gemini-1.5-pro**. It offers excellent performance for this use case, but **it‚Äôs not the most cost-effective option‚Äîuse it judiciously**.\n\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;86cf37d9-a4c1-42f4-a98e-ef2ca4410efd&quot;,<br>      &quot;name&quot;: &quot;Sticky Note6&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        2020,<br>        720<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 6,<br>        &quot;width&quot;: 305.625,<br>        &quot;height&quot;: 337.03488372093034,<br>        &quot;content&quot;: &quot;### HTML-Based Scraping Tool\n\nThis tool is **invoked when the AI Agent requires the HTML** (*converted to Markdown*) to extract data because the **screenshot alone wasn‚Äôt sufficient**.\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;a3dc3c83-ed18-4a58-bc36-440efe9462a2&quot;,<br>      &quot;name&quot;: &quot;Sticky Note7&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        2360,<br>        720<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 6,<br>        &quot;width&quot;: 305.625,<br>        &quot;height&quot;: 337.03488372093034,<br>        &quot;content&quot;: &quot;### Structured Output Parser\n\nThis node **organizes the extracted data into an easy-to-use JSON format**.  \n\nIn this template, the JSON is **designed for an e-commerce webpage**. Customize it to fit your specific needs.\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;939f0f2d-19c8-4447-9b25-accfcd5f6a16&quot;,<br>      &quot;name&quot;: &quot;Sticky Note8&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        2740,<br>        -20<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 364.53488372093034,<br>        &quot;height&quot;: 671.8750000000002,<br>        &quot;content&quot;: &quot;## Split Out\n\nThis node **splits the array** created by the `Structured Output Parser` into **individual rows**, making them easy to append to the **subsequent Google Sheets node**.\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;71404369-d2f6-4ca5-ae87-47a51fabfa4a&quot;,<br>      &quot;name&quot;: &quot;Sticky Note9&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        3200,<br>        -20<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 364.53488372093034,<br>        &quot;height&quot;: 671.8750000000002,<br>        &quot;content&quot;: &quot;## Google Sheets - Create Rows\n\nThis node **creates rows** in the **Results** sheet using the extracted data.  \n\nYou can use the **[example Google Sheet](https://docs.google.com/spreadsheets/d/10Gc7ooUeTBbOOE6bgdNe5vSKRkkcAamonsFSjFevkOE/)** as a template. However, ensure that the **columns in the Results sheet are aligned with the structure of the output** from the `Structured Output Parser node`.\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;226520d1-2edb-4ade-9940-0bae461eb161&quot;,<br>      &quot;name&quot;: &quot;Google Sheets - Create Rows&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleSheets&quot;,<br>      &quot;position&quot;: [<br>        3340,<br>        460<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;columns&quot;: {<br>          &quot;value&quot;: {<br>            &quot;promo&quot;: &quot;={{ $json.promo }}&quot;,<br>            &quot;category&quot;: &quot;={{ $(&#39;Set fields&#39;).item.json.url }}&quot;,<br>            &quot;product_url&quot;: &quot;={{ $json.product_title }}&quot;,<br>            &quot;product_brand&quot;: &quot;={{ $json.product_brand }}&quot;,<br>            &quot;product_price&quot;: &quot;={{ $json.product_price }}&quot;,<br>            &quot;promo_percent&quot;: &quot;={{ $json.promo_percentage }}&quot;<br>          },<br>          &quot;schema&quot;: [<br>            {<br>              &quot;id&quot;: &quot;category&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;category&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;product_url&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;product_url&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;product_price&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;product_price&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;product_brand&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;product_brand&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;promo&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;promo&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;promo_percent&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;promo_percent&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            }<br>          ],<br>          &quot;mappingMode&quot;: &quot;defineBelow&quot;,<br>          &quot;matchingColumns&quot;: []<br>        },<br>        &quot;options&quot;: {},<br>        &quot;operation&quot;: &quot;append&quot;,<br>        &quot;sheetName&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: 648398171,<br>          &quot;cachedResultUrl&quot;: &quot;&quot;,<br>          &quot;cachedResultName&quot;: &quot;Results&quot;<br>        },<br>        &quot;documentId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;1g81_39MJUlwnInX30ZuBtHUb-Y80WrYyF5lccaRtcu0&quot;,<br>          &quot;cachedResultUrl&quot;: &quot;&quot;,<br>          &quot;cachedResultName&quot;: &quot;Google Sheets - Workflow Vision-Based Scraping&quot;<br>        },<br>        &quot;authentication&quot;: &quot;serviceAccount&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googleApi&quot;: {<br>          &quot;id&quot;: &quot;&quot;,<br>          &quot;name&quot;: &quot;Google Sheets account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 4.5<br>    },<br>    {<br>      &quot;id&quot;: &quot;2c142537-d8fe-4fc1-9758-6a3538c43fc0&quot;,<br>      &quot;name&quot;: &quot;Vision-based Scraping Agent&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.agent&quot;,<br>      &quot;position&quot;: [<br>        2040,<br>        460<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;text&quot;: &quot;=Here is the screenshot you need to use to extract data about the page:\n\n{{ $json.url }}&quot;,<br>        &quot;options&quot;: {<br>          &quot;systemMessage&quot;: &quot;=Extract the following details from the input screenshot:\n\n- Product Titles\n- Product Prices\n- Brands\n- Promotional Information (e.g., if the product is on promo)\n\nStep 1: Image-Based Extraction\nAnalyze the provided screenshot to identify and extract all the required details: product titles, prices, brands, and promotional information.\nEnsure the extraction is thorough and validate the completeness of the information.\nCross-check all products for missing or unclear details.\nHighlight any limitations (e.g., text is unclear, partially cropped, or missing) in the extraction process.\n\nStep 2: HTML-Based Extraction (If Needed)\nIf you determine that any required information is:\n\nIncomplete or missing (e.g., not all titles, prices, or brands could be retrieved).\nAmbiguous or uncertain (e.g., unclear text or potential errors in OCR).\nUnavailable due to the limitations of image processing (e.g., product links).\n\nThen:\n\nCall the HTML-based tool with the input URL to access the page content.\nExtract the required details from the HTML to supplement or replace the image-based results.\nCombine data from both sources (if applicable) to ensure the final result is comprehensive and accurate.\n\nAdditional Notes\nAvoid redundant HTML tool usage‚Äîconfirm deficiencies in image-based extraction before proceeding.\nFor products on promotion, explicitly label this status in the output.\nReport extraction errors or potential ambiguities (e.g., text illegibility).\n\nIn your output, include all these fields as shown in the example below. If there is no promotion, set \&quot;promo\&quot; to false and \&quot;promo_percent\&quot; to 0.\n\njson\nCopy code\n[{\n  \&quot;product_title\&quot;: \&quot;The title of the product\&quot;,\n  \&quot;product_price\&quot;: \&quot;The price of the product\&quot;,\n  \&quot;product_brand\&quot;: \&quot;The brand of the product\&quot;,\n  \&quot;promo\&quot;: true,\n  \&quot;promo_percent\&quot;: 25\n}]&quot;,<br>          &quot;passthroughBinaryImages&quot;: true<br>        },<br>        &quot;promptType&quot;: &quot;define&quot;,<br>        &quot;hasOutputParser&quot;: true<br>      },<br>      &quot;typeVersion&quot;: 1.7<br>    },<br>    {<br>      &quot;id&quot;: &quot;f4acf278-edec-4bb4-a7cb-1e3c32a6ef4a&quot;,<br>      &quot;name&quot;: &quot;Sticky Note10&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1360,<br>        1160<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 364.53488372093034,<br>        &quot;height&quot;: 357.10392441860495,<br>        &quot;content&quot;: &quot;## HTML-Scraping Tool Trigger\n\nThis **node serves as the entry point for the HTML scraping tool.  \n\nIt is triggered by the **AI Agent only when it fails to extract data** from the screenshot. The **URL** is sent as a **parameter for the query**.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;79f7b4db-57f1-4004-88b3-51cfcfe9884e&quot;,<br>      &quot;name&quot;: &quot;HTML-Scraping Tool&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.executeWorkflowTrigger&quot;,<br>      &quot;position&quot;: [<br>        1480,<br>        1360<br>      ],<br>      &quot;parameters&quot;: {},<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;94aa7169-30b5-49dd-864a-be2eabbf85d3&quot;,<br>      &quot;name&quot;: &quot;Sticky Note11&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1760,<br>        1160<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 364.53488372093034,<br>        &quot;height&quot;: 357.10392441860495,<br>        &quot;content&quot;: &quot;## Set Fields - From AI Agent Query\n\nThis node sets the fields from the AI Agent‚Äôs query.  \n\nIn this template, the only field configured is **url**.\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;f2615921-d060-410b-aef4-cd484edb2897&quot;,<br>      &quot;name&quot;: &quot;Set fields - from AI agent query&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        1880,<br>        1360<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;c53c5ed2-9c7b-4365-9953-790264c722ab&quot;,<br>              &quot;name&quot;: &quot;url&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $json.query }}&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;807e263a-97ce-4369-9ad0-8f973fc8dcc9&quot;,<br>      &quot;name&quot;: &quot;Sticky Note12&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        2180,<br>        1160<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 364.53488372093034,<br>        &quot;height&quot;: 357.10392441860495,<br>        &quot;content&quot;: &quot;## ScrapingBee - Get Page HTML\n\nThis node utilizes the ScrapingBee API to **retrieve the HTML of the webpage**.\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;1cd32b9d-b07e-4dbb-9418-a99019c9deae&quot;,<br>      &quot;name&quot;: &quot;Sticky Note13&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        2600,<br>        1160<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 364.53488372093034,<br>        &quot;height&quot;: 357.10392441860495,<br>        &quot;content&quot;: &quot;## HTML to Markdown\n\nThis node **converts the HTML from the previous node** into Markdown format, **helping to save tokens**.  \n\nThe converted **Markdown is then automatically sent to the AI Agent** through this node.\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;3b9096d1-ab5a-48a8-90ee-465483881d95&quot;,<br>      &quot;name&quot;: &quot;HTML to Markdown&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.markdown&quot;,<br>      &quot;position&quot;: [<br>        2740,<br>        1360<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;html&quot;: &quot;={{ $json.data }}&quot;,<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;966ad92a-ddda-4fb9-86ac-9c62f47dfc37&quot;,<br>      &quot;name&quot;: &quot;Sticky Note14&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -880.9927663601949,<br>        0<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 829.9937466197946,<br>        &quot;height&quot;: 646.0101744186061,<br>        &quot;content&quot;: &quot;# ‚ú® Vision-Based AI Agent Scraper - with Google Sheets, ScrapingBee, and Gemini\n\n## Important notes :\n### Check legal regulations: \nThis workflow involves scraping, so make sure to check the legal regulations around scraping in your country before getting started. Better safe than sorry!\n\n## Workflow description\nThis workflow leverages a **vision-based AI Agent**, integrated with Google Sheets, ScrapingBee, and the Gemini-1.5-Pro model, to **extract structured data from webpages**. The AI Agent primarily **uses screenshots for data extraction** but switches to HTML scraping when necessary, ensuring high accuracy. \n\nKey features include:  \n- **Google Sheets Integration**: Manage URLs to scrape and store structured results.  \n- **ScrapingBee**: Capture full-page screenshots and retrieve HTML data for fallback extraction.  \n- **AI-Powered Data Parsing**: Use Gemini-1.5-Pro for vision-based scraping and a Structured Output Parser to format extracted data into JSON.  \n- **Token Efficiency**: HTML is converted to Markdown to optimize processing costs.\n\nThis template is designed for e-commerce scraping but can be customized for various use cases.  \n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    }<br>  ],<br>  &quot;active&quot;: false,<br>  &quot;pinData&quot;: {},<br>  &quot;settings&quot;: {<br>    &quot;executionOrder&quot;: &quot;v1&quot;<br>  },<br>  &quot;versionId&quot;: &quot;cf87b8bb-6218-4549-831f-02ff4be611eb&quot;,<br>  &quot;connections&quot;: {<br>    &quot;Split Out&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Google Sheets - Create Rows&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Set fields&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;ScrapingBee - Get page screenshot&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;HTML-Scraping Tool&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Set fields - from AI agent query&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Google Gemini Chat Model&quot;: {<br>      &quot;ai_languageModel&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Vision-based Scraping Agent&quot;,<br>            &quot;type&quot;: &quot;ai_languageModel&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;HTML-based Scraping Tool&quot;: {<br>      &quot;ai_tool&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Vision-based Scraping Agent&quot;,<br>            &quot;type&quot;: &quot;ai_tool&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Structured Output Parser&quot;: {<br>      &quot;ai_outputParser&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Vision-based Scraping Agent&quot;,<br>            &quot;type&quot;: &quot;ai_outputParser&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;ScrapingBee- Get page HTML&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;HTML to Markdown&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Vision-based Scraping Agent&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Split Out&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Google Sheets - Get list of URLs&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Set fields&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Set fields - from AI agent query&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;ScrapingBee- Get page HTML&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;ScrapingBee - Get page screenshot&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Vision-based Scraping Agent&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;When clicking ‚ÄòTest workflow‚Äô&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Google Sheets - Get list of URLs&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    }<br>  }<br>}</div></td></tr><tr style="height: 59px"><th id="0R17" style="height: 59px;" class="row-headers-background"><div class="row-header-wrapper" style="line-height: 59px">18</div></th><td class="s5" dir="ltr">Investigador web con IA para ventas</td><td class="s6 softmerge" dir="ltr"><div class="softmerge-inner" style="width:7406px;left:-3px">{<br>  &quot;meta&quot;: {<br>    &quot;instanceId&quot;: &quot;2b1cc1a8b0a2fb9caab11ab2d5eb3712f9973066051b2e898cf4041a1f2a7757&quot;,<br>    &quot;templateId&quot;: &quot;2324&quot;,<br>    &quot;templateCredsSetupCompleted&quot;: true<br>  },<br>  &quot;nodes&quot;: [<br>    {<br>      &quot;id&quot;: &quot;71b06728-7f59-49e3-9365-3281189a6659&quot;,<br>      &quot;name&quot;: &quot;When clicking \&quot;Test workflow\&quot;&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.manualTrigger&quot;,<br>      &quot;position&quot;: [<br>        920,<br>        340<br>      ],<br>      &quot;parameters&quot;: {},<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;b37019e3-c7ab-4119-986d-c27d082a036e&quot;,<br>      &quot;name&quot;: &quot;Input&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        1340,<br>        340<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;fcc97354-b9f6-4459-a004-46e87902c77c&quot;,<br>              &quot;name&quot;: &quot;company_input&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $json.input }}&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;e5415c49-5204-45b1-a0e9-814157127b12&quot;,<br>              &quot;name&quot;: &quot;row_number&quot;,<br>              &quot;type&quot;: &quot;number&quot;,<br>              &quot;value&quot;: &quot;={{ $json.row_number }}&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3.3<br>    },<br>    {<br>      &quot;id&quot;: &quot;7d5d53ac-6d3c-4b24-97c7-deb6b76749e5&quot;,<br>      &quot;name&quot;: &quot;OpenAI Chat Model&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.lmChatOpenAi&quot;,<br>      &quot;position&quot;: [<br>        2020,<br>        660<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;model&quot;: &quot;gpt-4o&quot;,<br>        &quot;options&quot;: {<br>          &quot;temperature&quot;: 0.3<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;openAiApi&quot;: {<br>          &quot;id&quot;: &quot;FMTQypGcsAwaRQdC&quot;,<br>          &quot;name&quot;: &quot;OpenAi account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;24e2f3b0-8b90-49a9-bde6-0fb0c2baf52a&quot;,<br>      &quot;name&quot;: &quot;Get website content&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.toolWorkflow&quot;,<br>      &quot;position&quot;: [<br>        2580,<br>        680<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;name&quot;: &quot;get_website_content&quot;,<br>        &quot;source&quot;: &quot;parameter&quot;,<br>        &quot;description&quot;: &quot;This tool will return the text from the given URL. &quot;,<br>        &quot;workflowJson&quot;: &quot;{\n  \&quot;meta\&quot;: {\n    \&quot;templateCredsSetupCompleted\&quot;: true,\n    \&quot;instanceId\&quot;: \&quot;2b1cc1a8b0a2fb9caab11ab2d5eb3712f9973066051b2e898cf4041a1f2a7757\&quot;\n  },\n  \&quot;nodes\&quot;: [\n    {\n      \&quot;parameters\&quot;: {},\n      \&quot;id\&quot;: \&quot;475eaf3c-7e11-457e-8b72-4d3e683e2f80\&quot;,\n      \&quot;name\&quot;: \&quot;Execute Workflow Trigger\&quot;,\n      \&quot;type\&quot;: \&quot;n8n-nodes-base.executeWorkflowTrigger\&quot;,\n      \&quot;typeVersion\&quot;: 1,\n      \&quot;position\&quot;: [\n        260,\n        340\n      ]\n    },\n    {\n      \&quot;parameters\&quot;: {\n        \&quot;url\&quot;: \&quot;={{ $json.query.url }}\&quot;,\n        \&quot;options\&quot;: {}\n      },\n      \&quot;id\&quot;: \&quot;321fbc74-d749-4f9b-954e-7cad37601ddf\&quot;,\n      \&quot;name\&quot;: \&quot;Visit Website\&quot;,\n      \&quot;type\&quot;: \&quot;n8n-nodes-base.httpRequest\&quot;,\n      \&quot;typeVersion\&quot;: 4.2,\n      \&quot;position\&quot;: [\n        440,\n        340\n      ]\n    },\n    {\n      \&quot;parameters\&quot;: {\n        \&quot;operation\&quot;: \&quot;extractHtmlContent\&quot;,\n        \&quot;extractionValues\&quot;: {\n          \&quot;values\&quot;: [\n            {\n              \&quot;key\&quot;: \&quot;body\&quot;,\n              \&quot;cssSelector\&quot;: \&quot;html\&quot;,\n              \&quot;skipSelectors\&quot;: \&quot;head\&quot;\n            }\n          ]\n        },\n        \&quot;options\&quot;: {\n          \&quot;cleanUpText\&quot;: true\n        }\n      },\n      \&quot;id\&quot;: \&quot;6e51732a-4999-4805-838b-f692e9965197\&quot;,\n      \&quot;name\&quot;: \&quot;HTML\&quot;,\n      \&quot;type\&quot;: \&quot;n8n-nodes-base.html\&quot;,\n      \&quot;typeVersion\&quot;: 1.2,\n      \&quot;position\&quot;: [\n        620,\n        340\n      ]\n    }\n  ],\n  \&quot;connections\&quot;: {\n    \&quot;Execute Workflow Trigger\&quot;: {\n      \&quot;main\&quot;: [\n        [\n          {\n            \&quot;node\&quot;: \&quot;Visit Website\&quot;,\n            \&quot;type\&quot;: \&quot;main\&quot;,\n            \&quot;index\&quot;: 0\n          }\n        ]\n      ]\n    },\n    \&quot;Visit Website\&quot;: {\n      \&quot;main\&quot;: [\n        [\n          {\n            \&quot;node\&quot;: \&quot;HTML\&quot;,\n            \&quot;type\&quot;: \&quot;main\&quot;,\n            \&quot;index\&quot;: 0\n          }\n        ]\n      ]\n    }\n  },\n  \&quot;pinData\&quot;: {\n    \&quot;Execute Workflow Trigger\&quot;: [\n      {\n        \&quot;query\&quot;: {\n          \&quot;url\&quot;: \&quot;https://www.lemlist.com\&quot;\n        }\n      }\n    ]\n  }\n}&quot;,<br>        &quot;jsonSchemaExample&quot;: &quot;{\n\t\&quot;url\&quot;: \&quot;https://www.lemlist.com\&quot;\n}&quot;,<br>        &quot;specifyInputSchema&quot;: true,<br>        &quot;responsePropertyName&quot;: &quot;body&quot;<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;ff7ab74c-dfc6-43ce-8c57-6edf935b4915&quot;,<br>      &quot;name&quot;: &quot;SerpAPI - Search Google&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.toolSerpApi&quot;,<br>      &quot;position&quot;: [<br>        2300,<br>        660<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {}<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;serpApi&quot;: {<br>          &quot;id&quot;: &quot;ECK6FimAloRJOZMG&quot;,<br>          &quot;name&quot;: &quot;SerpAPI account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;4fe311f2-4983-4380-b4ed-a827a406fce5&quot;,<br>      &quot;name&quot;: &quot;Structured Output Parser&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.outputParserStructured&quot;,<br>      &quot;position&quot;: [<br>        2880,<br>        660<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;schemaType&quot;: &quot;manual&quot;,<br>        &quot;inputSchema&quot;: &quot;{\n\t\&quot;type\&quot;: \&quot;object\&quot;,\n\t\&quot;properties\&quot;: {\n\t\t\&quot;case_study_link\&quot;: {\n\t\t\t\&quot;type\&quot;:[\&quot;string\&quot;, \&quot;null\&quot;]\n\t\t},\n      \t\t\&quot;domain\&quot;: {\n\t\t\t\&quot;type\&quot;: [\&quot;string\&quot;, \&quot;null\&quot;]\n\t\t},\n           \&quot;linkedinUrl\&quot;: {\n\t\t\t\&quot;type\&quot;: [\&quot;string\&quot;, \&quot;null\&quot;]\n\t\t},\n     \t\&quot;market\&quot;: {\n\t\t\t\&quot;type\&quot;: [\&quot;string\&quot;, \&quot;null\&quot;]\n\t\t},\n\t\t\&quot;cheapest_plan\&quot;: {\n\t\t\t\&quot;type\&quot;: [\&quot;number\&quot;, \&quot;null\&quot;]\n\t\t},\n\t\&quot;has_enterprise_plan\&quot;: {\n\t\t\t\&quot;type\&quot;: [\&quot;boolean\&quot;, \&quot;null\&quot;]\n\t\t},\n\t\&quot;has_API\&quot;: {\n\t\t\t\&quot;type\&quot;: [\&quot;boolean\&quot;, \&quot;null\&quot;]\n\t\t},\n\t\&quot;has_free_trial\&quot;: {\n\t\t\t\&quot;type\&quot;: [\&quot;boolean\&quot;, \&quot;null\&quot;]\n\t\t},\n\t\&quot;integrations\&quot;: {\n\t\t\t\&quot;type\&quot;: [\&quot;array\&quot;,\&quot;null\&quot;],\n      \&quot;items\&quot;: {\n\t\t\t\t\&quot;type\&quot;: \&quot;string\&quot;\n\t\t\t}\n\t\t}\n\t}\n}&quot;<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;89ed0723-4dbe-428d-b1a9-ebdf515e42bb&quot;,<br>      &quot;name&quot;: &quot;Loop Over Items&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.splitInBatches&quot;,<br>      &quot;position&quot;: [<br>        1600,<br>        340<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 3<br>    },<br>    {<br>      &quot;id&quot;: &quot;34ea3862-e8e5-4bf2-a9aa-2ad084376bb5&quot;,<br>      &quot;name&quot;: &quot;AI Researcher Output Data&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        2960,<br>        340<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;4109ca11-1bb8-4f5c-8bec-a962f44b0746&quot;,<br>              &quot;name&quot;: &quot;domain&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $json.output.domain }}&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;7f492768-375e-48fa-866b-644b2b5cbd68&quot;,<br>              &quot;name&quot;: &quot;linkedinUrl&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $json.output.linkedinUrl }}&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;e30b0d07-68db-45a1-9593-fd6ce24a1d50&quot;,<br>              &quot;name&quot;: &quot;market&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $json.output.market }}&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;0c03a51e-2c07-4583-85c6-d3d2ee81c5d1&quot;,<br>              &quot;name&quot;: &quot;cheapest_plan&quot;,<br>              &quot;type&quot;: &quot;number&quot;,<br>              &quot;value&quot;: &quot;={{ $json.output.cheapest_plan }}&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;0c9622d0-8446-4663-9a94-964b5df851f1&quot;,<br>              &quot;name&quot;: &quot;has_enterprise_plan&quot;,<br>              &quot;type&quot;: &quot;boolean&quot;,<br>              &quot;value&quot;: &quot;={{ $json.output.has_enterprise_plan }}&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;564cf6ea-457f-4762-bc19-6900b7d5743c&quot;,<br>              &quot;name&quot;: &quot;has_API&quot;,<br>              &quot;type&quot;: &quot;boolean&quot;,<br>              &quot;value&quot;: &quot;={{ $json.output.has_API }}&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;7fd39897-65c3-45d6-9563-8254f55ecef0&quot;,<br>              &quot;name&quot;: &quot;has_free_trial&quot;,<br>              &quot;type&quot;: &quot;boolean&quot;,<br>              &quot;value&quot;: &quot;={{ $json.output.has_free_trial }}&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;26477939-d407-4cae-92b2-9a9dc0f53a64&quot;,<br>              &quot;name&quot;: &quot;integrations&quot;,<br>              &quot;type&quot;: &quot;array&quot;,<br>              &quot;value&quot;: &quot;={{ $json.output.integrations }}&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;f0cc61d1-6b6b-4142-8627-4a4c721b19a1&quot;,<br>              &quot;name&quot;: &quot;case_study_link&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $json.output.case_study_link }}&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3.3<br>    },<br>    {<br>      &quot;id&quot;: &quot;ff1cb26d-6138-4ee1-9f28-4ecc80c1c8ae&quot;,<br>      &quot;name&quot;: &quot;Google Sheets - Update Row with data&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleSheets&quot;,<br>      &quot;position&quot;: [<br>        3600,<br>        700<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;columns&quot;: {<br>          &quot;value&quot;: {<br>            &quot;domain&quot;: &quot;={{ $json.domain }}&quot;,<br>            &quot;market&quot;: &quot;={{ $json.market }}&quot;,<br>            &quot;row_number&quot;: &quot;={{ $json.row_number }}&quot;,<br>            &quot;linkedinUrl&quot;: &quot;={{ $json.linkedinUrl }}&quot;,<br>            &quot;integrations&quot;: &quot;={{ $json.integrations }}&quot;,<br>            &quot;cheapest_plan&quot;: &quot;={{ $json.cheapest_plan }}&quot;,<br>            &quot;has_free_trial&quot;: &quot;={{ $json.has_free_trial }}&quot;,<br>            &quot;enrichment_status&quot;: &quot;done&quot;,<br>            &quot;has_entreprise_plan&quot;: &quot;={{ $json.has_enterprise_plan }}&quot;,<br>            &quot;last_case_study_link&quot;: &quot;={{ $json.case_study_link }}&quot;<br>          },<br>          &quot;schema&quot;: [<br>            {<br>              &quot;id&quot;: &quot;input&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;removed&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;input&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;domain&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;domain&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;linkedinUrl&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;linkedinUrl&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;has_free_trial&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;has_free_trial&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;cheapest_plan&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;cheapest_plan&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;has_entreprise_plan&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;has_entreprise_plan&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;last_case_study_link&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;removed&quot;: false,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;last_case_study_link&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;market&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;market&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;integrations&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;integrations&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;enrichment_status&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;enrichment_status&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;row_number&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;removed&quot;: false,<br>              &quot;readOnly&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;row_number&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            }<br>          ],<br>          &quot;mappingMode&quot;: &quot;defineBelow&quot;,<br>          &quot;matchingColumns&quot;: [<br>            &quot;row_number&quot;<br>          ]<br>        },<br>        &quot;options&quot;: {},<br>        &quot;operation&quot;: &quot;update&quot;,<br>        &quot;sheetName&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;gid=0&quot;,<br>          &quot;cachedResultUrl&quot;: &quot;https://docs.google.com/spreadsheets/d/19U7gAgkUEz6mbFcnygf1zKDdGvY6OAdUqq3bZQWgjxE/edit#gid=0&quot;,<br>          &quot;cachedResultName&quot;: &quot;Sheet1&quot;<br>        },<br>        &quot;documentId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;19U7gAgkUEz6mbFcnygf1zKDdGvY6OAdUqq3bZQWgjxE&quot;,<br>          &quot;cachedResultUrl&quot;: &quot;https://docs.google.com/spreadsheets/d/19U7gAgkUEz6mbFcnygf1zKDdGvY6OAdUqq3bZQWgjxE/edit?usp=drivesdk&quot;,<br>          &quot;cachedResultName&quot;: &quot;Enrich companies using AI agents&quot;<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googleSheetsOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;GC2OQl3Jvy543LT2&quot;,<br>          &quot;name&quot;: &quot;Google Sheets account - perso&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 4.3<br>    },<br>    {<br>      &quot;id&quot;: &quot;6611f852-b4d6-4a07-9428-db206ef57cc3&quot;,<br>      &quot;name&quot;: &quot;Merge data&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.merge&quot;,<br>      &quot;position&quot;: [<br>        3240,<br>        180<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;mode&quot;: &quot;combine&quot;,<br>        &quot;options&quot;: {},<br>        &quot;combinationMode&quot;: &quot;mergeByPosition&quot;<br>      },<br>      &quot;typeVersion&quot;: 2.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;2a19516b-33a1-4987-9b5f-242a084621e0&quot;,<br>      &quot;name&quot;: &quot;Sticky Note&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        380,<br>        240<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 409.0131656322444,<br>        &quot;height&quot;: 658.0614601225933,<br>        &quot;content&quot;: &quot;## Read Me\n\nThis workflow allows you to do account research with the web using AI.\n\nThe advanced AI module has 2 capabilities: \n- Research Google using SerpAPI\n- Visit and get website content using a sub-workflow\n\n\nFrom an unstructured input like a domain or a company name. \n\nIt will return the following properties: \n- domain\n- company Linkedin Url\n- cheapest plan\n- has free trial\n- has entreprise plan\n- has API\n- market (B2B or B2C)\n\n\nThe strength of n8n here is that you can adapt this workflow to research whatever information you need.\n\nYou just have to precise it in the prompt and to precise the output format in the \&quot;Strutured Output Parser\&quot; module.\n\n[Click here to find more detailed instructions with video guide.](https://lempire.notion.site/AI-Web-research-with-n8n-a25aae3258d0423481a08bd102f16906)\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;67d485c9-3289-4bb3-9523-cd24c0b1aa05&quot;,<br>      &quot;name&quot;: &quot;Get rows to enrich&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleSheets&quot;,<br>      &quot;position&quot;: [<br>        1140,<br>        340<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {<br>          &quot;returnAllMatches&quot;: &quot;returnAllMatches&quot;<br>        },<br>        &quot;filtersUI&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;lookupColumn&quot;: &quot;enrichment_status&quot;<br>            }<br>          ]<br>        },<br>        &quot;sheetName&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;gid=0&quot;,<br>          &quot;cachedResultUrl&quot;: &quot;https://docs.google.com/spreadsheets/d/19U7gAgkUEz6mbFcnygf1zKDdGvY6OAdUqq3bZQWgjxE/edit#gid=0&quot;,<br>          &quot;cachedResultName&quot;: &quot;Sheet1&quot;<br>        },<br>        &quot;documentId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;19U7gAgkUEz6mbFcnygf1zKDdGvY6OAdUqq3bZQWgjxE&quot;,<br>          &quot;cachedResultUrl&quot;: &quot;https://docs.google.com/spreadsheets/d/19U7gAgkUEz6mbFcnygf1zKDdGvY6OAdUqq3bZQWgjxE/edit?usp=drivesdk&quot;,<br>          &quot;cachedResultName&quot;: &quot;Enrich companies using AI agents&quot;<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googleSheetsOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;GC2OQl3Jvy543LT2&quot;,<br>          &quot;name&quot;: &quot;Google Sheets account - perso&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 4.3<br>    },<br>    {<br>      &quot;id&quot;: &quot;eb0c95e7-2211-48d1-abaf-07cd0c76d3a6&quot;,<br>      &quot;name&quot;: &quot;Sticky Note1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1540,<br>        227.25301102878547<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 300.49399096535876,<br>        &quot;height&quot;: 333.8263184006576,<br>        &quot;content&quot;: &quot;### Process rows 1 by 1\nThis module will allow us to process rows 1 by 1&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;8bf0deae-dda7-4e27-9ac7-978db14cca19&quot;,<br>      &quot;name&quot;: &quot;Sticky Note2&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        2740,<br>        560<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 300.49399096535876,<br>        &quot;height&quot;: 236.01118609685022,<br>        &quot;content&quot;: &quot;Precise here the format in which you need the data to be &quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;dc4f1550-1e3c-4175-a2b3-10153dc2fd77&quot;,<br>      &quot;name&quot;: &quot;Sticky Note3&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        2180,<br>        200.2582716310755<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 300.49399096535876,<br>        &quot;height&quot;: 279.8787004666023,<br>        &quot;content&quot;: &quot;### Ask AI what are the information you are looking for about the company&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;70fc73a0-303b-46e1-822d-cebdbccf8e32&quot;,<br>      &quot;name&quot;: &quot;Sticky Note4&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        2220,<br>        580<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;height&quot;: 248.91749449109562,<br>        &quot;content&quot;: &quot;Get your free API key here https://serpapi.com/&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;0c1dafa9-28fe-4ef4-b80e-d4034e16f6c0&quot;,<br>      &quot;name&quot;: &quot;Schedule Trigger&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.scheduleTrigger&quot;,<br>      &quot;position&quot;: [<br>        920,<br>        580<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;rule&quot;: {<br>          &quot;interval&quot;: [<br>            {<br>              &quot;field&quot;: &quot;hours&quot;,<br>              &quot;hoursInterval&quot;: 2<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;8b5ebee9-f519-4621-bf2a-12891794f2c5&quot;,<br>      &quot;name&quot;: &quot;Sticky Note5&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        820,<br>        240<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 266.12865147126786,<br>        &quot;height&quot;: 627.5654650079845,<br>        &quot;content&quot;: &quot;Run the workflow manually or activate it to run it every 2 hours&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;d7db2452-ba3d-4adb-bd8b-d17a92d1bce5&quot;,<br>      &quot;name&quot;: &quot;AI company researcher&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.agent&quot;,<br>      &quot;position&quot;: [<br>        2200,<br>        340<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;text&quot;: &quot;=This is the company I want you to research info about:\n{{ $json.company_input }}\n\nReturn me:\n- the linkedin URL of the company\n- the domain of the company. in this format ([domain].[tld])\n- market: if they are B2B or B2C. Only reply by \&quot;B2B\&quot; or \&quot;B2B\&quot;\n- the lowest paid plan the company is offering. If you are not sure, reply null.\n- the latest case study URL published on the website (find case study hub using google, and return the first case study link)\n- tell me if the company offer an API\n- tell me if the company has an enterprise plan\n- tell me if the company has a free trial mentionned in their homepage. reply false if you don&#39;t find strong evidence.\n- return an array with up to 5 tools the company is integrated with&quot;,<br>        &quot;options&quot;: {<br>          &quot;maxIterations&quot;: 10<br>        },<br>        &quot;promptType&quot;: &quot;define&quot;,<br>        &quot;hasOutputParser&quot;: true<br>      },<br>      &quot;typeVersion&quot;: 1.6<br>    },<br>    {<br>      &quot;id&quot;: &quot;f7896dbd-5c15-44e9-96ca-c695a66562cc&quot;,<br>      &quot;name&quot;: &quot;Search Google with ScrapingBee&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.toolWorkflow&quot;,<br>      &quot;position&quot;: [<br>        2300,<br>        1140<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;name&quot;: &quot;search_google&quot;,<br>        &quot;source&quot;: &quot;parameter&quot;,<br>        &quot;description&quot;: &quot;Call this tool to get results from a google search.&quot;,<br>        &quot;workflowJson&quot;: &quot;{\n  \&quot;meta\&quot;: {\n    \&quot;templateCredsSetupCompleted\&quot;: true,\n    \&quot;instanceId\&quot;: \&quot;2b1cc1a8b0a2fb9caab11ab2d5eb3712f9973066051b2e898cf4041a1f2a7757\&quot;\n  },\n  \&quot;nodes\&quot;: [\n    {\n      \&quot;parameters\&quot;: {},\n      \&quot;id\&quot;: \&quot;fbb17d8d-e2dc-46ae-aba4-8c27cc9d8766\&quot;,\n      \&quot;name\&quot;: \&quot;Execute Workflow Trigger\&quot;,\n      \&quot;type\&quot;: \&quot;n8n-nodes-base.executeWorkflowTrigger\&quot;,\n      \&quot;typeVersion\&quot;: 1,\n      \&quot;position\&quot;: [\n        20,\n        460\n      ]\n    },\n    {\n      \&quot;parameters\&quot;: {\n        \&quot;url\&quot;: \&quot;https://app.scrapingbee.com/api/v1/store/google\&quot;,\n        \&quot;authentication\&quot;: \&quot;genericCredentialType\&quot;,\n        \&quot;genericAuthType\&quot;: \&quot;httpQueryAuth\&quot;,\n        \&quot;sendQuery\&quot;: true,\n        \&quot;queryParameters\&quot;: {\n          \&quot;parameters\&quot;: [\n            {\n              \&quot;name\&quot;: \&quot;search\&quot;,\n              \&quot;value\&quot;: \&quot;={{ $json.query.google_search_query }}\&quot;\n            },\n            {\n              \&quot;name\&quot;: \&quot;language\&quot;,\n              \&quot;value\&quot;: \&quot;en\&quot;\n            },\n            {\n              \&quot;name\&quot;: \&quot;nb_results\&quot;,\n              \&quot;value\&quot;: \&quot;5\&quot;\n            }\n          ]\n        },\n        \&quot;options\&quot;: {}\n      },\n      \&quot;id\&quot;: \&quot;b938a2bd-030e-46d7-adee-4e3c85cfc1b3\&quot;,\n      \&quot;name\&quot;: \&quot;Search Google\&quot;,\n      \&quot;type\&quot;: \&quot;n8n-nodes-base.httpRequest\&quot;,\n      \&quot;typeVersion\&quot;: 4.2,\n      \&quot;position\&quot;: [\n        300,\n        460\n      ],\n      \&quot;credentials\&quot;: {\n        \&quot;httpQueryAuth\&quot;: {\n          \&quot;id\&quot;: \&quot;Pb2CIMT0tN838QPy\&quot;,\n          \&quot;name\&quot;: \&quot;ScrapingBee\&quot;\n        }\n      }\n    },\n    {\n      \&quot;parameters\&quot;: {\n        \&quot;assignments\&quot;: {\n          \&quot;assignments\&quot;: [\n            {\n              \&quot;id\&quot;: \&quot;096fee70-444e-4948-816c-752b20786062\&quot;,\n              \&quot;name\&quot;: \&quot;response\&quot;,\n              \&quot;value\&quot;: \&quot;={{ $json.organic_results }}\&quot;,\n              \&quot;type\&quot;: \&quot;array\&quot;\n            }\n          ]\n        },\n        \&quot;options\&quot;: {}\n      },\n      \&quot;id\&quot;: \&quot;c5db1fb6-d875-47d2-97db-287777583f22\&quot;,\n      \&quot;name\&quot;: \&quot;Response\&quot;,\n      \&quot;type\&quot;: \&quot;n8n-nodes-base.set\&quot;,\n      \&quot;typeVersion\&quot;: 3.3,\n      \&quot;position\&quot;: [\n        520,\n        460\n      ]\n    }\n  ],\n  \&quot;connections\&quot;: {\n    \&quot;Execute Workflow Trigger\&quot;: {\n      \&quot;main\&quot;: [\n        [\n          {\n            \&quot;node\&quot;: \&quot;Search Google\&quot;,\n            \&quot;type\&quot;: \&quot;main\&quot;,\n            \&quot;index\&quot;: 0\n          }\n        ]\n      ]\n    },\n    \&quot;Search Google\&quot;: {\n      \&quot;main\&quot;: [\n        [\n          {\n            \&quot;node\&quot;: \&quot;Response\&quot;,\n            \&quot;type\&quot;: \&quot;main\&quot;,\n            \&quot;index\&quot;: 0\n          }\n        ]\n      ]\n    }\n  },\n  \&quot;pinData\&quot;: {\n    \&quot;Execute Workflow Trigger\&quot;: [\n      {\n        \&quot;query\&quot;: {\n          \&quot;google_search_query\&quot;: \&quot;site:lemlist.com pricing\&quot;\n        }\n      }\n    ]\n  }\n}&quot;,<br>        &quot;jsonSchemaExample&quot;: &quot;{\n\t\&quot;google_search_query\&quot;: \&quot;site:lemlist.com pricing\&quot;\n}&quot;,<br>        &quot;specifyInputSchema&quot;: true<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;7a89c803-8145-49c2-aafe-ec2aff0b2fbc&quot;,<br>      &quot;name&quot;: &quot;Sticky Note6&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        2220,<br>        940<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;height&quot;: 340.14969579315925,<br>        &quot;content&quot;: &quot;Instead of SERP API module, you can also use this custom module for ScrapingBee. It is more cost-efficient.\n\nGet your free API key here https://www.scrapingbee.com/&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;79eff129-790b-46da-bef3-899eb6db3ced&quot;,<br>      &quot;name&quot;: &quot;Sticky Note7&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1100,<br>        -20<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 194.6864335083109,<br>        &quot;height&quot;: 525.6560478822986,<br>        &quot;content&quot;: &quot;In this workflow, I use Google Sheets to store the results. \n\nYou can use my template to get started faster:\n\n1. [Click on this link to get the template](https://docs.google.com/spreadsheets/d/1vR6s2nlTwu01v3GP7wvSRWS5W49FJIh20ZF7AUkmMDo/edit?usp=sharing)\n2. Make a copy of the Sheets\n3. Add the URL to this node and the node **\&quot;Google Sheets - Update Row with data\&quot;**\n\n\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    }<br>  ],<br>  &quot;pinData&quot;: {},<br>  &quot;connections&quot;: {<br>    &quot;Input&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Loop Over Items&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Merge data&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Google Sheets - Update Row with data&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Loop Over Items&quot;: {<br>      &quot;main&quot;: [<br>        null,<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI company researcher&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          },<br>          {<br>            &quot;node&quot;: &quot;Merge data&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Schedule Trigger&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Get rows to enrich&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;OpenAI Chat Model&quot;: {<br>      &quot;ai_languageModel&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI company researcher&quot;,<br>            &quot;type&quot;: &quot;ai_languageModel&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Get rows to enrich&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Input&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Get website content&quot;: {<br>      &quot;ai_tool&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI company researcher&quot;,<br>            &quot;type&quot;: &quot;ai_tool&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;AI company researcher&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Researcher Output Data&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;SerpAPI - Search Google&quot;: {<br>      &quot;ai_tool&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI company researcher&quot;,<br>            &quot;type&quot;: &quot;ai_tool&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Structured Output Parser&quot;: {<br>      &quot;ai_outputParser&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI company researcher&quot;,<br>            &quot;type&quot;: &quot;ai_outputParser&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;AI Researcher Output Data&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Merge data&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 1<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;When clicking \&quot;Test workflow\&quot;&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Get rows to enrich&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Google Sheets - Update Row with data&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Loop Over Items&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    }<br>  }<br>}</div></td></tr><tr style="height: 59px"><th id="0R18" style="height: 59px;" class="row-headers-background"><div class="row-header-wrapper" style="line-height: 59px">19</div></th><td class="s3" dir="ltr">Raspado web automatizado: enviar emails con CSV, guardar en Google Sheets y Microsoft Excel</td><td class="s4 softmerge" dir="ltr"><div class="softmerge-inner" style="width:1726px;left:-3px">{<br>  &quot;id&quot;: &quot;swaWgPkq0xW1Jk0o&quot;,<br>  &quot;meta&quot;: {<br>    &quot;instanceId&quot;: &quot;615d41e094941c09198b8ce125ed214047535a66e1c0b3e0cb2d688b4f5c9651&quot;<br>  },<br>  &quot;name&quot;: &quot;Automated Web Scraping: email a CSV, save to Google Sheets &amp; Microsoft Excel&quot;,<br>  &quot;tags&quot;: [],<br>  &quot;nodes&quot;: [<br>    {<br>      &quot;id&quot;: &quot;c3ef40df-084e-435c-9a11-3aa0a2f94f36&quot;,<br>      &quot;name&quot;: &quot;When clicking \&quot;Test workflow\&quot;&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.manualTrigger&quot;,<br>      &quot;position&quot;: [<br>        380,<br>        540<br>      ],<br>      &quot;parameters&quot;: {},<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;e0583472-a450-4582-83bc-84a014bea543&quot;,<br>      &quot;name&quot;: &quot;Split Out&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.splitOut&quot;,<br>      &quot;position&quot;: [<br>        1040,<br>        540<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;fieldToSplitOut&quot;: &quot;books&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;f9cbdb05-c249-4ccb-b3c5-f2eb8861f811&quot;,<br>      &quot;name&quot;: &quot;Convert to CSV File&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.convertToFile&quot;,<br>      &quot;position&quot;: [<br>        1820,<br>        540<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;1ecb45ee-659e-42a9-919d-6a3ebed0b836&quot;,<br>      &quot;name&quot;: &quot;Sticky Note&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1620,<br>        100<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;height&quot;: 184.90255200662574,<br>        &quot;content&quot;: &quot;### You need to setup Microsoft Azure credentials with Microsoft Graph permissions.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;1d4bcfad-feae-4317-9012-7e03a6203d91&quot;,<br>      &quot;name&quot;: &quot;Sticky Note1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1900,<br>        100<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;height&quot;: 183.1237982918667,<br>        &quot;content&quot;: &quot;### Unlike Google Sheets where we did not need to have a certain format, here we need to create the column headers, otherwise the appending to the sheet won&#39;t work.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;4248ddb3-11c0-41e3-be81-ce4ec92923ee&quot;,<br>      &quot;name&quot;: &quot;Sticky Note2&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        2020,<br>        740<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;height&quot;: 135.09744799337426,<br>        &quot;content&quot;: &quot;### For these steps to work you will need to have Drive, Sheets and Gmail APIs enabled in your Google Cloud Account&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;d17174fe-8015-453a-b439-43eb3245d7cb&quot;,<br>      &quot;name&quot;: &quot;Extract all books from the page&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.html&quot;,<br>      &quot;position&quot;: [<br>        820,<br>        540<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;operation&quot;: &quot;extractHtmlContent&quot;,<br>        &quot;extractionValues&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;key&quot;: &quot;books&quot;,<br>              &quot;cssSelector&quot;: &quot;.row &gt; li&quot;,<br>              &quot;returnArray&quot;: true,<br>              &quot;returnValue&quot;: &quot;html&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;5de66b0a-9138-42e3-857a-3060c71776a9&quot;,<br>      &quot;name&quot;: &quot;Sort by price&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.sort&quot;,<br>      &quot;position&quot;: [<br>        1480,<br>        540<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;sortFieldsUi&quot;: {<br>          &quot;sortField&quot;: [<br>            {<br>              &quot;order&quot;: &quot;descending&quot;,<br>              &quot;fieldName&quot;: &quot;price&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;b8c539ce-292c-4b67-83b2-b397cfc5bb97&quot;,<br>      &quot;name&quot;: &quot;Extract individual book price&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.html&quot;,<br>      &quot;position&quot;: [<br>        1260,<br>        540<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;operation&quot;: &quot;extractHtmlContent&quot;,<br>        &quot;dataPropertyName&quot;: &quot;books&quot;,<br>        &quot;extractionValues&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;key&quot;: &quot;title&quot;,<br>              &quot;attribute&quot;: &quot;title&quot;,<br>              &quot;cssSelector&quot;: &quot;h3 &gt; a&quot;,<br>              &quot;returnValue&quot;: &quot;attribute&quot;<br>            },<br>            {<br>              &quot;key&quot;: &quot;price&quot;,<br>              &quot;cssSelector&quot;: &quot;.price_color&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;b8aa573d-5b63-4669-900f-bcc915b6ad41&quot;,<br>      &quot;name&quot;: &quot;Save to Google Sheets&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleSheets&quot;,<br>      &quot;position&quot;: [<br>        1820,<br>        760<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;columns&quot;: {<br>          &quot;value&quot;: {},<br>          &quot;schema&quot;: [<br>            {<br>              &quot;id&quot;: &quot;title&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;removed&quot;: false,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;title&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;price&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;removed&quot;: false,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;price&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            }<br>          ],<br>          &quot;mappingMode&quot;: &quot;autoMapInputData&quot;,<br>          &quot;matchingColumns&quot;: []<br>        },<br>        &quot;options&quot;: {},<br>        &quot;operation&quot;: &quot;append&quot;,<br>        &quot;sheetName&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;gid=0&quot;,<br>          &quot;cachedResultUrl&quot;: &quot;https://docs.google.com/spreadsheets/d/1zyiRT7iIlfzZiskC9vDVoAFnW_UNMVXX0-ESVU1yYxY/edit#gid=0&quot;,<br>          &quot;cachedResultName&quot;: &quot;Sheet1&quot;<br>        },<br>        &quot;documentId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;1zyiRT7iIlfzZiskC9vDVoAFnW_UNMVXX0-ESVU1yYxY&quot;,<br>          &quot;cachedResultUrl&quot;: &quot;https://docs.google.com/spreadsheets/d/1zyiRT7iIlfzZiskC9vDVoAFnW_UNMVXX0-ESVU1yYxY/edit?usp=drivesdk&quot;,<br>          &quot;cachedResultName&quot;: &quot;Scraped Data&quot;<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googleSheetsOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;MMrGJCEKCWIb8jPE&quot;,<br>          &quot;name&quot;: &quot;Google Sheets account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 4.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;97bdbc85-84b3-4463-9b98-5d40b80a3a1a&quot;,<br>      &quot;name&quot;: &quot;Save to Microsoft Excel 365&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.microsoftExcel&quot;,<br>      &quot;position&quot;: [<br>        1820,<br>        320<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;dataMode&quot;: &quot;autoMap&quot;,<br>        &quot;resource&quot;: &quot;worksheet&quot;,<br>        &quot;workbook&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;id&quot;,<br>          &quot;value&quot;: &quot;=EA8A73F11507ECE9!24392&quot;<br>        },<br>        &quot;operation&quot;: &quot;append&quot;,<br>        &quot;worksheet&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;{00000000-0001-0000-0000-000000000000}&quot;,<br>          &quot;cachedResultName&quot;: &quot;Sheet1&quot;<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;microsoftExcelOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;oSGTo5qjZHVXYiuB&quot;,<br>          &quot;name&quot;: &quot;Microsoft Excel account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;4078dc06-0497-4579-a6f4-8c314307aab8&quot;,<br>      &quot;name&quot;: &quot;Send CSV via e-mail&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.gmail&quot;,<br>      &quot;position&quot;: [<br>        2040,<br>        540<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;sendTo&quot;: &quot;constact@mihai.ltd&quot;,<br>        &quot;message&quot;: &quot;Hey, here&#39;s the scraped data from the online bookstore!&quot;,<br>        &quot;options&quot;: {<br>          &quot;attachmentsUi&quot;: {<br>            &quot;attachmentsBinary&quot;: [<br>              {}<br>            ]<br>          }<br>        },<br>        &quot;subject&quot;: &quot;bookstore csv&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;gmailOAuth2&quot;: {<br>          &quot;id&quot;: &quot;18u7JrVfJgM0fhOv&quot;,<br>          &quot;name&quot;: &quot;Gmail account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;8ddca560-8da7-4090-b865-0523f95ca463&quot;,<br>      &quot;name&quot;: &quot;Fetch website content&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.httpRequest&quot;,<br>      &quot;position&quot;: [<br>        600,<br>        540<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;url&quot;: &quot;http://books.toscrape.com&quot;,<br>        &quot;options&quot;: {<br>          &quot;allowUnauthorizedCerts&quot;: true<br>        }<br>      },<br>      &quot;typeVersion&quot;: 4.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;450020e6-9f43-4652-be13-25cb5eb3584c&quot;,<br>      &quot;name&quot;: &quot;Sticky Note3&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        360,<br>        60<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 579,<br>        &quot;height&quot;: 297,<br>        &quot;content&quot;: &quot;## Automated Web Scraping: email a CSV, save to Google Sheets &amp; Microsoft Excel\n\nSet-up steps:\n1. Change the website to scrape in the \&quot;Fetch website content\&quot; node\n2. Configure Microsoft Azure credentials with Microsoft Graph permissions (required for the Save to Microsoft Excel 365 node)\n3. Configure Google Cloud credentials with access to Google Drive, Google Sheets and Gmail APIs (the latter is required for the Send CSV via e-mail node).&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    }<br>  ],<br>  &quot;active&quot;: false,<br>  &quot;pinData&quot;: {},<br>  &quot;settings&quot;: {<br>    &quot;executionOrder&quot;: &quot;v1&quot;<br>  },<br>  &quot;versionId&quot;: &quot;27818544-3070-4201-917d-83739ce75339&quot;,<br>  &quot;connections&quot;: {<br>    &quot;Split Out&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Extract individual book price&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Sort by price&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Save to Microsoft Excel 365&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          },<br>          {<br>            &quot;node&quot;: &quot;Convert to CSV File&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          },<br>          {<br>            &quot;node&quot;: &quot;Save to Google Sheets&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Convert to CSV File&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Send CSV via e-mail&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Fetch website content&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Extract all books from the page&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Extract individual book price&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Sort by price&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;When clicking \&quot;Test workflow\&quot;&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Fetch website content&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Extract all books from the page&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Split Out&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    }<br>  }<br>}</div></td></tr><tr style="height: 59px"><th id="0R19" style="height: 59px;" class="row-headers-background"><div class="row-header-wrapper" style="line-height: 59px">20</div></th><td class="s5" dir="ltr">Construye tu primer chatbot de WhatsApp</td><td class="s6 softmerge" dir="ltr"><div class="softmerge-inner" style="width:3120px;left:-3px">{<br>  &quot;meta&quot;: {<br>    &quot;instanceId&quot;: &quot;408f9fb9940c3cb18ffdef0e0150fe342d6e655c3a9fac21f0f644e8bedabcd9&quot;<br>  },<br>  &quot;nodes&quot;: [<br>    {<br>      &quot;id&quot;: &quot;77ee6494-4898-47dc-81d9-35daf6f0beea&quot;,<br>      &quot;name&quot;: &quot;WhatsApp Trigger&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.whatsAppTrigger&quot;,<br>      &quot;position&quot;: [<br>        1360,<br>        -280<br>      ],<br>      &quot;webhookId&quot;: &quot;aaa71f03-f7af-4d18-8d9a-0afb86f1b554&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;updates&quot;: [<br>          &quot;messages&quot;<br>        ]<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;whatsAppTriggerApi&quot;: {<br>          &quot;id&quot;: &quot;H3uYNtpeczKMqtYm&quot;,<br>          &quot;name&quot;: &quot;WhatsApp OAuth account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;57210e27-1f89-465a-98cc-43f890a4bf58&quot;,<br>      &quot;name&quot;: &quot;OpenAI Chat Model&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.lmChatOpenAi&quot;,<br>      &quot;position&quot;: [<br>        1960,<br>        -200<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;model&quot;: &quot;gpt-4o-2024-08-06&quot;,<br>        &quot;options&quot;: {}<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;openAiApi&quot;: {<br>          &quot;id&quot;: &quot;8gccIjcuf3gvaoEr&quot;,<br>          &quot;name&quot;: &quot;OpenAi account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;e1053235-0ade-4e36-9ad2-8b29c78fced8&quot;,<br>      &quot;name&quot;: &quot;Window Buffer Memory&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.memoryBufferWindow&quot;,<br>      &quot;position&quot;: [<br>        2080,<br>        -200<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;sessionKey&quot;: &quot;=whatsapp-75-{{ $json.messages[0].from }}&quot;,<br>        &quot;sessionIdType&quot;: &quot;customKey&quot;<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;69f1b78b-7c93-4713-863a-27e04809996f&quot;,<br>      &quot;name&quot;: &quot;Vector Store Tool&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.toolVectorStore&quot;,<br>      &quot;position&quot;: [<br>        2200,<br>        -200<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;name&quot;: &quot;query_product_brochure&quot;,<br>        &quot;description&quot;: &quot;Call this tool to query the product brochure. Valid for the year 2024.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;170e8f7d-7e14-48dd-9f80-5352cc411fc1&quot;,<br>      &quot;name&quot;: &quot;Embeddings OpenAI&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.embeddingsOpenAi&quot;,<br>      &quot;position&quot;: [<br>        2200,<br>        80<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;model&quot;: &quot;text-embedding-3-small&quot;,<br>        &quot;options&quot;: {}<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;openAiApi&quot;: {<br>          &quot;id&quot;: &quot;8gccIjcuf3gvaoEr&quot;,<br>          &quot;name&quot;: &quot;OpenAi account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;ee78320b-d407-49e8-b4b8-417582a44709&quot;,<br>      &quot;name&quot;: &quot;OpenAI Chat Model1&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.lmChatOpenAi&quot;,<br>      &quot;position&quot;: [<br>        2440,<br>        -60<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;model&quot;: &quot;gpt-4o-2024-08-06&quot;,<br>        &quot;options&quot;: {}<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;openAiApi&quot;: {<br>          &quot;id&quot;: &quot;8gccIjcuf3gvaoEr&quot;,<br>          &quot;name&quot;: &quot;OpenAi account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;9dd89378-5acf-4ca6-8d84-e6e64254ed02&quot;,<br>      &quot;name&quot;: &quot;When clicking ‚ÄòTest workflow‚Äô&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.manualTrigger&quot;,<br>      &quot;position&quot;: [<br>        0,<br>        -240<br>      ],<br>      &quot;parameters&quot;: {},<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;e68fc137-1bcb-43f0-b597-3ae07f380c15&quot;,<br>      &quot;name&quot;: &quot;Embeddings OpenAI1&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.embeddingsOpenAi&quot;,<br>      &quot;position&quot;: [<br>        760,<br>        -20<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;model&quot;: &quot;text-embedding-3-small&quot;,<br>        &quot;options&quot;: {}<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;openAiApi&quot;: {<br>          &quot;id&quot;: &quot;8gccIjcuf3gvaoEr&quot;,<br>          &quot;name&quot;: &quot;OpenAi account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;2d31e92b-18d4-4f6b-8cdb-bed0056d50d7&quot;,<br>      &quot;name&quot;: &quot;Default Data Loader&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.documentDefaultDataLoader&quot;,<br>      &quot;position&quot;: [<br>        900,<br>        -20<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;jsonData&quot;: &quot;={{ $(&#39;Extract from File&#39;).item.json.text }}&quot;,<br>        &quot;jsonMode&quot;: &quot;expressionData&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;ca0c015e-fba2-4dca-b0fe-bac66681725a&quot;,<br>      &quot;name&quot;: &quot;Recursive Character Text Splitter&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter&quot;,<br>      &quot;position&quot;: [<br>        900,<br>        100<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;chunkSize&quot;: 2000,<br>        &quot;chunkOverlap&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;63abb6b2-b955-4e65-9c63-3211dca65613&quot;,<br>      &quot;name&quot;: &quot;Extract from File&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.extractFromFile&quot;,<br>      &quot;position&quot;: [<br>        360,<br>        -240<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;operation&quot;: &quot;pdf&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;be2add9c-3670-4196-8c38-82742bf4f283&quot;,<br>      &quot;name&quot;: &quot;get Product Brochure&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.httpRequest&quot;,<br>      &quot;position&quot;: [<br>        180,<br>        -240<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;url&quot;: &quot;https://usa.yamaha.com/files/download/brochure/1/1474881/Yamaha-Powered-Loudspeakers-brochure-2024-en-web.pdf&quot;,<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 4.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;1ae5a311-36d7-4454-ab14-6788d1331780&quot;,<br>      &quot;name&quot;: &quot;Reply To User&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.whatsApp&quot;,<br>      &quot;position&quot;: [<br>        2820,<br>        -280<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;textBody&quot;: &quot;={{ $json.output }}&quot;,<br>        &quot;operation&quot;: &quot;send&quot;,<br>        &quot;phoneNumberId&quot;: &quot;477115632141067&quot;,<br>        &quot;requestOptions&quot;: {},<br>        &quot;additionalFields&quot;: {<br>          &quot;previewUrl&quot;: false<br>        },<br>        &quot;recipientPhoneNumber&quot;: &quot;={{ $(&#39;WhatsApp Trigger&#39;).item.json.messages[0].from }}&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;whatsAppApi&quot;: {<br>          &quot;id&quot;: &quot;9SFJPeqrpChOkAmw&quot;,<br>          &quot;name&quot;: &quot;WhatsApp account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;b6efba81-18b0-4378-bb91-51f39ca57f3e&quot;,<br>      &quot;name&quot;: &quot;Reply To User1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.whatsApp&quot;,<br>      &quot;position&quot;: [<br>        1760,<br>        80<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;textBody&quot;: &quot;=I&#39;m unable to process non-text messages. Please send only text messages. Thanks!&quot;,<br>        &quot;operation&quot;: &quot;send&quot;,<br>        &quot;phoneNumberId&quot;: &quot;477115632141067&quot;,<br>        &quot;requestOptions&quot;: {},<br>        &quot;additionalFields&quot;: {<br>          &quot;previewUrl&quot;: false<br>        },<br>        &quot;recipientPhoneNumber&quot;: &quot;={{ $(&#39;WhatsApp Trigger&#39;).item.json.messages[0].from }}&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;whatsAppApi&quot;: {<br>          &quot;id&quot;: &quot;9SFJPeqrpChOkAmw&quot;,<br>          &quot;name&quot;: &quot;WhatsApp account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;52decd86-ac6c-4d91-a938-86f93ec5f822&quot;,<br>      &quot;name&quot;: &quot;Product Catalogue&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.vectorStoreInMemory&quot;,<br>      &quot;position&quot;: [<br>        2200,<br>        -60<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;memoryKey&quot;: &quot;whatsapp-75&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;6dd5a652-2464-4ab8-8e5f-568529299523&quot;,<br>      &quot;name&quot;: &quot;Sticky Note&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -88.75,<br>        -473.4375<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 640.4375,<br>        &quot;height&quot;: 434.6875,<br>        &quot;content&quot;: &quot;## 1. Download Product Brochure PDF\n[Read more about the HTTP Request Tool](https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.httprequest)\n\nImport your marketing PDF document to build your vector store. This will be used as the knowledgebase by the Sales AI Agent.\n\nFor this demonstration, we&#39;ll use the HTTP request node to import the YAMAHA POWERED LOUDSPEAKERS 2024 brochure ([Source](https://usa.yamaha.com/files/download/brochure/1/1474881/Yamaha-Powered-Loudspeakers-brochure-2024-en-web.pdf)) and an Extract from File node to extract the text contents. &quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;116663bc-d8d6-41a5-93dc-b219adbb2235&quot;,<br>      &quot;name&quot;: &quot;Sticky Note1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        580,<br>        -476<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 614.6875,<br>        &quot;height&quot;: 731.1875,<br>        &quot;content&quot;: &quot;## 2. Create Product Brochure Vector Store\n[Read more about the In-Memory Vector Store](https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.vectorstoreinmemory/)\n\nVector stores are powerful databases which serve the purpose of matching a user&#39;s questions to relevant parts of a document. By creating a vector store of our product catalog, we&#39;ll allow users to query using natural language.\n\nTo keep things simple, we&#39;ll use the **In-memory Vector Store** which comes built-in to n8n and doesn&#39;t require a separate service. For production deployments, I&#39;d recommend replacing the in-memory vector store with either [Qdrant](https://qdrant.tech) or [Pinecone](https://pinecone.io).&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;86bd5334-d735-4650-aeff-06230119d705&quot;,<br>      &quot;name&quot;: &quot;Create Product Catalogue&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.vectorStoreInMemory&quot;,<br>      &quot;position&quot;: [<br>        760,<br>        -200<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;mode&quot;: &quot;insert&quot;,<br>        &quot;memoryKey&quot;: &quot;whatsapp-75&quot;,<br>        &quot;clearStore&quot;: true<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;b8078b0d-cbd7-423f-bb30-13902988be38&quot;,<br>      &quot;name&quot;: &quot;Sticky Note2&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1254,<br>        -552<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 546.6875,<br>        &quot;height&quot;: 484.1875,<br>        &quot;content&quot;: &quot;## 3. Use the WhatsApp Trigger\n[Learn more about the WhatsApp Trigger](https://docs.n8n.io/integrations/builtin/trigger-nodes/n8n-nodes-base.whatsapptrigger/)\n\nThe WhatsApp Trigger allows you to receive incoming WhatsApp messages from customers. It requires a bit of setup so remember to follow the documentation carefully! Once ready however, it&#39;s quite easy to build powerful workflows which are easily accessible to users.\n\nNote that WhatsApp can send many message types such as audio and video so in this demonstration, we&#39;ll filter them out and just accept the text messages.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;5bf7ed07-282b-4198-aa90-3e5ae5180404&quot;,<br>      &quot;name&quot;: &quot;Sticky Note3&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1640,<br>        280<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 338,<br>        &quot;height&quot;: 92,<br>        &quot;content&quot;: &quot;### Want to handle all message types?\nCheck out my other WhatsApp template in my creator page! https://n8n.io/creators/jimleuk/&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;a3661b59-25d2-446e-8462-32b4d692b69d&quot;,<br>      &quot;name&quot;: &quot;Sticky Note4&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1640,<br>        -40<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 337.6875,<br>        &quot;height&quot;: 311.1875,<br>        &quot;content&quot;: &quot;### 3a. Handle Unsupported Message Types\nFor non-text messages, we&#39;ll just reply with a simple message to inform the sender.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;ea3c9ee1-505a-40e7-82fe-9169bdbb80af&quot;,<br>      &quot;name&quot;: &quot;Sticky Note5&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1840,<br>        -682.5<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 746.6875,<br>        &quot;height&quot;: 929.1875,<br>        &quot;content&quot;: &quot;## 4. Sales AI Agent Responds To Customers\n[Learn more about using AI Agents](https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.agent/)\n\nn8n&#39;s AI agents are powerful nodes which make it incredibly easy to use state-of-the-art AI in your workflows. Not only do they have the ability to remember conversations per individual customer but also tap into resources such as our product catalogue vector store to pull factual information and data for every question.\n\nIn this demonstration, we use an AI agent which is directed to help the user navigate the product brochure. A Chat memory subnode is attached to identify and keep track of the customer session. A Vector store tool is added to allow the Agent to tap into the product catalogue knowledgebase we built earlier.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;5c72df8d-bca1-4634-b1ed-61ffec8bd103&quot;,<br>      &quot;name&quot;: &quot;Sticky Note6&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        2620,<br>        -560<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 495.4375,<br>        &quot;height&quot;: 484.1875,<br>        &quot;content&quot;: &quot;## 5. Repond to WhatsApp User\n[Learn more about the WhatsApp Node](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.whatsapp/)\n\nThe WhatsApp node is the go-to if you want to interact with WhatsApp users. With this node, you can send text, images, audio and video messages as well as use your WhatsApp message templates.\n\nHere, we&#39;ll keep it simple by replying with a text message which is the output of the AI agent.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;48ec809f-ca0e-4052-b403-9ad7077b3fff&quot;,<br>      &quot;name&quot;: &quot;Sticky Note7&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -520,<br>        -620<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 401.25,<br>        &quot;height&quot;: 582.6283033962263,<br>        &quot;content&quot;: &quot;## Try It Out!\n\n### This n8n template builds a simple WhatsApp chabot acting as a Sales Agent. The Agent is backed by a product catalog vector store to better answer user&#39;s questions.\n\n* This template is in 2 parts: creating the product catalog vector store and building the WhatsApp AI chatbot.\n* A product brochure is imported via HTTP request node and its text contents extracted.\n* The text contents are then uploaded to the in-memory vector store to build a knowledgebase for the chatbot.\n* A WhatsApp trigger is used to capture messages from customers where non-text messages are filtered out.\n* The customer&#39;s message is sent to the AI Agent which queries the product catalogue using the vector store tool.\n* The Agent&#39;s response is sent back to the user via the WhatsApp node.\n\n### Need Help?\nJoin the [Discord](https://discord.com/invite/XPKeKXeB7d) or ask in the [Forum](https://community.n8n.io/)!&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;87cf9b41-66de-49a7-aeb0-c8809191b5a0&quot;,<br>      &quot;name&quot;: &quot;Handle Message Types&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.switch&quot;,<br>      &quot;position&quot;: [<br>        1560,<br>        -280<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;rules&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;outputKey&quot;: &quot;Supported&quot;,<br>              &quot;conditions&quot;: {<br>                &quot;options&quot;: {<br>                  &quot;version&quot;: 2,<br>                  &quot;leftValue&quot;: &quot;&quot;,<br>                  &quot;caseSensitive&quot;: true,<br>                  &quot;typeValidation&quot;: &quot;strict&quot;<br>                },<br>                &quot;combinator&quot;: &quot;and&quot;,<br>                &quot;conditions&quot;: [<br>                  {<br>                    &quot;operator&quot;: {<br>                      &quot;type&quot;: &quot;string&quot;,<br>                      &quot;operation&quot;: &quot;equals&quot;<br>                    },<br>                    &quot;leftValue&quot;: &quot;={{ $json.messages[0].type }}&quot;,<br>                    &quot;rightValue&quot;: &quot;text&quot;<br>                  }<br>                ]<br>              },<br>              &quot;renameOutput&quot;: true<br>            },<br>            {<br>              &quot;outputKey&quot;: &quot;Not Supported&quot;,<br>              &quot;conditions&quot;: {<br>                &quot;options&quot;: {<br>                  &quot;version&quot;: 2,<br>                  &quot;leftValue&quot;: &quot;&quot;,<br>                  &quot;caseSensitive&quot;: true,<br>                  &quot;typeValidation&quot;: &quot;strict&quot;<br>                },<br>                &quot;combinator&quot;: &quot;and&quot;,<br>                &quot;conditions&quot;: [<br>                  {<br>                    &quot;id&quot;: &quot;89971d8c-a386-4e77-8f6c-f491a8e84cb6&quot;,<br>                    &quot;operator&quot;: {<br>                      &quot;type&quot;: &quot;string&quot;,<br>                      &quot;operation&quot;: &quot;notEquals&quot;<br>                    },<br>                    &quot;leftValue&quot;: &quot;={{ $json.messages[0].type }}&quot;,<br>                    &quot;rightValue&quot;: &quot;text&quot;<br>                  }<br>                ]<br>              },<br>              &quot;renameOutput&quot;: true<br>            }<br>          ]<br>        },<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 3.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;e52f0a50-0c34-4c4a-b493-4c42ba112277&quot;,<br>      &quot;name&quot;: &quot;Sticky Note8&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -80,<br>        -20<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 5,<br>        &quot;width&quot;: 345.10906976744184,<br>        &quot;height&quot;: 114.53583720930231,<br>        &quot;content&quot;: &quot;### You only have to run this part once!\nRun this step to populate our product catalogue vector. Run again if you want to update the vector store with a new version.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;c1a7d6d1-191e-4343-af9f-f2c9eb4ecf49&quot;,<br>      &quot;name&quot;: &quot;Sticky Note9&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1260,<br>        -40<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 5,<br>        &quot;width&quot;: 364.6293255813954,<br>        &quot;height&quot;: 107.02804651162779,<br>        &quot;content&quot;: &quot;### Activate your workflow to use!\nTo start using the WhatsApp chatbot, you&#39;ll need to activate the workflow. If you are self-hosting ensure WhatsApp is able to connect to your server.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;a36524d0-22a6-48cc-93fe-b4571cec428a&quot;,<br>      &quot;name&quot;: &quot;AI Sales Agent&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.agent&quot;,<br>      &quot;position&quot;: [<br>        1960,<br>        -400<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;text&quot;: &quot;={{ $json.messages[0].text.body }}&quot;,<br>        &quot;options&quot;: {<br>          &quot;systemMessage&quot;: &quot;You are an assistant working for a company who sells Yamaha Powered Loudspeakers and helping the user navigate the product catalog for the year 2024. Your goal is not to facilitate a sale but if the user enquires, direct them to the appropriate website, url or contact information.\n\nDo your best to answer any questions factually. If you don&#39;t know the answer or unable to obtain the information from the datastore, then tell the user so.&quot;<br>        },<br>        &quot;promptType&quot;: &quot;define&quot;<br>      },<br>      &quot;typeVersion&quot;: 1.6<br>    }<br>  ],<br>  &quot;pinData&quot;: {},<br>  &quot;connections&quot;: {<br>    &quot;AI Sales Agent&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Reply To User&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;WhatsApp Trigger&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Handle Message Types&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Embeddings OpenAI&quot;: {<br>      &quot;ai_embedding&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Product Catalogue&quot;,<br>            &quot;type&quot;: &quot;ai_embedding&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Extract from File&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Create Product Catalogue&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;OpenAI Chat Model&quot;: {<br>      &quot;ai_languageModel&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Sales Agent&quot;,<br>            &quot;type&quot;: &quot;ai_languageModel&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Product Catalogue&quot;: {<br>      &quot;ai_vectorStore&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Vector Store Tool&quot;,<br>            &quot;type&quot;: &quot;ai_vectorStore&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Vector Store Tool&quot;: {<br>      &quot;ai_tool&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Sales Agent&quot;,<br>            &quot;type&quot;: &quot;ai_tool&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Embeddings OpenAI1&quot;: {<br>      &quot;ai_embedding&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Create Product Catalogue&quot;,<br>            &quot;type&quot;: &quot;ai_embedding&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;OpenAI Chat Model1&quot;: {<br>      &quot;ai_languageModel&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Vector Store Tool&quot;,<br>            &quot;type&quot;: &quot;ai_languageModel&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Default Data Loader&quot;: {<br>      &quot;ai_document&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Create Product Catalogue&quot;,<br>            &quot;type&quot;: &quot;ai_document&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Handle Message Types&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Sales Agent&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;Reply To User1&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Window Buffer Memory&quot;: {<br>      &quot;ai_memory&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Sales Agent&quot;,<br>            &quot;type&quot;: &quot;ai_memory&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;get Product Brochure&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Extract from File&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Recursive Character Text Splitter&quot;: {<br>      &quot;ai_textSplitter&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Default Data Loader&quot;,<br>            &quot;type&quot;: &quot;ai_textSplitter&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;When clicking ‚ÄòTest workflow‚Äô&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;get Product Brochure&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    }<br>  }<br>}</div></td></tr><tr style="height: 59px"><th id="0R20" style="height: 59px;" class="row-headers-background"><div class="row-header-wrapper" style="line-height: 59px">21</div></th><td class="s9" dir="ltr">Chat con agente de IA</td><td class="s10" dir="ltr">{<br>  &quot;meta&quot;: {<br>    &quot;instanceId&quot;: &quot;408f9fb9940c3cb18ffdef0e0150fe342d6e655c3a9fac21f0f644e8bedabcd9&quot;,<br>    &quot;templateCredsSetupCompleted&quot;: true<br>  },<br>  &quot;nodes&quot;: [<br>    {<br>      &quot;id&quot;: &quot;ef4c6982-f746-4d48-944b-449f8bdbb69f&quot;,<br>      &quot;name&quot;: &quot;When chat message received&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.chatTrigger&quot;,<br>      &quot;position&quot;: [<br>        -180,<br>        -380<br>      ],<br>      &quot;webhookId&quot;: &quot;53c136fe-3e77-4709-a143-fe82746dd8b6&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;e6183978-5077-4252-9718-6b36b6a7cd74&quot;,<br>      &quot;name&quot;: &quot;Simple Memory&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.memoryBufferWindow&quot;,<br>      &quot;position&quot;: [<br>        160,<br>        -160<br>      ],<br>      &quot;parameters&quot;: {},<br>      &quot;typeVersion&quot;: 1.3<br>    },<br>    {<br>      &quot;id&quot;: &quot;1719e956-f9c8-48f5-9744-ee62345a9f7d&quot;,<br>      &quot;name&quot;: &quot;OpenAI Chat Model&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.lmChatOpenAi&quot;,<br>      &quot;position&quot;: [<br>        20,<br>        -160<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;model&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;gpt-4o-mini&quot;<br>        },<br>        &quot;options&quot;: {}<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;openAiApi&quot;: {<br>          &quot;id&quot;: &quot;8gccIjcuf3gvaoEr&quot;,<br>          &quot;name&quot;: &quot;OpenAi account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;f0815af7-da61-4863-9cfa-b35be836b59c&quot;,<br>      &quot;name&quot;: &quot;SerpAPI&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.toolSerpApi&quot;,<br>      &quot;position&quot;: [<br>        300,<br>        -160<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {}<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;serpApi&quot;: {<br>          &quot;id&quot;: &quot;aJCKjxx6U3K7ydDe&quot;,<br>          &quot;name&quot;: &quot;SerpAPI account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;2d3b4012-bd5f-46d5-be6d-af1ede6c155b&quot;,<br>      &quot;name&quot;: &quot;AI Agent&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.agent&quot;,<br>      &quot;position&quot;: [<br>        60,<br>        -380<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 1.8<br>    }<br>  ],<br>  &quot;pinData&quot;: {},<br>  &quot;connections&quot;: {<br>    &quot;SerpAPI&quot;: {<br>      &quot;ai_tool&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Agent&quot;,<br>            &quot;type&quot;: &quot;ai_tool&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Simple Memory&quot;: {<br>      &quot;ai_memory&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Agent&quot;,<br>            &quot;type&quot;: &quot;ai_memory&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;OpenAI Chat Model&quot;: {<br>      &quot;ai_languageModel&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Agent&quot;,<br>            &quot;type&quot;: &quot;ai_languageModel&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;When chat message received&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Agent&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    }<br>  }<br>}</td></tr><tr style="height: 59px"><th id="0R21" style="height: 59px;" class="row-headers-background"><div class="row-header-wrapper" style="line-height: 59px">22</div></th><td class="s5" dir="ltr">Genera facturas en PDF con la API de CustomJS</td><td class="s6 softmerge" dir="ltr"><div class="softmerge-inner" style="width:13326px;left:-3px">{<br>  &quot;meta&quot;: {<br>    &quot;instanceId&quot;: &quot;fcf18fc485cc336a31bc65574fd28e124660f468281b7aad773616b17903afe6&quot;,<br>    &quot;templateCredsSetupCompleted&quot;: true<br>  },<br>  &quot;nodes&quot;: [<br>    {<br>      &quot;id&quot;: &quot;de602925-4d9d-4045-9d9d-ed37dfb65490&quot;,<br>      &quot;name&quot;: &quot;HTML to PDF&quot;,<br>      &quot;type&quot;: &quot;@custom-js/n8n-nodes-pdf-toolkit.html2Pdf&quot;,<br>      &quot;position&quot;: [<br>        460,<br>        -20<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;htmlInput&quot;: &quot;=&lt;!DOCTYPE html&gt;\n&lt;html lang=\&quot;en\&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=\&quot;UTF-8\&quot;&gt;\n    &lt;meta name=\&quot;viewport\&quot; content=\&quot;width=device-width, initial-scale=1.0\&quot;&gt;\n    &lt;title&gt;Invoice&lt;/title&gt;\n    &lt;style&gt;\n        /* Global Reset */\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n\n        /* Body and Container */\n        body {\n            font-family: &#39;Roboto&#39;, sans-serif;\n            background: #f4f7fc;\n            display: flex;\n            justify-content: center;\n            padding: 30px;\n        }\n\n        .invoice-wrapper {\n            width: 100%;\n            max-width: 900px;\n            background: linear-gradient(145deg, #ffffff, #e6f7ff);\n            border-radius: 10px;\n            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);\n            padding: 40px;\n            margin-top: 50px;\n        }\n\n        /* Header */\n        .header {\n            background: linear-gradient(145deg, #3f51b5, #2196f3);\n            text-align: center;\n            color: #fff;\n            padding: 30px;\n            border-radius: 8px;\n        }\n\n        .header h1 {\n            font-size: 40px;\n            margin-bottom: 10px;\n        }\n\n        .header p {\n            font-size: 18px;\n            font-weight: 400;\n        }\n\n        /* Invoice Details Section */\n        .invoice-details {\n            display: flex;\n            justify-content: space-between;\n            margin-top: 30px;\n            border-top: 2px solid #eee;\n            padding-top: 30px;\n        }\n\n        .invoice-details div {\n            width: 48%;\n        }\n\n        .invoice-details h3 {\n            color: #3f51b5;\n            font-size: 20px;\n            margin-bottom: 15px;\n        }\n\n        .invoice-details p {\n            font-size: 15px;\n            color: #555;\n            line-height: 1.6;\n        }\n\n        /* Table Styling */\n        .table {\n            width: 100%;\n            border-collapse: collapse;\n            margin-top: 30px;\n        }\n\n        .table th,\n        .table td {\n            padding: 16px;\n            text-align: left;\n            font-size: 15px;\n            color: #555;\n        }\n\n        .table th {\n            background-color: #f1f5fc;\n            color: #3f51b5;\n            font-weight: 500;\n        }\n\n        .table td {\n            background-color: #fff;\n            border-bottom: 1px solid #e6e9f1;\n        }\n\n        .table tr:last-child td {\n            border-bottom: none;\n        }\n\n        .table .total {\n            font-weight: 600;\n            font-size: 18px;\n            color: #333;\n            background-color: #f1f5fc;\n        }\n\n        .table .total td {\n            text-align: right;\n        }\n\n        .table tr:nth-child(even) {\n            background-color: #f9f9f9;\n        }\n\n        /* Footer */\n        .footer {\n            text-align: center;\n            margin-top: 30px;\n            font-size: 15px;\n            color: #777;\n        }\n\n        .footer a {\n            color: #2196f3;\n            text-decoration: none;\n            font-weight: 500;\n        }\n\n        .footer a:hover {\n            text-decoration: underline;\n        }\n\n        /* Button */\n        .btn {\n            display: inline-block;\n            background-color: #2196f3;\n            color: white !important;\n            font-size: 16px;\n            font-weight: 600;\n            padding: 12px 25px;\n            margin-top: 25px;\n            text-decoration: none;\n            border-radius: 5px;\n            transition: background-color 0.3s ease;\n            box-shadow: 0 6px 15px rgba(33, 150, 243, 0.2);\n        }\n\n        .btn:hover {\n            background-color: #1976d2;\n        }\n\n        .btn:active {\n            background-color: #1565c0;\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;div class=\&quot;invoice-wrapper\&quot;&gt;\n    &lt;div class=\&quot;header\&quot;&gt;\n        &lt;h1&gt;Invoice&lt;/h1&gt;\n        &lt;p&gt;Invoice #{{ $(&#39;Set data&#39;).item.json[&#39;Invoice No&#39;] }}&lt;/p&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\&quot;invoice-details\&quot;&gt;\n        &lt;div&gt;\n            &lt;h3&gt;Billed To:&lt;/h3&gt;\n            {{ $json.bill_to }}\n        &lt;/div&gt;\n        &lt;div&gt;\n            &lt;h3&gt;From:&lt;/h3&gt;\n            {{ $json.from }}\n            &lt;p&gt;Email: {{ $(&#39;Set data&#39;).item.json.Email }}&lt;/p&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;table class=\&quot;table\&quot;&gt;\n        &lt;thead&gt;\n            &lt;tr&gt;\n                &lt;th&gt;Description&lt;/th&gt;\n                &lt;th&gt;Unit Price&lt;/th&gt;\n                &lt;th&gt;Quantity&lt;/th&gt;\n                &lt;th&gt;Total&lt;/th&gt;\n            &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n            {{ $json.details }}\n            &lt;tr class=\&quot;total\&quot;&gt;\n                &lt;td colspan=\&quot;3\&quot;&gt;Total Amount&lt;/td&gt;\n                &lt;td&gt;${{ $json.total }}&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/tbody&gt;\n    &lt;/table&gt;\n\n    &lt;div class=\&quot;footer\&quot;&gt;\n        &lt;p&gt;Thank you for doing business with us!&lt;/p&gt;\n        &lt;p&gt;If you have any questions regarding this invoice, please contact us at &lt;a href=\&quot;mailto:contact@abccorp.com\&quot;&gt;{{ $(&#39;Set data&#39;).item.json.Email }}&lt;/a&gt;.&lt;/p&gt;\n        &lt;a href=\&quot;mailto:{{ $(&#39;Set data&#39;).item.json.Email }}\&quot; class=\&quot;btn\&quot;&gt;Contact Us&lt;/a&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;customJsApi&quot;: {<br>          &quot;id&quot;: &quot;SZkqeEHVYyWhaGem&quot;,<br>          &quot;name&quot;: &quot;CustomJS account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;5a8efc8a-c60b-4616-a17a-6275cc326978&quot;,<br>      &quot;name&quot;: &quot;Preprocess&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.code&quot;,<br>      &quot;position&quot;: [<br>        240,<br>        -20<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;mode&quot;: &quot;runOnceForEachItem&quot;,<br>        &quot;jsCode&quot;: &quot;const input = $input.item.json\nconst bill_to = input[&#39;Bill To&#39;].split(&#39;\\n&#39;).map(item =&gt; &#39;&lt;p&gt;&#39; + item + &#39;&lt;/p&gt;&#39;)\nconst from = input[&#39;From&#39;].split(&#39;\\n&#39;).map(item =&gt; &#39;&lt;p&gt;&#39; + item + &#39;&lt;/p&gt;&#39;)\nconst details = input[&#39;Details&#39;].map(item =&gt; {\n  const price = item.price*item.qty\n  return `\n  &lt;tr&gt;\n    &lt;td&gt;${item.description}&lt;/td&gt;\n    &lt;td&gt;$${item.price}&lt;/td&gt;\n    &lt;td&gt;${item.qty}&lt;/td&gt;\n    &lt;td&gt;$${price}&lt;/td&gt;\n  &lt;/tr&gt;\n  `\n})\nconst total = input[&#39;Details&#39;].reduce((val, next) =&gt; {\n\treturn val+next.price*next.qty\n}, 0)\nreturn {\n  bill_to: bill_to.join(&#39;\\n&#39;),\n  from: from.join(&#39;\\n&#39;),\n  details: details.join(&#39;\\n&#39;),\n  total\n}&quot;<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;7da4fb46-1f74-44d8-8392-16fc90f23928&quot;,<br>      &quot;name&quot;: &quot;Set data&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        20,<br>        -20<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;5342001f-a513-46c3-b31f-4590e8514411&quot;,<br>              &quot;name&quot;: &quot;Invoice No&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;1&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;ec357d39-c697-4bb8-8d9d-1bc303352dd0&quot;,<br>              &quot;name&quot;: &quot;Bill To&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;John Doe\n1234 Elm St, Apt 567\nCity, Country, 12345&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;88d6b470-4075-43ec-a684-a4adfd889278&quot;,<br>              &quot;name&quot;: &quot;From&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;ABC Corporation\n789 Business Ave\nCity, Country, 67890&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;061a8020-644a-4cec-bade-3bcd7e15adee&quot;,<br>              &quot;name&quot;: &quot;Details&quot;,<br>              &quot;type&quot;: &quot;array&quot;,<br>              &quot;value&quot;: &quot;[     {         \&quot;description\&quot;: \&quot;Web Hosting\&quot;,         \&quot;price\&quot;: 150,         \&quot;qty\&quot;: 2     },     {         \&quot;description\&quot;: \&quot;Domain\&quot;,         \&quot;price\&quot;: 15,         \&quot;qty\&quot;: 5     } ]&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;1c2c6c4b-6aa5-4656-8cae-43ffac71d478&quot;,<br>              &quot;name&quot;: &quot;Email&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;support@mycompany.com&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;a6d39cc4-b9c2-4eed-b4a6-46d622a87c14&quot;,<br>      &quot;name&quot;: &quot;Webhook&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.webhook&quot;,<br>      &quot;position&quot;: [<br>        -200,<br>        -20<br>      ],<br>      &quot;webhookId&quot;: &quot;526fd864-6f85-4cde-97aa-39b61a3e5b83&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;path&quot;: &quot;526fd864-6f85-4cde-97aa-39b61a3e5b83&quot;,<br>        &quot;options&quot;: {},<br>        &quot;responseMode&quot;: &quot;responseNode&quot;<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;c7d1cc1d-88e3-463a-886f-182a2ba72b11&quot;,<br>      &quot;name&quot;: &quot;Respond to Webhook&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.respondToWebhook&quot;,<br>      &quot;position&quot;: [<br>        660,<br>        -20<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;respondWith&quot;: &quot;binary&quot;<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    }<br>  ],<br>  &quot;pinData&quot;: {},<br>  &quot;connections&quot;: {<br>    &quot;Webhook&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Set data&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Set data&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Preprocess&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Preprocess&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;HTML to PDF&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;HTML to PDF&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Respond to Webhook&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    }<br>  }<br>}</div></td></tr><tr style="height: 59px"><th id="0R22" style="height: 59px;" class="row-headers-background"><div class="row-header-wrapper" style="line-height: 59px">23</div></th><td class="s3" dir="ltr">Construye tu primer chatbot analista de datos con IA</td><td class="s4 softmerge" dir="ltr"><div class="softmerge-inner" style="width:6912px;left:-3px">{<br>  &quot;meta&quot;: {<br>    &quot;instanceId&quot;: &quot;d6b502dfa4d9dd072cdc5c2bb763558661053f651289291352a84403e01b3d1b&quot;,<br>    &quot;templateCredsSetupCompleted&quot;: true<br>  },<br>  &quot;nodes&quot;: [<br>    {<br>      &quot;id&quot;: &quot;0951fd33-1811-4a89-b84f-f46dc9e6fde1&quot;,<br>      &quot;name&quot;: &quot;When chat message received&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.chatTrigger&quot;,<br>      &quot;position&quot;: [<br>        20,<br>        -340<br>      ],<br>      &quot;webhookId&quot;: &quot;cdc03fce-33b6-4eed-86b5-f628994e5e31&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;699c2f89-5547-4d28-92a9-5e216aecb251&quot;,<br>      &quot;name&quot;: &quot;AI Agent&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.agent&quot;,<br>      &quot;position&quot;: [<br>        240,<br>        -340<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {<br>          &quot;maxIterations&quot;: 15,<br>          &quot;systemMessage&quot;: &quot;=You are a helpful assistant.\nCurrent timestamp is {{ $now }}&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.7<br>    },<br>    {<br>      &quot;id&quot;: &quot;640c29f7-b67e-49f6-a864-c9b396c446b7&quot;,<br>      &quot;name&quot;: &quot;OpenAI Chat Model&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.lmChatOpenAi&quot;,<br>      &quot;position&quot;: [<br>        160,<br>        -100<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;model&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;gpt-4o&quot;,<br>          &quot;cachedResultName&quot;: &quot;gpt-4o&quot;<br>        },<br>        &quot;options&quot;: {<br>          &quot;temperature&quot;: 0.2<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;openAiApi&quot;: {<br>          &quot;id&quot;: &quot;5LVOlVwHUgB8MAj2&quot;,<br>          &quot;name&quot;: &quot;OpenAI - n8n project&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;807630b4-c138-4b66-a438-fb70eab12a07&quot;,<br>      &quot;name&quot;: &quot;Calculator&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.toolCalculator&quot;,<br>      &quot;position&quot;: [<br>        840,<br>        60<br>      ],<br>      &quot;parameters&quot;: {},<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;132a97a3-239c-403f-843f-55b652e3efc5&quot;,<br>      &quot;name&quot;: &quot;Code&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.code&quot;,<br>      &quot;position&quot;: [<br>        840,<br>        640<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;jsCode&quot;: &quot;// Ensure there&#39;s at least one input item.\nif (!items || items.length === 0) {\n  throw new Error(\&quot;No input items found.\&quot;);\n}\n\n// Our input is expected to have a &#39;data&#39; property containing the JSONP string.\nconst input = items[0].json;\n\nif (!input.data) {\n  throw new Error(\&quot;Input JSON does not have a &#39;data&#39; property.\&quot;);\n}\n\nconst rawData = input.data;\n\n// Use a regex to extract the JSON content from the Google Visualization JSONP response.\nconst regex = /google\\.visualization\\.Query\\.setResponse\\((.*)\\);?$/s;\nconst match = rawData.match(regex);\n\nif (!match) {\n  throw new Error(\&quot;Input data does not match the expected Google Visualization JSONP format.\&quot;);\n}\n\nconst jsonString = match[1];\n\n// Parse the extracted JSON string.\nlet parsed;\ntry {\n  parsed = JSON.parse(jsonString);\n} catch (error) {\n  throw new Error(\&quot;Failed to parse JSON: \&quot; + error.message);\n}\n\n// Verify that the parsed JSON has the expected &#39;table&#39; structure with &#39;cols&#39; and &#39;rows&#39;.\nif (!parsed.table || !Array.isArray(parsed.table.cols) || !Array.isArray(parsed.table.rows)) {\n  throw new Error(\&quot;Parsed JSON does not have the expected &#39;table&#39; structure with &#39;cols&#39; and &#39;rows&#39;.\&quot;);\n}\n\nconst cols = parsed.table.cols;\nconst rows = parsed.table.rows;\n\n// Helper function to convert date string from \&quot;Date(YYYY,M,D)\&quot; to \&quot;YYYY-MM-DD\&quot;\nfunction formatDate(dateStr) {\n  const match = dateStr.match(/^Date\\((\\d+),(\\d+),(\\d+)\\)$/);\n  if (!match) return dateStr;\n  const year = parseInt(match[1], 10);\n  const month = parseInt(match[2], 10) + 1; // JavaScript months are 0-indexed\n  const day = parseInt(match[3], 10);\n  // Format with leading zeros\n  return `${year}-${String(month).padStart(2, &#39;0&#39;)}-${String(day).padStart(2, &#39;0&#39;)}`;\n}\n\n// Map each row into an object using the column labels as keys.\nconst newItems = rows.map(row =&gt; {\n  const obj = {};\n  cols.forEach((col, index) =&gt; {\n    let value = row.c &amp;&amp; row.c[index] ? row.c[index].v : null;\n    // If the column type is \&quot;date\&quot; and the value is a string that looks like \&quot;Date(YYYY,M,D)\&quot;\n    if (col.type === \&quot;date\&quot; &amp;&amp; typeof value === \&quot;string\&quot;) {\n      value = formatDate(value);\n    }\n    obj[col.label] = value;\n  });\n  return { json: obj };\n});\n\n// Return the new array of items.\nreturn newItems;\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;3dc1e670-bfb1-4b63-b9c8-85656134c843&quot;,<br>      &quot;name&quot;: &quot;When Executed by Another Workflow&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.executeWorkflowTrigger&quot;,<br>      &quot;position&quot;: [<br>        280,<br>        640<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;workflowInputs&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;name&quot;: &quot;start_date&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;end_date&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;status&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;52a26e43-12a5-4b4a-a224-d70cdabf6aaf&quot;,<br>      &quot;name&quot;: &quot;Records by date&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.toolWorkflow&quot;,<br>      &quot;position&quot;: [<br>        1020,<br>        -120<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;name&quot;: &quot;records_by_date_and_or_status&quot;,<br>        &quot;workflowId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;a2BIIjr2gLBay06M&quot;,<br>          &quot;cachedResultName&quot;: &quot;Template | Your first AI Data Analyst&quot;<br>        },<br>        &quot;description&quot;: &quot;Use this tool to get records filtered by date. You can also filter by status at the same time, if you want.&quot;,<br>        &quot;workflowInputs&quot;: {<br>          &quot;value&quot;: {<br>            &quot;status&quot;: &quot;={{ $fromAI(\&quot;status\&quot;, \&quot;Status of the transaction. Can be Completed, Refund or Error. Leave empty if you don&#39;t need this now.\&quot;, \&quot;string\&quot;) }}&quot;,<br>            &quot;end_date&quot;: &quot;={{ $fromAI(\&quot;end_date\&quot;, \&quot;End date in format YYYY-MM-DD\&quot;, \&quot;string\&quot;) }}&quot;,<br>            &quot;start_date&quot;: &quot;={{ $fromAI(\&quot;start_date\&quot;, \&quot;Start date in format YYYY-MM-DD\&quot;, \&quot;string\&quot;) }}&quot;<br>          },<br>          &quot;schema&quot;: [<br>            {<br>              &quot;id&quot;: &quot;start_date&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;start_date&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;end_date&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;end_date&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;status&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;removed&quot;: false,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;status&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            }<br>          ],<br>          &quot;mappingMode&quot;: &quot;defineBelow&quot;,<br>          &quot;matchingColumns&quot;: [],<br>          &quot;attemptToConvertTypes&quot;: false,<br>          &quot;convertFieldsToString&quot;: false<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;e1811519-8699-4243-8c64-0db1ab26004d&quot;,<br>      &quot;name&quot;: &quot;Aggregate&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.aggregate&quot;,<br>      &quot;position&quot;: [<br>        1280,<br>        640<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;aggregate&quot;: &quot;aggregateAllItemData&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;3b129abd-ac9a-460c-abb3-007e2c94e284&quot;,<br>      &quot;name&quot;: &quot;Sticky Note&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1220,<br>        400<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 220,<br>        &quot;height&quot;: 400,<br>        &quot;content&quot;: &quot;To send all the items back to the AI, we need to finish with everything aggregated into one single item.\n\nOtherwise it will respond with one item at a time, and the AI will only get the first item that arrives.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;645ac0f9-8022-4f2c-8c6c-5aadd6cf09cc&quot;,<br>      &quot;name&quot;: &quot;Sticky Note1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        460,<br>        400<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 300,<br>        &quot;height&quot;: 400,<br>        &quot;content&quot;: &quot;This node sends a custom HTTP Request to the Google Sheets API.\n\nFiltering by date range in the Google Sheets API is very complicated.\n\nThis node solves that problem.\n\nBut doing the same in a database is much simpler. A tool could do it without needing a sub-workflow.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;14221a72-914d-4c75-866a-d64ba7f8109f&quot;,<br>      &quot;name&quot;: &quot;Sticky Note2&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        780,<br>        400<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 220,<br>        &quot;height&quot;: 400,<br>        &quot;content&quot;: &quot;The output from this complex request is also messy.\n\nSo we use some code generated by ChatGPT to transform the data into JSON objects.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;f12668ea-b59d-4caf-a997-381f78b7cfe7&quot;,<br>      &quot;name&quot;: &quot;Google Sheets request&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.httpRequest&quot;,<br>      &quot;position&quot;: [<br>        560,<br>        640<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;url&quot;: &quot;https://docs.google.com/spreadsheets/d/18A4d7KYrk8-uEMbu7shoQe_UIzmbTLV1FMN43bjA7qc/gviz/tq&quot;,<br>        &quot;options&quot;: {},<br>        &quot;sendQuery&quot;: true,<br>        &quot;authentication&quot;: &quot;predefinedCredentialType&quot;,<br>        &quot;queryParameters&quot;: {<br>          &quot;parameters&quot;: [<br>            {<br>              &quot;name&quot;: &quot;sheet&quot;,<br>              &quot;value&quot;: &quot;Sheet1&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;tq&quot;,<br>              &quot;value&quot;: &quot;=SELECT * WHERE A &gt;= DATE \&quot;{{ $json.start_date }}\&quot; AND A &lt;= DATE \&quot;{{ $json.end_date }}\&quot;&quot;<br>            }<br>          ]<br>        },<br>        &quot;nodeCredentialType&quot;: &quot;googleSheetsOAuth2Api&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googleSheetsOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;YR4pbjuZM5Xs4CTD&quot;,<br>          &quot;name&quot;: &quot;Google Sheets&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 4.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;f59a2606-0981-43d1-9a07-b802891b9220&quot;,<br>      &quot;name&quot;: &quot;Get transactions by product name&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleSheetsTool&quot;,<br>      &quot;position&quot;: [<br>        1020,<br>        -320<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;filtersUI&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;lookupValue&quot;: &quot;={{ $fromAI(\&quot;product_name\&quot;, \&quot;The product name\&quot;, \&quot;string\&quot;) }}&quot;,<br>              &quot;lookupColumn&quot;: &quot;Product&quot;<br>            }<br>          ]<br>        },<br>        &quot;sheetName&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;gid=0&quot;,<br>          &quot;cachedResultUrl&quot;: &quot;https://docs.google.com/spreadsheets/d/18A4d7KYrk8-uEMbu7shoQe_UIzmbTLV1FMN43bjA7qc/edit#gid=0&quot;,<br>          &quot;cachedResultName&quot;: &quot;Sheet1&quot;<br>        },<br>        &quot;documentId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;url&quot;,<br>          &quot;value&quot;: &quot;https://docs.google.com/spreadsheets/d/18A4d7KYrk8-uEMbu7shoQe_UIzmbTLV1FMN43bjA7qc/edit?usp=sharing&quot;<br>        },<br>        &quot;descriptionType&quot;: &quot;manual&quot;,<br>        &quot;toolDescription&quot;: &quot;Find transactions by product.\nOur products are:\n- Widget A\n- Widget B\n- Widget C\n- Widget D&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googleSheetsOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;YR4pbjuZM5Xs4CTD&quot;,<br>          &quot;name&quot;: &quot;Google Sheets&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 4.5<br>    },<br>    {<br>      &quot;id&quot;: &quot;1ed7168c-1639-4b3b-a3b4-ed162bcef880&quot;,<br>      &quot;name&quot;: &quot;Get all transactions&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleSheetsTool&quot;,<br>      &quot;position&quot;: [<br>        840,<br>        -120<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;sheetName&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;gid=0&quot;,<br>          &quot;cachedResultUrl&quot;: &quot;https://docs.google.com/spreadsheets/d/18A4d7KYrk8-uEMbu7shoQe_UIzmbTLV1FMN43bjA7qc/edit#gid=0&quot;,<br>          &quot;cachedResultName&quot;: &quot;Sheet1&quot;<br>        },<br>        &quot;documentId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;url&quot;,<br>          &quot;value&quot;: &quot;https://docs.google.com/spreadsheets/d/18A4d7KYrk8-uEMbu7shoQe_UIzmbTLV1FMN43bjA7qc/edit?usp=sharing&quot;<br>        },<br>        &quot;descriptionType&quot;: &quot;manual&quot;,<br>        &quot;toolDescription&quot;: &quot;Only use this as last resort, because it will pull all data at once.&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googleSheetsOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;YR4pbjuZM5Xs4CTD&quot;,<br>          &quot;name&quot;: &quot;Google Sheets&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 4.5<br>    },<br>    {<br>      &quot;id&quot;: &quot;798453da-8a65-4d14-ae0a-778d64ab02ad&quot;,<br>      &quot;name&quot;: &quot;Sticky Note3&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -360,<br>        -340<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 4,<br>        &quot;width&quot;: 320,<br>        &quot;height&quot;: 340,<br>        &quot;content&quot;: &quot;## Some questions to try\nThere&#39;s a red button on this page that you can click to chat with the AI.\n\nTry asking it these questions:\n\n- How many refunds in January and what was the amount refunded?\n\n- How many successful sales did we have in January 2025 and what was the final income of those?\n\n- What is the most frequent reason for refunds?&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;b8336f1a-3855-4247-9589-2f9aa35d211f&quot;,<br>      &quot;name&quot;: &quot;Sticky Note4&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -780,<br>        -340<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 4,<br>        &quot;width&quot;: 400,<br>        &quot;content&quot;: &quot;## Copy this Sheets file to your Google Drive\nhttps://docs.google.com/spreadsheets/d/18A4d7KYrk8-uEMbu7shoQe_UIzmbTLV1FMN43bjA7qc/edit?gid=0#gid=0&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;99a55b39-965b-4454-b416-d3991f0bdfbc&quot;,<br>      &quot;name&quot;: &quot;Sticky Note5&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        940,<br>        60<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 200,<br>        &quot;height&quot;: 140,<br>        &quot;content&quot;: &quot;### üëà\nThe Calculator is a tool that allows an agent to run mathematical calculations.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;7ebebf56-e065-41c4-8270-f636785b0def&quot;,<br>      &quot;name&quot;: &quot;Sticky Note6&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -780,<br>        -160<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 4,<br>        &quot;width&quot;: 400,<br>        &quot;content&quot;: &quot;### How to connect to Google Sheets?\nTo connect your n8n to your Google Sheets you&#39;re gonna need Google OAuth credentials\n\nSee documentation **[here](https://docs.n8n.io/integrations/builtin/credentials/google/oauth-single-service/)**&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;b64df0dd-6425-4fc2-9f60-8c5a85412d61&quot;,<br>      &quot;name&quot;: &quot;Sticky Note7&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        120,<br>        20<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 170,<br>        &quot;height&quot;: 260,<br>        &quot;content&quot;: &quot;## üëÜ\nYou can use many models here, including the free Google Gemini options.\n\nMake sure to test it thoroughly. Some models are better for data analysis.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;23c7bb52-b189-45f1-949b-ea588f065583&quot;,<br>      &quot;name&quot;: &quot;Sticky Note8&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        340,<br>        20<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 150,<br>        &quot;height&quot;: 260,<br>        &quot;content&quot;: &quot;## üëÜ\nThis is a short term memory. It will remember the 5 previous interactions during the chat&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;6097e5a1-139b-4329-81ff-4fda16ea5221&quot;,<br>      &quot;name&quot;: &quot;Buffer Memory&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.memoryBufferWindow&quot;,<br>      &quot;position&quot;: [<br>        360,<br>        -100<br>      ],<br>      &quot;parameters&quot;: {},<br>      &quot;typeVersion&quot;: 1.3<br>    },<br>    {<br>      &quot;id&quot;: &quot;6de4a7f2-5c58-4401-bd7c-19c5a73ba775&quot;,<br>      &quot;name&quot;: &quot;Sticky Note9&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1160,<br>        -320<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 340,<br>        &quot;height&quot;: 180,<br>        &quot;content&quot;: &quot;The **AI Tools Agent** has access to all the tools at the same time. It uses the name and description to decide when to use each tool.\n\nNotice I&#39;m using `$fromAI` function in all of them.\n\nSee documentations **[here](https://docs.n8n.io/advanced-ai/examples/using-the-fromai-function/)**&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;1a983b82-d65b-4a93-b7c8-97954afd7f02&quot;,<br>      &quot;name&quot;: &quot;Sticky Note10&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -780,<br>        20<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 5,<br>        &quot;width&quot;: 740,<br>        &quot;height&quot;: 100,<br>        &quot;content&quot;: &quot;## Want more templates like this?\n### üëâ **[Check out all my templates](https://n8n.io/creators/solomon/)**&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;a308d895-bc18-4b2c-9567-78f6c29f79e8&quot;,<br>      &quot;name&quot;: &quot;Sticky Note11&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1160,<br>        -120<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 340,<br>        &quot;height&quot;: 320,<br>        &quot;content&quot;: &quot;## üëà This is a special tool\nIt is used to call another workflow.\nThis concept is called sub-workflow.\n\nSee documentation [here](https://docs.n8n.io/flow-logic/subworkflows/).\n\nInstead of running a completely separate workflow, we are calling the one below.\n\nIt&#39;s contained in the same workflow, but we are using the trigger to define it will run only when called by this tool.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;0a6d94bc-21e1-4949-b7f4-c93abbecf08c&quot;,<br>      &quot;name&quot;: &quot;Sticky Note12&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        120,<br>        340<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 1380,<br>        &quot;height&quot;: 520,<br>        &quot;content&quot;: &quot;# Sub-workflow\nThe AI can call this sub-workflow anytime,\nby using the **Records by date** tool.\n\nThe sub-workflow automatically return\n the result of the last executed node to the AI.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;3e424615-6e49-4bd3-b066-005b9f0f773e&quot;,<br>      &quot;name&quot;: &quot;Filter by status&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.filter&quot;,<br>      &quot;position&quot;: [<br>        1060,<br>        640<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;conditions&quot;: {<br>          &quot;options&quot;: {<br>            &quot;version&quot;: 2,<br>            &quot;leftValue&quot;: &quot;&quot;,<br>            &quot;caseSensitive&quot;: true,<br>            &quot;typeValidation&quot;: &quot;strict&quot;<br>          },<br>          &quot;combinator&quot;: &quot;and&quot;,<br>          &quot;conditions&quot;: [<br>            {<br>              &quot;id&quot;: &quot;e50da873-bbbd-41d3-a418-83193907977c&quot;,<br>              &quot;operator&quot;: {<br>                &quot;type&quot;: &quot;string&quot;,<br>                &quot;operation&quot;: &quot;contains&quot;<br>              },<br>              &quot;leftValue&quot;: &quot;={{ $json.Status }}&quot;,<br>              &quot;rightValue&quot;: &quot;={{ $(&#39;When Executed by Another Workflow&#39;).item.json.status }}&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;0ad0102c-adb9-4ec9-bdf3-b1ce425b88ba&quot;,<br>      &quot;name&quot;: &quot;Get transactions by status&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleSheetsTool&quot;,<br>      &quot;position&quot;: [<br>        840,<br>        -320<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;filtersUI&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;lookupValue&quot;: &quot;={{ $fromAI(\&quot;transaction_status\&quot;, \&quot;Transaction status can be Refund, Completed or Error\&quot;, \&quot;string\&quot;) }}&quot;,<br>              &quot;lookupColumn&quot;: &quot;Status&quot;<br>            }<br>          ]<br>        },<br>        &quot;sheetName&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;gid=0&quot;,<br>          &quot;cachedResultUrl&quot;: &quot;https://docs.google.com/spreadsheets/d/18A4d7KYrk8-uEMbu7shoQe_UIzmbTLV1FMN43bjA7qc/edit#gid=0&quot;,<br>          &quot;cachedResultName&quot;: &quot;Sheet1&quot;<br>        },<br>        &quot;documentId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;url&quot;,<br>          &quot;value&quot;: &quot;https://docs.google.com/spreadsheets/d/18A4d7KYrk8-uEMbu7shoQe_UIzmbTLV1FMN43bjA7qc/edit?usp=sharing&quot;<br>        },<br>        &quot;descriptionType&quot;: &quot;manual&quot;,<br>        &quot;toolDescription&quot;: &quot;Find transactions by status&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googleSheetsOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;YR4pbjuZM5Xs4CTD&quot;,<br>          &quot;name&quot;: &quot;Google Sheets&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 4.5<br>    },<br>    {<br>      &quot;id&quot;: &quot;5b80cb08-6e19-47b2-8146-c299e709a34a&quot;,<br>      &quot;name&quot;: &quot;Sticky Note13&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        820,<br>        -540<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 4,<br>        &quot;width&quot;: 300,<br>        &quot;content&quot;: &quot;## Change the URL of the Sheets file in all the Sheets tools üëá&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;ddc1351e-0ad0-480f-9742-30f2aa860d61&quot;,<br>      &quot;name&quot;: &quot;Sticky Note14&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        500,<br>        820<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 4,<br>        &quot;width&quot;: 260,<br>        &quot;height&quot;: 100,<br>        &quot;content&quot;: &quot;## üëÜ Change the URL of the Sheets file&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    }<br>  ],<br>  &quot;pinData&quot;: {},<br>  &quot;connections&quot;: {<br>    &quot;Code&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Filter by status&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Calculator&quot;: {<br>      &quot;ai_tool&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Agent&quot;,<br>            &quot;type&quot;: &quot;ai_tool&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Buffer Memory&quot;: {<br>      &quot;ai_memory&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Agent&quot;,<br>            &quot;type&quot;: &quot;ai_memory&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Records by date&quot;: {<br>      &quot;ai_tool&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Agent&quot;,<br>            &quot;type&quot;: &quot;ai_tool&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Filter by status&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Aggregate&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;OpenAI Chat Model&quot;: {<br>      &quot;ai_languageModel&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Agent&quot;,<br>            &quot;type&quot;: &quot;ai_languageModel&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Get all transactions&quot;: {<br>      &quot;ai_tool&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Agent&quot;,<br>            &quot;type&quot;: &quot;ai_tool&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Google Sheets request&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Code&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Get transactions by status&quot;: {<br>      &quot;ai_tool&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Agent&quot;,<br>            &quot;type&quot;: &quot;ai_tool&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;When chat message received&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Agent&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Get transactions by product name&quot;: {<br>      &quot;ai_tool&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Agent&quot;,<br>            &quot;type&quot;: &quot;ai_tool&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;When Executed by Another Workflow&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Google Sheets request&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    }<br>  }<br>}</div></td></tr><tr style="height: 59px"><th id="0R23" style="height: 59px;" class="row-headers-background"><div class="row-header-wrapper" style="line-height: 59px">24</div></th><td class="s5" dir="ltr">Obt√©n insights en tiempo real de tokens cripto v√≠a Telegram con DexScreener y GPT-4o</td><td class="s6 softmerge" dir="ltr"><div class="softmerge-inner" style="width:10870px;left:-3px">{<br>  &quot;id&quot;: &quot;1ZfA8Do3j7lCB3zF&quot;,<br>  &quot;meta&quot;: {<br>    &quot;instanceId&quot;: &quot;a5283507e1917a33cc3ae615b2e7d5ad2c1e50955e6f831272ddd5ab816f3fb6&quot;,<br>    &quot;templateCredsSetupCompleted&quot;: true<br>  },<br>  &quot;name&quot;: &quot;Blockchain DEX Screener Insights Agent&quot;,<br>  &quot;tags&quot;: [],<br>  &quot;nodes&quot;: [<br>    {<br>      &quot;id&quot;: &quot;0e57bcd4-661d-40e3-a9d2-c66d5b84171c&quot;,<br>      &quot;name&quot;: &quot;When chat message received&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.chatTrigger&quot;,<br>      &quot;position&quot;: [<br>        -280,<br>        340<br>      ],<br>      &quot;webhookId&quot;: &quot;e79527d8-89bd-4974-926c-2bcd8020cfa4&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;518565fc-1ee9-4c19-a300-a2c2bef2bb60&quot;,<br>      &quot;name&quot;: &quot;OpenAI Chat Model&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.lmChatOpenAi&quot;,<br>      &quot;position&quot;: [<br>        80,<br>        340<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;model&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;gpt-4o-mini&quot;<br>        },<br>        &quot;options&quot;: {}<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;openAiApi&quot;: {<br>          &quot;id&quot;: &quot;yUizd8t0sD5wMYVG&quot;,<br>          &quot;name&quot;: &quot;OpenAi account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;a52660f2-b13a-4dfb-9429-3f8e382fb4a6&quot;,<br>      &quot;name&quot;: &quot;Window Buffer Memory&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.memoryBufferWindow&quot;,<br>      &quot;position&quot;: [<br>        240,<br>        340<br>      ],<br>      &quot;parameters&quot;: {},<br>      &quot;typeVersion&quot;: 1.3<br>    },<br>    {<br>      &quot;id&quot;: &quot;6714c6df-cc31-4758-956b-1db42ec3112f&quot;,<br>      &quot;name&quot;: &quot;Telegram Trigger&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.telegramTrigger&quot;,<br>      &quot;position&quot;: [<br>        -260,<br>        -140<br>      ],<br>      &quot;webhookId&quot;: &quot;08169624-2756-4c11-9ac1-106d63c5af18&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;updates&quot;: [<br>          &quot;message&quot;<br>        ],<br>        &quot;additionalFields&quot;: {}<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;telegramApi&quot;: {<br>          &quot;id&quot;: &quot;R3vpGq0SURbvEw2Z&quot;,<br>          &quot;name&quot;: &quot;Telegram account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;91b1aecd-cbbf-4e17-afca-bb9e6b98e4d0&quot;,<br>      &quot;name&quot;: &quot;Blockchain DEX Screener Insights Agent&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.agent&quot;,<br>      &quot;position&quot;: [<br>        580,<br>        40<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;text&quot;: &quot;={{ $(&#39;Telegram Trigger&#39;).item.json.message.text }}&quot;,<br>        &quot;options&quot;: {<br>          &quot;systemMessage&quot;: &quot;You are the Blockchain DEX Screener Insights Agent. You have direct access to a suite of tools that interact with the DexScreener API to provide real-time insights from blockchain DEX data. Below is a summary of the available tools, their purposes, and how to use them:\n\n1. **DexScreener Latest Token Profiles**  \n   - **Purpose:** Fetches the latest token profiles.  \n   - **Endpoint:** `/token-profiles/latest/v1`  \n   - **Usage:** Use this tool to retrieve updated profiles, including token details, images, descriptions, and links.\n\n2. **DexScreener Latest Boosted Tokens**  \n   - **Purpose:** Retrieves the latest boosted tokens.  \n   - **Endpoint:** `/token-boosts/latest/v1`  \n   - **Usage:** Use this tool to get current boosted tokens data along with associated details such as token addresses, amounts, and descriptions.\n\n3. **DexScreener Top Token Boosts**  \n   - **Purpose:** Gets tokens with the most active boosts.  \n   - **Endpoint:** `/token-boosts/top/v1`  \n   - **Usage:** Use this tool when you need to identify tokens that are currently experiencing the highest levels of boosting activity.\n\n4. **DexScreener Search Pairs**  \n   - **Purpose:** Searches for trading pairs matching a query.  \n   - **Endpoint:** `/latest/dex/search`  \n   - **Usage:** Provide a query (e.g., `\&quot;SOL/USDC\&quot;`) to find specific pairs along with detailed information on base and quote tokens, pricing, volume, and more.\n\n5. **DexScreener Check Orders Paid for Token**  \n   - **Purpose:** Checks orders paid for a specific token.  \n   - **Endpoint:** `/orders/v1/{chainId}/{tokenAddress}`  \n   - **Usage:** Specify the `chainId` and `tokenAddress` to review the status and details (e.g., processing status, payment timestamp) of token orders.\n\n6. **DexScreener Get Pairs by Chain and Pair Address**  \n   - **Purpose:** Retrieves one or multiple pairs by chain and pair address.  \n   - **Endpoint:** `/latest/dex/pairs/{chainId}/{pairId}`  \n   - **Usage:** Use this tool to obtain detailed pair information by providing the chain ID and specific pair address.\n\n7. **DexScreener Token Pools**  \n   - **Purpose:** Fetches the pools of a given token address.  \n   - **Endpoint:** `/token-pairs/v1/{chainId}/{tokenAddress}`  \n   - **Usage:** Provide the chain ID and token address to receive information on available liquidity pools for that token.\n\n8. **DexScreener Pairs by Token Address**  \n   - **Purpose:** Retrieves one or multiple pairs by token address (supports comma-separated multiple addresses).  \n   - **Endpoint:** `/tokens/v1/{chainId}/{tokenAddresses}`  \n   - **Usage:** Use this tool when you need pair details for one or more tokens. Supply the chain ID and one or more token addresses (up to 30, comma-separated).\n\n**Usage Guidelines:**\n\n- **Rate Limits:** Adhere to the specified rate limits for each endpoint (ranging from 60 to 300 requests per minute).  \n- **Headers:** Each tool sends the header `Accept: */*` by default.  \n- **Parameters:** Use the appropriate path or query parameters as specified to tailor your request.  \n- **Insight Generation:** Leverage these tools to gather data and provide insightful analysis regarding token profiles, boosted tokens, pair search, orders, liquidity pools, and more.\n\nWhen responding to user queries, determine which tool or combination of tools is best suited to fetch the required data and generate comprehensive insights. Use these tools to validate data points and present up-to-date and reliable information on blockchain DEX activity.\n\nProceed with providing insights based on the available data from these DexScreener tools.&quot;<br>        },<br>        &quot;promptType&quot;: &quot;define&quot;<br>      },<br>      &quot;typeVersion&quot;: 1.7<br>    },<br>    {<br>      &quot;id&quot;: &quot;dfe730d6-a93c-45a6-a600-5fd552cc88b8&quot;,<br>      &quot;name&quot;: &quot;Telegram&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.telegram&quot;,<br>      &quot;position&quot;: [<br>        1020,<br>        40<br>      ],<br>      &quot;webhookId&quot;: &quot;24c73b37-4374-4fcf-b3c9-fa9121e25049&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;text&quot;: &quot;={{ $json.output }}&quot;,<br>        &quot;chatId&quot;: &quot;={{ $(&#39;Telegram Trigger&#39;).item.json.message.chat.id }}&quot;,<br>        &quot;additionalFields&quot;: {<br>          &quot;appendAttribution&quot;: false<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;telegramApi&quot;: {<br>          &quot;id&quot;: &quot;R3vpGq0SURbvEw2Z&quot;,<br>          &quot;name&quot;: &quot;Telegram account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;223fa9b3-8f49-407c-9a28-0f67bf6a13cc&quot;,<br>      &quot;name&quot;: &quot;Adds SessionId&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        240,<br>        40<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;b5c25cd4-226b-4778-863f-79b13b4a5202&quot;,<br>              &quot;name&quot;: &quot;sessionId&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $json.message.chat.id }}&quot;<br>            }<br>          ]<br>        },<br>        &quot;includeOtherFields&quot;: true<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;f88141f2-e5be-46f5-abd5-3f095e04b09d&quot;,<br>      &quot;name&quot;: &quot;DexScreener Latest Token Profiles&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.toolHttpRequest&quot;,<br>      &quot;position&quot;: [<br>        400,<br>        340<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;url&quot;: &quot;https://api.dexscreener.com/token-profiles/latest/v1&quot;,<br>        &quot;sendHeaders&quot;: true,<br>        &quot;toolDescription&quot;: &quot;This tool fetches the latest token profiles from the DexScreener API (rate limit: 60 requests per minute).&quot;,<br>        &quot;parametersHeaders&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;name&quot;: &quot;Accept&quot;,<br>              &quot;value&quot;: &quot;*/*&quot;,<br>              &quot;valueProvider&quot;: &quot;fieldValue&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;6adb778c-5c98-45b5-9979-013abe5b88a8&quot;,<br>      &quot;name&quot;: &quot;DexScreener Latest Boosted Tokens&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.toolHttpRequest&quot;,<br>      &quot;position&quot;: [<br>        580,<br>        340<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;url&quot;: &quot;https://api.dexscreener.com/token-boosts/latest/v1&quot;,<br>        &quot;sendHeaders&quot;: true,<br>        &quot;toolDescription&quot;: &quot;This tool fetches the latest boosted tokens from the DexScreener API (rate limit: 60 requests per minute).&quot;,<br>        &quot;parametersHeaders&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;name&quot;: &quot;Accept&quot;,<br>              &quot;value&quot;: &quot;*/*&quot;,<br>              &quot;valueProvider&quot;: &quot;fieldValue&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;10ecdbbe-8d9c-4485-8ce1-45afe72c0ae2&quot;,<br>      &quot;name&quot;: &quot;DexScreener Top Token Boosts&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.toolHttpRequest&quot;,<br>      &quot;position&quot;: [<br>        760,<br>        340<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;url&quot;: &quot;https://api.dexscreener.com/token-boosts/top/v1&quot;,<br>        &quot;sendHeaders&quot;: true,<br>        &quot;toolDescription&quot;: &quot;This tool fetches the tokens with the most active boosts from the DexScreener API (rate limit: 60 requests per minute).&quot;,<br>        &quot;parametersHeaders&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;name&quot;: &quot;Accept&quot;,<br>              &quot;value&quot;: &quot;*/*&quot;,<br>              &quot;valueProvider&quot;: &quot;fieldValue&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;2a9de1cd-aed7-4037-aaee-582ec1c3a244&quot;,<br>      &quot;name&quot;: &quot;DexScreener Search Pairs&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.toolHttpRequest&quot;,<br>      &quot;position&quot;: [<br>        1280,<br>        340<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;url&quot;: &quot;https://api.dexscreener.com/latest/dex/search&quot;,<br>        &quot;sendQuery&quot;: true,<br>        &quot;sendHeaders&quot;: true,<br>        &quot;parametersQuery&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;name&quot;: &quot;q&quot;<br>            }<br>          ]<br>        },<br>        &quot;toolDescription&quot;: &quot;This tool searches for pairs matching a query from the DexScreener API (rate limit: 300 requests per minute).&quot;,<br>        &quot;parametersHeaders&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;name&quot;: &quot;Accept&quot;,<br>              &quot;value&quot;: &quot;*/*&quot;,<br>              &quot;valueProvider&quot;: &quot;fieldValue&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;fe355be2-b158-4f44-bd52-c3ad14297c8b&quot;,<br>      &quot;name&quot;: &quot;DexScreener Check Orders Paid for Token&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.toolHttpRequest&quot;,<br>      &quot;position&quot;: [<br>        940,<br>        340<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;url&quot;: &quot;https://api.dexscreener.com/orders/v1/{chainId}/{tokenAddress}&quot;,<br>        &quot;sendHeaders&quot;: true,<br>        &quot;toolDescription&quot;: &quot;This tool checks orders paid for a token on DexScreener (rate limit: 60 requests per minute).&quot;,<br>        &quot;parametersHeaders&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;name&quot;: &quot;Accept&quot;,<br>              &quot;value&quot;: &quot;*/*&quot;,<br>              &quot;valueProvider&quot;: &quot;fieldValue&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;a3519f26-61ce-4e5b-9fb8-06a080fbaea4&quot;,<br>      &quot;name&quot;: &quot;DexScreener Get Pairs by Chain and Pair Address&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.toolHttpRequest&quot;,<br>      &quot;position&quot;: [<br>        1100,<br>        340<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;url&quot;: &quot;https://api.dexscreener.com/latest/dex/pairs/{chainId}/{pairId}&quot;,<br>        &quot;sendHeaders&quot;: true,<br>        &quot;toolDescription&quot;: &quot;This tool retrieves one or multiple pairs by chain and pair address from the DexScreener API (rate limit: 300 requests per minute).&quot;,<br>        &quot;parametersHeaders&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;name&quot;: &quot;Accept&quot;,<br>              &quot;value&quot;: &quot;*/*&quot;,<br>              &quot;valueProvider&quot;: &quot;fieldValue&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;da965564-a024-4358-8399-e01775142b36&quot;,<br>      &quot;name&quot;: &quot;DexScreener Token Pools&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.toolHttpRequest&quot;,<br>      &quot;position&quot;: [<br>        1480,<br>        340<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;url&quot;: &quot;https://api.dexscreener.com/token-pairs/v1/{chainId}/{tokenAddress}&quot;,<br>        &quot;sendHeaders&quot;: true,<br>        &quot;toolDescription&quot;: &quot;This tool retrieves the pools of a given token address from the DexScreener API (rate limit: 300 requests per minute).&quot;,<br>        &quot;parametersHeaders&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;name&quot;: &quot;Accept&quot;,<br>              &quot;value&quot;: &quot;*/*&quot;,<br>              &quot;valueProvider&quot;: &quot;fieldValue&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;31cb228c-9a6d-4519-a6a9-7be9cc75716e&quot;,<br>      &quot;name&quot;: &quot;DexScreener Pairs by Token Address&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.toolHttpRequest&quot;,<br>      &quot;position&quot;: [<br>        1700,<br>        340<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;url&quot;: &quot;https://api.dexscreener.com/tokens/v1/{chainId}/{tokenAddresses}&quot;,<br>        &quot;sendHeaders&quot;: true,<br>        &quot;toolDescription&quot;: &quot;This tool retrieves one or multiple pairs by token address from the DexScreener API (rate limit: 300 requests per minute).&quot;,<br>        &quot;parametersHeaders&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;name&quot;: &quot;Accept&quot;,<br>              &quot;value&quot;: &quot;*/*&quot;,<br>              &quot;valueProvider&quot;: &quot;fieldValue&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    }<br>  ],<br>  &quot;active&quot;: false,<br>  &quot;pinData&quot;: {},<br>  &quot;settings&quot;: {<br>    &quot;executionOrder&quot;: &quot;v1&quot;<br>  },<br>  &quot;versionId&quot;: &quot;2fbb101c-f139-4e20-88d9-88db0d7ce4f9&quot;,<br>  &quot;connections&quot;: {<br>    &quot;Adds SessionId&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Blockchain DEX Screener Insights Agent&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Telegram Trigger&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Adds SessionId&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;OpenAI Chat Model&quot;: {<br>      &quot;ai_languageModel&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Blockchain DEX Screener Insights Agent&quot;,<br>            &quot;type&quot;: &quot;ai_languageModel&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Window Buffer Memory&quot;: {<br>      &quot;ai_memory&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Blockchain DEX Screener Insights Agent&quot;,<br>            &quot;type&quot;: &quot;ai_memory&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;DexScreener Token Pools&quot;: {<br>      &quot;ai_tool&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Blockchain DEX Screener Insights Agent&quot;,<br>            &quot;type&quot;: &quot;ai_tool&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;DexScreener Search Pairs&quot;: {<br>      &quot;ai_tool&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Blockchain DEX Screener Insights Agent&quot;,<br>            &quot;type&quot;: &quot;ai_tool&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;When chat message received&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Adds SessionId&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;DexScreener Top Token Boosts&quot;: {<br>      &quot;ai_tool&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Blockchain DEX Screener Insights Agent&quot;,<br>            &quot;type&quot;: &quot;ai_tool&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;DexScreener Latest Boosted Tokens&quot;: {<br>      &quot;ai_tool&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Blockchain DEX Screener Insights Agent&quot;,<br>            &quot;type&quot;: &quot;ai_tool&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;DexScreener Latest Token Profiles&quot;: {<br>      &quot;ai_tool&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Blockchain DEX Screener Insights Agent&quot;,<br>            &quot;type&quot;: &quot;ai_tool&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;DexScreener Pairs by Token Address&quot;: {<br>      &quot;ai_tool&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Blockchain DEX Screener Insights Agent&quot;,<br>            &quot;type&quot;: &quot;ai_tool&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Blockchain DEX Screener Insights Agent&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Telegram&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;DexScreener Check Orders Paid for Token&quot;: {<br>      &quot;ai_tool&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Blockchain DEX Screener Insights Agent&quot;,<br>            &quot;type&quot;: &quot;ai_tool&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;DexScreener Get Pairs by Chain and Pair Address&quot;: {<br>      &quot;ai_tool&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Blockchain DEX Screener Insights Agent&quot;,<br>            &quot;type&quot;: &quot;ai_tool&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    }<br>  }<br>}</div></td></tr><tr style="height: 59px"><th id="0R24" style="height: 59px;" class="row-headers-background"><div class="row-header-wrapper" style="line-height: 59px">25</div></th><td class="s7" dir="ltr">Facturas desde Gmail a Drive y Google Sheets</td><td class="s8 softmerge" dir="ltr"><div class="softmerge-inner" style="width:2126px;left:-3px">{<br>  &quot;id&quot;: &quot;XnGZZfT5u0Cw1X3p&quot;,<br>  &quot;meta&quot;: {<br>    &quot;instanceId&quot;: &quot;3378b0d68c3b7ebfc71b79896d94e1a044dec38e99a1160aed4e9c323910fbe2&quot;,<br>    &quot;templateCredsSetupCompleted&quot;: true<br>  },<br>  &quot;name&quot;: &quot;Attachments Gmail to drive and google sheets&quot;,<br>  &quot;tags&quot;: [],<br>  &quot;nodes&quot;: [<br>    {<br>      &quot;id&quot;: &quot;0404ef0a-9750-495a-8798-98d4b059a083&quot;,<br>      &quot;name&quot;: &quot;Sticky Note&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -580,<br>        -420<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;height&quot;: 440,<br>        &quot;content&quot;: &quot;## Setup\n1. Setup your **Gmail** and **Google Drive** credentials\n2. Setup your **Google Sheets** credentials\n3. Setup your **Openai** api key&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;8751a7f1-aae4-4746-aae7-3d8563845b8c&quot;,<br>      &quot;name&quot;: &quot;Gmail Trigger1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.gmailTrigger&quot;,<br>      &quot;position&quot;: [<br>        -640,<br>        120<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;simple&quot;: false,<br>        &quot;filters&quot;: {<br>          &quot;readStatus&quot;: &quot;unread&quot;<br>        },<br>        &quot;options&quot;: {<br>          &quot;downloadAttachments&quot;: true<br>        },<br>        &quot;pollTimes&quot;: {<br>          &quot;item&quot;: [<br>            {<br>              &quot;mode&quot;: &quot;everyMinute&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;gmailOAuth2&quot;: {<br>          &quot;id&quot;: &quot;v8YJP3VfeGtRk5la&quot;,<br>          &quot;name&quot;: &quot;Gmail account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;40f62192-5acb-4915-aa07-e5a0dfeb7581&quot;,<br>      &quot;name&quot;: &quot;Setup1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        -300,<br>        120<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;4cca07a2-6a70-4011-a025-65246e652fb9&quot;,<br>              &quot;name&quot;: &quot;url_to_drive_folder&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;1fCWCdqrFP3WrjjLc-gJtxMaiaF5lh8Ko&quot;<br>            }<br>          ]<br>        },<br>        &quot;includeOtherFields&quot;: true<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;d928e797-8851-4ab4-9199-cd555a40eae9&quot;,<br>      &quot;name&quot;: &quot;Upload PDF to Drive1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.httpRequest&quot;,<br>      &quot;maxTries&quot;: 5,<br>      &quot;position&quot;: [<br>        220,<br>        0<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;url&quot;: &quot;https://www.googleapis.com/upload/drive/v3/files&quot;,<br>        &quot;method&quot;: &quot;POST&quot;,<br>        &quot;options&quot;: {},<br>        &quot;sendBody&quot;: true,<br>        &quot;sendQuery&quot;: true,<br>        &quot;contentType&quot;: &quot;binaryData&quot;,<br>        &quot;authentication&quot;: &quot;predefinedCredentialType&quot;,<br>        &quot;queryParameters&quot;: {<br>          &quot;parameters&quot;: [<br>            {<br>              &quot;name&quot;: &quot;uploadType&quot;,<br>              &quot;value&quot;: &quot;media&quot;<br>            }<br>          ]<br>        },<br>        &quot;inputDataFieldName&quot;: &quot;={{ $binary.attachment_0.mimeType === \&quot;application/pdf\&quot;\n     ? \&quot;attachment_0\&quot;\n     : \&quot;attachment_1\&quot; }}&quot;,<br>        &quot;nodeCredentialType&quot;: &quot;googleDriveOAuth2Api&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googleDriveOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;p5I6S4YkJps1zvwz&quot;,<br>          &quot;name&quot;: &quot;Google Drive account 2&quot;<br>        }<br>      },<br>      &quot;retryOnFail&quot;: true,<br>      &quot;typeVersion&quot;: 4.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;22df6933-a0c7-4cce-8114-5332038a14c3&quot;,<br>      &quot;name&quot;: &quot;Rename file1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleDrive&quot;,<br>      &quot;position&quot;: [<br>        400,<br>        0<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;fileId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;id&quot;,<br>          &quot;value&quot;: &quot;={{ $json.id }}&quot;<br>        },<br>        &quot;options&quot;: {},<br>        &quot;operation&quot;: &quot;update&quot;,<br>        &quot;newUpdatedFileName&quot;: &quot;={{ $(&#39;Setup1&#39;).item.json.subject }}_invoice_{{ $now.format(&#39;yyyy-MM-dd&#39;) }}.pdf&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googleDriveOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;p5I6S4YkJps1zvwz&quot;,<br>          &quot;name&quot;: &quot;Google Drive account 2&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3<br>    },<br>    {<br>      &quot;id&quot;: &quot;ce6a6a4c-17ba-4cf7-b07a-97b9d8d80844&quot;,<br>      &quot;name&quot;: &quot;Move to the correct folder1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleDrive&quot;,<br>      &quot;position&quot;: [<br>        580,<br>        0<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;fileId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;id&quot;,<br>          &quot;value&quot;: &quot;={{ $json.id }}&quot;<br>        },<br>        &quot;driveId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;My Drive&quot;,<br>          &quot;cachedResultUrl&quot;: &quot;https://drive.google.com/drive/my-drive&quot;,<br>          &quot;cachedResultName&quot;: &quot;My Drive&quot;<br>        },<br>        &quot;folderId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;1fCWCdqrFP3WrjjLc-gJtxMaiaF5lh8Ko&quot;,<br>          &quot;cachedResultUrl&quot;: &quot;&quot;,<br>          &quot;cachedResultName&quot;: &quot;2025&quot;<br>        },<br>        &quot;operation&quot;: &quot;move&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googleDriveOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;p5I6S4YkJps1zvwz&quot;,<br>          &quot;name&quot;: &quot;Google Drive account 2&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3<br>    },<br>    {<br>      &quot;id&quot;: &quot;e64aac5c-a314-46b6-b7db-fc0d6f450e1f&quot;,<br>      &quot;name&quot;: &quot;Gmail&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.gmail&quot;,<br>      &quot;position&quot;: [<br>        1240,<br>        0<br>      ],<br>      &quot;webhookId&quot;: &quot;556cbee3-8de0-4645-9e91-e7c0c252f2ab&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;messageId&quot;: &quot;={{ $(&#39;Gmail Trigger1&#39;).item.json.id }}&quot;,<br>        &quot;operation&quot;: &quot;markAsRead&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;gmailOAuth2&quot;: {<br>          &quot;id&quot;: &quot;v8YJP3VfeGtRk5la&quot;,<br>          &quot;name&quot;: &quot;Gmail account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;ea74cfc1-0305-418d-9f5f-bffcfb3bb2c7&quot;,<br>      &quot;name&quot;: &quot;Extract from File2&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.extractFromFile&quot;,<br>      &quot;position&quot;: [<br>        1200,<br>        -180<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;operation&quot;: &quot;pdf&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;0398d982-78fd-4830-b5cf-271195af80fd&quot;,<br>      &quot;name&quot;: &quot;Google Drive&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleDrive&quot;,<br>      &quot;position&quot;: [<br>        800,<br>        0<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;fileId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;id&quot;,<br>          &quot;value&quot;: &quot;={{ $json.id }}&quot;<br>        },<br>        &quot;options&quot;: {},<br>        &quot;operation&quot;: &quot;download&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googleDriveOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;p5I6S4YkJps1zvwz&quot;,<br>          &quot;name&quot;: &quot;Google Drive account 2&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3<br>    },<br>    {<br>      &quot;id&quot;: &quot;3b4a96d4-a6ee-486a-a795-fe410ccc38b2&quot;,<br>      &quot;name&quot;: &quot;OpenAI Model&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.lmOpenAi&quot;,<br>      &quot;position&quot;: [<br>        1740,<br>        20<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;model&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;gpt-4o&quot;,<br>          &quot;cachedResultName&quot;: &quot;gpt-4o&quot;<br>        },<br>        &quot;options&quot;: {<br>          &quot;temperature&quot;: 0<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;openAiApi&quot;: {<br>          &quot;id&quot;: &quot;XJdxgMSXFgwReSsh&quot;,<br>          &quot;name&quot;: &quot;n8n key&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;a7dd0d95-5e79-4bd2-a8a6-2178264d19fc&quot;,<br>      &quot;name&quot;: &quot;Structured Output Parser&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.outputParserStructured&quot;,<br>      &quot;position&quot;: [<br>        1940,<br>        40<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;jsonSchema&quot;: &quot;{\n  \&quot;Invoice date\&quot;: { \&quot;type\&quot;: \&quot;date\&quot; },\n  \&quot;Invoice description\&quot;: { \&quot;type\&quot;: \&quot;string\&quot; },\n  \&quot;Total price\&quot;: { \&quot;type\&quot;: \&quot;number\&quot; },\n  \&quot;Fichero\&quot;: { \&quot;type\&quot;: \&quot;string\&quot; }\n}&quot;<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;68d98f4c-e679-48e3-a1a1-529cda4e31a4&quot;,<br>      &quot;name&quot;: &quot;Append to Reconciliation Sheet&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleSheets&quot;,<br>      &quot;position&quot;: [<br>        2280,<br>        -140<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;columns&quot;: {<br>          &quot;value&quot;: {},<br>          &quot;schema&quot;: [<br>            {<br>              &quot;id&quot;: &quot;Invoice date&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;removed&quot;: false,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;Invoice date&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;Invoice Description&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;removed&quot;: false,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;Invoice Description&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;Total price&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;removed&quot;: false,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;Total price&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;Fichero&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;removed&quot;: false,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;Fichero&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            }<br>          ],<br>          &quot;mappingMode&quot;: &quot;autoMapInputData&quot;,<br>          &quot;matchingColumns&quot;: [],<br>          &quot;attemptToConvertTypes&quot;: false,<br>          &quot;convertFieldsToString&quot;: false<br>        },<br>        &quot;options&quot;: {},<br>        &quot;operation&quot;: &quot;append&quot;,<br>        &quot;sheetName&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;id&quot;,<br>          &quot;value&quot;: &quot;gid=0&quot;<br>        },<br>        &quot;documentId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;1gIUnjSWUhsoTOVVd4ZoVjARCGQfGE8s7FWcju3lNajM&quot;,<br>          &quot;cachedResultUrl&quot;: &quot;&quot;,<br>          &quot;cachedResultName&quot;: &quot;facturas&quot;<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googleSheetsOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;3IOU2VjBnR4hGohx&quot;,<br>          &quot;name&quot;: &quot;Google Sheets account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 4.3<br>    },<br>    {<br>      &quot;id&quot;: &quot;80e1c8f4-b593-4c5f-b9e2-f3b7996ee6d4&quot;,<br>      &quot;name&quot;: &quot;Sticky Note2&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1680,<br>        -400<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 805.0578351924228,<br>        &quot;height&quot;: 656.5014186128178,<br>        &quot;content&quot;: &quot;## 3. Use LLMs to Extract Values from Data\n[Read more about Basic LLM Chain](https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.chainllm/)\n\nLarge language models are perfect for data extraction tasks as they can work across a range of document layouts without human intervention. The extracted data can then be sent to a variety of datastores such as spreadsheets, accounting systems and/or CRMs.\n\n**Tip:** The \&quot;Structured Output Parser\&quot; ensures the AI output can be\ninserted to our spreadsheet without additional clean up and/or formatting. &quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;3754e10e-a233-4ce0-bc79-bb5c01db9695&quot;,<br>      &quot;name&quot;: &quot;Map Output&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        2080,<br>        -140<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;mode&quot;: &quot;raw&quot;,<br>        &quot;options&quot;: {},<br>        &quot;jsonOutput&quot;: &quot;={{ $json.output }}&quot;<br>      },<br>      &quot;typeVersion&quot;: 3.3<br>    },<br>    {<br>      &quot;id&quot;: &quot;a42ff16f-d0df-4b6d-9a36-849f85d1facc&quot;,<br>      &quot;name&quot;: &quot;Apply Data Extraction Rules&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.chainLlm&quot;,<br>      &quot;position&quot;: [<br>        1740,<br>        -140<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;text&quot;: &quot;=Given the following invoice in the &lt;invoice&gt; xml tags, extract the following information as listed below.\nIf you cannot the information for a specific item, then leave blank and skip to the next. \n\n* Invoice date\n* Invoice Description: {{ $(&#39;Rename file1&#39;).item.json.name }}\n* Total price\n* Fichero: =HYPERLINK(\&quot;https://drive.google.com/file/d/{{ $(&#39;Move to the correct folder1&#39;).item.json.id }}/view\&quot;, \&quot;Ver Documento\&quot;)\n\n\n&lt;invoice&gt;{{ $json.text }}&lt;/invoice&gt;&quot;,<br>        &quot;promptType&quot;: &quot;define&quot;,<br>        &quot;hasOutputParser&quot;: true<br>      },<br>      &quot;typeVersion&quot;: 1.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;f6de5d5a-d2dc-4590-8f46-3f250b8fca9f&quot;,<br>      &quot;name&quot;: &quot;Sticky Note6&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1860,<br>        0<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 192.26896179623753,<br>        &quot;height&quot;: 213.73043662572252,<br>        &quot;content&quot;: &quot;\n\n\n\n\n\n\n\n\n\n\n\n**Need more attributes?**\nChange it here!&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;255fe8c1-5bd7-41cc-b1f9-c8956b5ad101&quot;,<br>      &quot;name&quot;: &quot;Only invoice mails with attachments&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.if&quot;,<br>      &quot;position&quot;: [<br>        0,<br>        120<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;conditions&quot;: {<br>          &quot;options&quot;: {<br>            &quot;version&quot;: 1,<br>            &quot;leftValue&quot;: &quot;&quot;,<br>            &quot;caseSensitive&quot;: true,<br>            &quot;typeValidation&quot;: &quot;strict&quot;<br>          },<br>          &quot;combinator&quot;: &quot;or&quot;,<br>          &quot;conditions&quot;: [<br>            {<br>              &quot;id&quot;: &quot;229200d1-ec13-4970-ae0e-2c8e17da0bdf&quot;,<br>              &quot;operator&quot;: {<br>                &quot;type&quot;: &quot;string&quot;,<br>                &quot;operation&quot;: &quot;contains&quot;<br>              },<br>              &quot;leftValue&quot;: &quot;={{ $(&#39;Gmail Trigger1&#39;).item.json.headers[&#39;content-type&#39;] }}&quot;,<br>              &quot;rightValue&quot;: &quot;multipart/mixed&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;new-condition&quot;,<br>              &quot;operator&quot;: {<br>                &quot;type&quot;: &quot;boolean&quot;,<br>                &quot;operation&quot;: &quot;isNotEmpty&quot;<br>              },<br>              &quot;leftValue&quot;: &quot;={{ $json.attachments }}&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.1<br>    }<br>  ],<br>  &quot;active&quot;: true,<br>  &quot;pinData&quot;: {},<br>  &quot;settings&quot;: {<br>    &quot;executionOrder&quot;: &quot;v1&quot;<br>  },<br>  &quot;versionId&quot;: &quot;eb152808-e993-4e18-9dd8-10f21df57bf1&quot;,<br>  &quot;connections&quot;: {<br>    &quot;Gmail&quot;: {<br>      &quot;main&quot;: [<br>        []<br>      ]<br>    },<br>    &quot;Setup1&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Only invoice mails with attachments&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Map Output&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Append to Reconciliation Sheet&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Google Drive&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Extract from File2&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;OpenAI Model&quot;: {<br>      &quot;ai_languageModel&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Apply Data Extraction Rules&quot;,<br>            &quot;type&quot;: &quot;ai_languageModel&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Rename file1&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Move to the correct folder1&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Gmail Trigger1&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Setup1&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Extract from File2&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Apply Data Extraction Rules&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Upload PDF to Drive1&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Rename file1&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Structured Output Parser&quot;: {<br>      &quot;ai_outputParser&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Apply Data Extraction Rules&quot;,<br>            &quot;type&quot;: &quot;ai_outputParser&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Apply Data Extraction Rules&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Map Output&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Move to the correct folder1&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Gmail&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          },<br>          {<br>            &quot;node&quot;: &quot;Google Drive&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Only invoice mails with attachments&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Upload PDF to Drive1&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;Gmail&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    }<br>  }<br>}</div></td></tr><tr style="height: 59px"><th id="0R25" style="height: 59px;" class="row-headers-background"><div class="row-header-wrapper" style="line-height: 59px">26</div></th><td class="s11" dir="ltr">Reemplaza datos en Google Docs desde un formulario de n8n</td><td class="s11" dir="ltr">Reemplaza datos en Google Docs desde un formulario de n8n</td></tr><tr style="height: 59px"><th id="0R26" style="height: 59px;" class="row-headers-background"><div class="row-header-wrapper" style="line-height: 59px">27</div></th><td class="s3" dir="ltr">Analiza gr√°ficos de tradingview.com con extensi√≥n de Chrome, N8N y OpenAI</td><td class="s4 softmerge" dir="ltr"><div class="softmerge-inner" style="width:1589px;left:-3px">{<br>  &quot;id&quot;: &quot;Q8On8rR6BkmPzDUd&quot;,<br>  &quot;meta&quot;: {<br>    &quot;instanceId&quot;: &quot;f57770b08f6a574802832e927ed1b0063c627ffc5b95965abf0d4a7396150138&quot;<br>  },<br>  &quot;name&quot;: &quot;chrome extension backend with AI&quot;,<br>  &quot;tags&quot;: [],<br>  &quot;nodes&quot;: [<br>    {<br>      &quot;id&quot;: &quot;0f38fe62-36d9-43da-a992-a3981377e89e&quot;,<br>      &quot;name&quot;: &quot;Webhook&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.webhook&quot;,<br>      &quot;position&quot;: [<br>        -220,<br>        -20<br>      ],<br>      &quot;webhookId&quot;: &quot;e9a97dd5-f1e7-4d5b-a6f1-be5f0c9eb96c&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;path&quot;: &quot;e9a97dd5-f1e7-4d5b-a6f1-be5f0c9eb96c&quot;,<br>        &quot;options&quot;: {},<br>        &quot;httpMethod&quot;: &quot;POST&quot;,<br>        &quot;responseMode&quot;: &quot;responseNode&quot;<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;83959562-edf5-4d37-bd11-47186c6a31c7&quot;,<br>      &quot;name&quot;: &quot;OpenAI&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.openAi&quot;,<br>      &quot;position&quot;: [<br>        -40,<br>        -20<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;text&quot;: &quot;You are an expert financial analyst tasked with providing an advanced technical analyses of a stock or crypto currency chart provided. Your analysis will be based on various technical indicators and will provide simple insights for novice traders. Just explain to traders were you expect the market is moving. Also warn them this is not a binding advice. Make sure to explain everything in infant language.&quot;,<br>        &quot;modelId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;gpt-4o-mini&quot;,<br>          &quot;cachedResultName&quot;: &quot;GPT-4O-MINI&quot;<br>        },<br>        &quot;options&quot;: {},<br>        &quot;resource&quot;: &quot;image&quot;,<br>        &quot;inputType&quot;: &quot;base64&quot;,<br>        &quot;operation&quot;: &quot;analyze&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;openAiApi&quot;: {<br>          &quot;id&quot;: &quot;8MS1muoK4z86fxUs&quot;,<br>          &quot;name&quot;: &quot;OpenAi account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.7<br>    },<br>    {<br>      &quot;id&quot;: &quot;c6f1f833-7ba3-49c5-86df-f586e6bb5975&quot;,<br>      &quot;name&quot;: &quot;Respond to Webhook&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.respondToWebhook&quot;,<br>      &quot;position&quot;: [<br>        140,<br>        -20<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;respondWith&quot;: &quot;text&quot;,<br>        &quot;responseBody&quot;: &quot;={{ $json.content }}&quot;<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;e3a38a76-283b-4567-a8da-315ef1e2bc4f&quot;,<br>      &quot;name&quot;: &quot;Sticky Note&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -260,<br>        -140<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 620,<br>        &quot;height&quot;: 300,<br>        &quot;content&quot;: &quot;## N8N en OpenAI image analyser&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;8e7e26db-8767-4727-ab0c-900b50a73411&quot;,<br>      &quot;name&quot;: &quot;Sticky Note1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -80,<br>        180<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 5,<br>        &quot;height&quot;: 340,<br>        &quot;content&quot;: &quot;## AI prompt\nYou are an expert financial analyst tasked with providing an advanced technical analyses of a stock or crypto currency chart provided. Your analysis will be based on various technical indicators and will provide simple insights for novice traders. Just explain to traders were you expect the market is moving. Also warn them this is not a binding advice. Make sure to explain everything in infant language.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    }<br>  ],<br>  &quot;active&quot;: true,<br>  &quot;pinData&quot;: {},<br>  &quot;settings&quot;: {<br>    &quot;executionOrder&quot;: &quot;v1&quot;<br>  },<br>  &quot;versionId&quot;: &quot;caf32442-e9c5-466a-8888-9abd2c1b3449&quot;,<br>  &quot;connections&quot;: {<br>    &quot;OpenAI&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Respond to Webhook&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Webhook&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;OpenAI&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    }<br>  }<br>}</div></td></tr><tr style="height: 59px"><th id="0R27" style="height: 59px;" class="row-headers-background"><div class="row-header-wrapper" style="line-height: 59px">28</div></th><td class="s5" dir="ltr">Genera palabras clave iniciales para SEO usando IA</td><td class="s6 softmerge" dir="ltr"><div class="softmerge-inner" style="width:7021px;left:-3px">{<br>  &quot;meta&quot;: {<br>    &quot;instanceId&quot;: &quot;257476b1ef58bf3cb6a46e65fac7ee34a53a5e1a8492d5c6e4da5f87c9b82833&quot;,<br>    &quot;templateId&quot;: &quot;2473&quot;<br>  },<br>  &quot;nodes&quot;: [<br>    {<br>      &quot;id&quot;: &quot;1205b121-8aaa-4e41-874b-4e81aad6374e&quot;,<br>      &quot;name&quot;: &quot;Sticky Note&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        120,<br>        600<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 4,<br>        &quot;width&quot;: 462.4041757955455,<br>        &quot;height&quot;: 315.6388466176832,<br>        &quot;content&quot;: &quot;## Generate SEO Seed Keywords Using AI\n\nThis flow uses an AI node to generate Seed Keywords to focus SEO efforts on based on your ideal customer profile\n\n**Outputs:** \n- List of 20 Seed Keywords\n\n\n**Pre-requisites / Dependencies:**\n- You know your ideal customer profile (ICP)\n- An AI API account (either OpenAI or Anthropic recommended)&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;d2654d75-2b64-4ec3-b583-57d2b6b7b195&quot;,<br>      &quot;name&quot;: &quot;Sticky Note13&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;disabled&quot;: true,<br>      &quot;position&quot;: [<br>        640,<br>        920<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 287.0816455493243,<br>        &quot;height&quot;: 330.47923074942287,<br>        &quot;content&quot;: &quot;**Generate draft seed KW based on ICP**\n\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;d248a58e-3705-4b6f-99cb-e9187e56781c&quot;,<br>      &quot;name&quot;: &quot;Anthropic Chat Model&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.lmChatAnthropic&quot;,<br>      &quot;position&quot;: [<br>        680,<br>        1120<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;71517d83-59f5-441a-8a75-c35f4e06a8a2&quot;,<br>      &quot;name&quot;: &quot;Split Out&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.splitOut&quot;,<br>      &quot;position&quot;: [<br>        980,<br>        980<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;fieldToSplitOut&quot;: &quot;output.answer&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;1c68eff5-6478-4eba-9abe-3ccea2a17a5c&quot;,<br>      &quot;name&quot;: &quot;Sticky Note12&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;disabled&quot;: true,<br>      &quot;position&quot;: [<br>        120,<br>        920<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 492.16246201447336,<br>        &quot;height&quot;: 213.62075341687063,<br>        &quot;content&quot;: &quot;**Get data from airtable and format** &quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;53dcc524-ef3d-40b8-b79d-976517dce4e7&quot;,<br>      &quot;name&quot;: &quot;Sticky Note17&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;disabled&quot;: true,<br>      &quot;position&quot;: [<br>        960,<br>        920<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 348.42891651921957,<br>        &quot;height&quot;: 213.62075341687063,<br>        &quot;content&quot;: &quot;**Add data to database**&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;570495fe-3f1d-44ae-bea0-9fa4b2ce15ef&quot;,<br>      &quot;name&quot;: &quot;Sticky Note11&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        640,<br>        820<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 6,<br>        &quot;width&quot;: 393.46745700785266,<br>        &quot;height&quot;: 80,<br>        &quot;content&quot;: &quot;**Costs to run**\nApprox. $0.02-0.05 for a run using Claude Sonnet 3.5&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;6e5e84c5-409f-4f37-931a-21a44aff7c5e&quot;,<br>      &quot;name&quot;: &quot;Set Ideal Customer Profile (ICP)&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        160,<br>        980<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;973e949e-1afd-4378-8482-d2168532eff6&quot;,<br>              &quot;name&quot;: &quot;product&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;=**Replace this with a string detailing your intended product (if you have one)**&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;ce9c0a8f-6157-4b46-8b77-133545dc71bd&quot;,<br>              &quot;name&quot;: &quot;pain points&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;=**Replace this with a string list of customer pain points**&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;5abc858a-c412-4acf-acb9-488e4d992d2f&quot;,<br>              &quot;name&quot;: &quot;goals&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;=**Replace this with a string list of your customers key goals/objectives**&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;fbdd1ef7-c1b9-48eb-b73e-a383f12b5ba1&quot;,<br>              &quot;name&quot;: &quot;current solutions&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;=**Replace this with a string detailing how your ideal customer currently solves their pain ppoints**&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;2e5c8f48-266e-486c-956f-51f1449f6288&quot;,<br>              &quot;name&quot;: &quot;expertise level&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;=**Replace this with a string detailing customer level of expertise**&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;notesInFlow&quot;: true,<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;bd5781f4-6f35-45d3-8182-12ea6712eddf&quot;,<br>      &quot;name&quot;: &quot;Aggregate for AI node&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.aggregate&quot;,<br>      &quot;position&quot;: [<br>        380,<br>        980<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;aggregate&quot;: &quot;aggregateAllItemData&quot;<br>      },<br>      &quot;notesInFlow&quot;: true,<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;244943bf-e4dd-40fc-9a43-7a5cd0da1c5b&quot;,<br>      &quot;name&quot;: &quot;Sticky Note14&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        640,<br>        1260<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 3,<br>        &quot;width&quot;: 284.87764467541297,<br>        &quot;height&quot;: 80,<br>        &quot;content&quot;: &quot;**REQUIRED**\nConnect to your own AI API above&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;73c8f47a-4fdb-40c8-9062-890ef1265ab0&quot;,<br>      &quot;name&quot;: &quot;Sticky Note16&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        120,<br>        1140<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 3,<br>        &quot;width&quot;: 284.87764467541297,<br>        &quot;height&quot;: 80,<br>        &quot;content&quot;: &quot;**REQUIRED**\nSet your Ideal Customer Profile before proceeding&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;a5b93e6d-44ab-4b6f-b86a-25dc621b52b0&quot;,<br>      &quot;name&quot;: &quot;AI Agent&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.agent&quot;,<br>      &quot;position&quot;: [<br>        660,<br>        980<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;text&quot;: &quot;=User:\nHere are some important rules for you to follow:\n&lt;rules&gt;\n1. Analyze the ICP information carefully.\n2. Generate 15-20 seed keywords that are relevant to the ICP&#39;s needs, challenges, goals, and search behavior.\n3. Ensure the keywords are broad enough to be considered \&quot;\&quot;head\&quot;\&quot; terms, but specific enough to target the ICP effectively.\n4. Consider various aspects of the ICP&#39;s journey, including awareness, consideration, and decision stages.\n5. Include a mix of product-related, problem-related, and solution-related terms.\n6. Think beyond just the product itself - consider industry trends, related technologies, and broader business concepts that would interest the ICP.\n7. Avoid overly generic terms that might attract irrelevant traffic.\n8. Aim for a mix of keyword difficulties, including both competitive and less competitive terms.\n9. Include keywords that cover different search intents: informational, navigational, commercial, and transactional.\n10. Consider related tools or platforms that the ICP might use, and include relevant integration-related keywords.\n11. If applicable, include some location-specific keywords based on the ICP&#39;s geographic information.\n12. Incorporate industry-specific terminology or jargon that the ICP would likely use in their searches.\n13. Consider emerging trends or pain points in the ICP&#39;s industry that they might be searching for solutions to.\n13. Format the keywords in lowercase, without punctuation. Trim any leading or trailing white space.\n&lt;/rules&gt;\n\nYour output should be an array of strings, each representing a seed keyword:\n&lt;example&gt;\n[&#39;b2b lead generation&#39;, &#39;startup marketing strategies&#39;, &#39;saas sales funnel&#39;, ...]\n&lt;/example&gt;\n\nHere is the Ideal Customer Profile (ICP) information:\n&lt;input&gt;\n{{ $json.data[0].product }}\n&lt;/input&gt;\n\nNow:\nBased on the provided ICP, generate an array of 15-20 seed keywords that will form the foundation of a comprehensive SEO strategy for this B2B SaaS company. These keywords should reflect a deep understanding of the ICP&#39;s needs, challenges, and search behavior, while also considering broader industry trends and related concepts.\n\nFirst, write out your ideas in {thoughts: } JSON as part of your analysis, then answer inside the {answer: } key in the JSON. &quot;,<br>        &quot;agent&quot;: &quot;conversationalAgent&quot;,<br>        &quot;options&quot;: {<br>          &quot;systemMessage&quot;: &quot;=System: You are an expert SEO strategist tasked with generating 15-20 key head search terms (seed keywords) for a B2B SaaS company. Your goal is to create a comprehensive list of keywords that will attract and engage the ideal customer profile (ICP) described.&quot;<br>        },<br>        &quot;promptType&quot;: &quot;define&quot;<br>      },<br>      &quot;typeVersion&quot;: 1.6<br>    },<br>    {<br>      &quot;id&quot;: &quot;ca3c0bd5-7ef0-4e2b-9b5e-071773c32c85&quot;,<br>      &quot;name&quot;: &quot;Connect to your own database&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.noOp&quot;,<br>      &quot;position&quot;: [<br>        1140,<br>        980<br>      ],<br>      &quot;parameters&quot;: {},<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;94639a81-5e46-482a-851a-5443bfe9863c&quot;,<br>      &quot;name&quot;: &quot;Sticky Note15&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1120,<br>        1140<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 3,<br>        &quot;width&quot;: 284.87764467541297,<br>        &quot;height&quot;: 80,<br>        &quot;content&quot;: &quot;**REQUIRED**\nConnect to your own database / GSheet / Airtable base to output these&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;16498e92-c0d5-44f4-b993-c9c8930955bc&quot;,<br>      &quot;name&quot;: &quot;When clicking ‚ÄòTest workflow‚Äô&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.manualTrigger&quot;,<br>      &quot;position&quot;: [<br>        -60,<br>        980<br>      ],<br>      &quot;parameters&quot;: {},<br>      &quot;typeVersion&quot;: 1<br>    }<br>  ],<br>  &quot;pinData&quot;: {},<br>  &quot;connections&quot;: {<br>    &quot;AI Agent&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Split Out&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Split Out&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Connect to your own database&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Anthropic Chat Model&quot;: {<br>      &quot;ai_languageModel&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Agent&quot;,<br>            &quot;type&quot;: &quot;ai_languageModel&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Aggregate for AI node&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Agent&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Set Ideal Customer Profile (ICP)&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Aggregate for AI node&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;When clicking ‚ÄòTest workflow‚Äô&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Set Ideal Customer Profile (ICP)&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    }<br>  }<br>}</div></td></tr><tr style="height: 59px"><th id="0R28" style="height: 59px;" class="row-headers-background"><div class="row-header-wrapper" style="line-height: 59px">29</div></th><td class="s3" dir="ltr">Cualificaci√≥n de solicitudes de cita con IA y formularios de n8n</td><td class="s4 softmerge" dir="ltr"><div class="softmerge-inner" style="width:4104px;left:-3px">{<br>  &quot;meta&quot;: {<br>    &quot;instanceId&quot;: &quot;408f9fb9940c3cb18ffdef0e0150fe342d6e655c3a9fac21f0f644e8bedabcd9&quot;<br>  },<br>  &quot;nodes&quot;: [<br>    {<br>      &quot;id&quot;: &quot;76589d1c-45f3-4a89-906f-8ef300d34964&quot;,<br>      &quot;name&quot;: &quot;n8n Form Trigger&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.formTrigger&quot;,<br>      &quot;position&quot;: [<br>        -2520,<br>        -280<br>      ],<br>      &quot;webhookId&quot;: &quot;5e7637dd-d222-4786-8cdc-7b66cebc1481&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;path&quot;: &quot;schedule_appointment&quot;,<br>        &quot;options&quot;: {<br>          &quot;ignoreBots&quot;: true,<br>          &quot;appendAttribution&quot;: true,<br>          &quot;useWorkflowTimezone&quot;: true<br>        },<br>        &quot;formTitle&quot;: &quot;Schedule an Appointment&quot;,<br>        &quot;formFields&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;fieldLabel&quot;: &quot;Your Name&quot;,<br>              &quot;placeholder&quot;: &quot;eg. Sam Smith&quot;,<br>              &quot;requiredField&quot;: true<br>            },<br>            {<br>              &quot;fieldType&quot;: &quot;email&quot;,<br>              &quot;fieldLabel&quot;: &quot;Email&quot;,<br>              &quot;placeholder&quot;: &quot;eg. sam@example.com&quot;,<br>              &quot;requiredField&quot;: true<br>            },<br>            {<br>              &quot;fieldType&quot;: &quot;textarea&quot;,<br>              &quot;fieldLabel&quot;: &quot;Enquiry&quot;,<br>              &quot;placeholder&quot;: &quot;eg. I&#39;m looking for...&quot;,<br>              &quot;requiredField&quot;: true<br>            }<br>          ]<br>        },<br>        &quot;formDescription&quot;: &quot;Welcome to Jim&#39;s Appointment Form.\nBefore we set a date, please tell me a little about yourself and how I can help.&quot;<br>      },<br>      &quot;typeVersion&quot;: 2.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;194b7073-fa33-4e75-85ed-c02724c8075c&quot;,<br>      &quot;name&quot;: &quot;Form End&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.form&quot;,<br>      &quot;position&quot;: [<br>        -420,<br>        -260<br>      ],<br>      &quot;webhookId&quot;: &quot;8fcc907b-bc2e-4fdf-a829-82c83e677724&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {<br>          &quot;formTitle&quot;: &quot;Appointment Request Sent!&quot;<br>        },<br>        &quot;operation&quot;: &quot;completion&quot;,<br>        &quot;completionTitle&quot;: &quot;Appointment Request Sent!&quot;,<br>        &quot;completionMessage&quot;: &quot;=Thank you for submitting an appointment request. A confirmation of this request will be sent to your inbox. I&#39;ll get back to you shortly with a confirmation of the appointment.\n\nHere is the summary of the appointment request.\n\nName: {{ $(&#39;Get Form Values&#39;).item.json.name }}\nDate &amp; Time: {{ DateTime.fromISO($(&#39;Get Form Values&#39;).item.json.dateTime).format(&#39;EEE, dd MMM @ t&#39;) }}\nEnquiry: {{ $(&#39;Get Form Values&#39;).item.json.enquiry.trim() }}\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;688ea2cc-b595-4b6f-9214-d5dfd3893172&quot;,<br>      &quot;name&quot;: &quot;Enter Date &amp; Time&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.form&quot;,<br>      &quot;position&quot;: [<br>        -1260,<br>        -320<br>      ],<br>      &quot;webhookId&quot;: &quot;0cd03415-66f8-4c82-8069-5bfd8ea310bd&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {<br>          &quot;formTitle&quot;: &quot;Enter a Date &amp; Time&quot;,<br>          &quot;formDescription&quot;: &quot;=Please select a date and time&quot;<br>        },<br>        &quot;defineForm&quot;: &quot;json&quot;,<br>        &quot;jsonOutput&quot;: &quot;={{\n[\n   {\n      \&quot;fieldLabel\&quot;:\&quot;Date\&quot;,\n      \&quot;requiredField\&quot;:true,\n      \&quot;fieldType\&quot;: \&quot;dropdown\&quot;,\n      \&quot;fieldOptions\&quot;:\n        Array(5).fill(0)\n          .map((_,idx) =&gt; $now.plus(idx+1, &#39;day&#39;))\n          .filter(d =&gt; !d.isWeekend)\n          .map(d =&gt; ({ option: d.format(&#39;EEE, d MMM&#39;) }))\n   },\n   {\n     \&quot;fieldLabel\&quot;: \&quot;Time\&quot;,\n     \&quot;requiredField\&quot;: true,\n     \&quot;fieldType\&quot;: \&quot;dropdown\&quot;,\n     \&quot;fieldOptions\&quot;: [\n        { \&quot;option\&quot;: \&quot;9:00 am\&quot; },\n        { \&quot;option\&quot;: \&quot;10:00 am\&quot; },\n        { \&quot;option\&quot;: \&quot;11:00 am\&quot; },\n        { \&quot;option\&quot;: \&quot;12:00 pm\&quot; },\n        { \&quot;option\&quot;: \&quot;1:00 pm\&quot; },\n        { \&quot;option\&quot;: \&quot;2:00 pm\&quot; },\n        { \&quot;option\&quot;: \&quot;3:00 pm\&quot; },\n        { \&quot;option\&quot;: \&quot;4:00 pm\&quot; },\n        { \&quot;option\&quot;: \&quot;5:00 pm\&quot; },\n        { \&quot;option\&quot;: \&quot;6:00 pm\&quot; }\n     ]\n   }\n]\n}}&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;602c40f9-ab11-4908-aab3-1a199126e097&quot;,<br>      &quot;name&quot;: &quot;Get Form Values&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        -900,<br>        -260<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;mode&quot;: &quot;raw&quot;,<br>        &quot;options&quot;: {},<br>        &quot;jsonOutput&quot;: &quot;={{\n{\n  name: $(&#39;n8n Form Trigger&#39;).first().json[&#39;Your Name&#39;],\n  email: $(&#39;n8n Form Trigger&#39;).first().json.Email,\n  enquiry: $(&#39;n8n Form Trigger&#39;).first().json.Enquiry,\n  dateTime: DateTime.fromFormat(`${$json.Date} ${$json.Time}`, \&quot;EEE, dd MMM t\&quot;),\n  submittedAt: $(&#39;n8n Form Trigger&#39;).first().json.submittedAt,\n}\n}}&quot;<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;21f93645-5e27-4e9f-a72c-47a39e42a79c&quot;,<br>      &quot;name&quot;: &quot;Terms &amp; Conditions&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.form&quot;,<br>      &quot;position&quot;: [<br>        -1680,<br>        -240<br>      ],<br>      &quot;webhookId&quot;: &quot;dcf32f99-8fb7-457a-8a58-ac1a018b1873&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {<br>          &quot;formTitle&quot;: &quot;Before we continue...&quot;,<br>          &quot;formDescription&quot;: &quot;=Terms and Conditions for Booking an Appointment\n\nNon-Binding Nature of Discussions:\nAny information shared, discussed, or agreed upon during the call is non-binding and provisional. No agreement, service, or commitment shall be considered confirmed unless explicitly documented and agreed to in writing.\n\nProhibition of Recording and Note-Taking Tools:\nBy proceeding with the appointment, the user agrees not to use AI assistants, note-taking applications, recording devices, or any other technology to record or transcribe the conversation, whether manually or automatically. This is to ensure confidentiality and respect for the integrity of the discussion.\n\nConfirmation of Understanding:\nBy booking this appointment, you acknowledge and accept these terms and conditions in full.&quot;<br>        },<br>        &quot;formFields&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;fieldType&quot;: &quot;dropdown&quot;,<br>              &quot;fieldLabel&quot;: &quot;Please select&quot;,<br>              &quot;multiselect&quot;: true,<br>              &quot;fieldOptions&quot;: {<br>                &quot;values&quot;: [<br>                  {<br>                    &quot;option&quot;: &quot;I accept the terms and conditions&quot;<br>                  }<br>                ]<br>              },<br>              &quot;requiredField&quot;: true<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;22e03fec-bd56-4fc3-864a-f1e81a864cb5&quot;,<br>      &quot;name&quot;: &quot;OpenAI Chat Model&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.lmChatOpenAi&quot;,<br>      &quot;position&quot;: [<br>        -2340,<br>        -140<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {}<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;openAiApi&quot;: {<br>          &quot;id&quot;: &quot;8gccIjcuf3gvaoEr&quot;,<br>          &quot;name&quot;: &quot;OpenAi account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;8b4e9bba-cd57-46af-8042-4b47e5ebcd82&quot;,<br>      &quot;name&quot;: &quot;Has Accepted?&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.if&quot;,<br>      &quot;position&quot;: [<br>        -1500,<br>        -240<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;conditions&quot;: {<br>          &quot;options&quot;: {<br>            &quot;version&quot;: 2,<br>            &quot;leftValue&quot;: &quot;&quot;,<br>            &quot;caseSensitive&quot;: true,<br>            &quot;typeValidation&quot;: &quot;strict&quot;<br>          },<br>          &quot;combinator&quot;: &quot;and&quot;,<br>          &quot;conditions&quot;: [<br>            {<br>              &quot;id&quot;: &quot;bc7c3e99-e610-4997-82a7-4851f2c04c19&quot;,<br>              &quot;operator&quot;: {<br>                &quot;type&quot;: &quot;string&quot;,<br>                &quot;operation&quot;: &quot;startsWith&quot;<br>              },<br>              &quot;leftValue&quot;: &quot;={{ $json[\&quot;Please select\&quot;] }}&quot;,<br>              &quot;rightValue&quot;: &quot;I accept&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;627a4c00-e831-4a77-8aad-f417f0f8e6dd&quot;,<br>      &quot;name&quot;: &quot;Send Receipt&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.gmail&quot;,<br>      &quot;position&quot;: [<br>        -580,<br>        -260<br>      ],<br>      &quot;webhookId&quot;: &quot;5f590407-4ab9-4ae6-bb85-38dbe41d6dce&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;sendTo&quot;: &quot;={{ $(&#39;Get Form Values&#39;).first().json.email }}&quot;,<br>        &quot;message&quot;: &quot;=&lt;p&gt;Dear {{ $(&#39;Get Form Values&#39;).first().json.name }},&lt;/p&gt;\n&lt;p&gt;Thanks for requesting an appointment. We will review and get back to you shortly.&lt;/p&gt;\n&lt;p&gt;Here is the summary of the request that was sent:&lt;/p&gt;\n&lt;p&gt;\nName: {{ $(&#39;Get Form Values&#39;).first().json.name }}&lt;br/&gt;\nEmail: {{ $(&#39;Get Form Values&#39;).first().json.email }}&lt;br/&gt;\nEnquiry: {{ $(&#39;Get Form Values&#39;).first().json.enquiry }}&lt;br/&gt;\nSubmitted at: {{ $(&#39;Get Form Values&#39;).first().json.submittedAt }}\n&lt;/p&gt;\n&quot;,<br>        &quot;options&quot;: {},<br>        &quot;subject&quot;: &quot;=Appointment Request Received for {{ DateTime.fromISO($(&#39;Get Form Values&#39;).first().json.dateTime).format(&#39;EEE, dd MMM @ t&#39;) }}&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;gmailOAuth2&quot;: {<br>          &quot;id&quot;: &quot;Sf5Gfl9NiFTNXFWb&quot;,<br>          &quot;name&quot;: &quot;Gmail account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;91d3dd7d-53f8-4f8e-9af2-ec54cf7f42ad&quot;,<br>      &quot;name&quot;: &quot;Wait for Approval&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.gmail&quot;,<br>      &quot;position&quot;: [<br>        340,<br>        -260<br>      ],<br>      &quot;webhookId&quot;: &quot;ab9c6c5e-334d-44bb-a8fd-a58140bc680d&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;sendTo&quot;: &quot;=admin@example.com&quot;,<br>        &quot;message&quot;: &quot;=&lt;h2&gt;A new appointment request was submitted!&lt;/h2&gt;\n&lt;p&gt;\nRequesting appointment date is &lt;strong&gt;{{ DateTime.fromISO($(&#39;Execute Workflow Trigger&#39;).item.json.dateTime).format(&#39;EEE, dd MMM @ t&#39;) }}&lt;/strong&gt;.\n&lt;/p&gt;\n&lt;p&gt;\nName: {{ $(&#39;Execute Workflow Trigger&#39;).first().json.name }}&lt;br/&gt;\nEmail: {{ $(&#39;Execute Workflow Trigger&#39;).first().json.email }}&lt;br/&gt;\nEnquiry Summary: {{ $json.text }}&lt;br/&gt;\nSubmitted at: {{ $(&#39;Execute Workflow Trigger&#39;).first().json.submittedAt }}\n&lt;/p&gt;&quot;,<br>        &quot;subject&quot;: &quot;New Appointment Request!&quot;,<br>        &quot;operation&quot;: &quot;sendAndWait&quot;,<br>        &quot;approvalOptions&quot;: {<br>          &quot;values&quot;: {<br>            &quot;approvalType&quot;: &quot;double&quot;,<br>            &quot;approveLabel&quot;: &quot;Confirm&quot;<br>          }<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;gmailOAuth2&quot;: {<br>          &quot;id&quot;: &quot;Sf5Gfl9NiFTNXFWb&quot;,<br>          &quot;name&quot;: &quot;Gmail account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;7a02b57b-b9b1-45b1-9b3d-aebb84259875&quot;,<br>      &quot;name&quot;: &quot;Has Approval?&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.if&quot;,<br>      &quot;position&quot;: [<br>        520,<br>        -260<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;conditions&quot;: {<br>          &quot;options&quot;: {<br>            &quot;version&quot;: 2,<br>            &quot;leftValue&quot;: &quot;&quot;,<br>            &quot;caseSensitive&quot;: true,<br>            &quot;typeValidation&quot;: &quot;strict&quot;<br>          },<br>          &quot;combinator&quot;: &quot;and&quot;,<br>          &quot;conditions&quot;: [<br>            {<br>              &quot;id&quot;: &quot;e5e37acb-9e9d-4a9e-bf59-a35dfc035886&quot;,<br>              &quot;operator&quot;: {<br>                &quot;type&quot;: &quot;boolean&quot;,<br>                &quot;operation&quot;: &quot;true&quot;,<br>                &quot;singleValue&quot;: true<br>              },<br>              &quot;leftValue&quot;: &quot;={{ $json.data.approved }}&quot;,<br>              &quot;rightValue&quot;: &quot;&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;96aab8be-4c5e-4e14-a6ea-6d2b743551be&quot;,<br>      &quot;name&quot;: &quot;OpenAI Chat Model1&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.lmChatOpenAi&quot;,<br>      &quot;position&quot;: [<br>        0,<br>        -120<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {}<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;openAiApi&quot;: {<br>          &quot;id&quot;: &quot;8gccIjcuf3gvaoEr&quot;,<br>          &quot;name&quot;: &quot;OpenAi account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;6f2b5454-70a3-4391-b785-bb871c3e2081&quot;,<br>      &quot;name&quot;: &quot;Create Appointment&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleCalendar&quot;,<br>      &quot;position&quot;: [<br>        720,<br>        -340<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;end&quot;: &quot;={{ DateTime.fromISO($(&#39;Execute Workflow Trigger&#39;).first().json.dateTime).plus(30, &#39;minute&#39;).toISO() }}&quot;,<br>        &quot;start&quot;: &quot;={{ $(&#39;Execute Workflow Trigger&#39;).first().json.dateTime }}&quot;,<br>        &quot;calendar&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;c_5792bdf04bc395cbcbc6f7b754268245a33779d36640cc80a357711aa2f09a0a@group.calendar.google.com&quot;,<br>          &quot;cachedResultName&quot;: &quot;n8n-events&quot;<br>        },<br>        &quot;additionalFields&quot;: {<br>          &quot;summary&quot;: &quot;=Appointment Scheduled - {{ $(&#39;Execute Workflow Trigger&#39;).item.json.name }} &amp; Jim&quot;,<br>          &quot;attendees&quot;: [<br>            &quot;={{ $(&#39;Execute Workflow Trigger&#39;).item.json.email }}&quot;<br>          ],<br>          &quot;description&quot;: &quot;={{ $(&#39;Summarise Enquiry&#39;).first().json.text }}\n\nOriginal message:\n&gt; {{ $(&#39;Execute Workflow Trigger&#39;).item.json.enquiry }}&quot;,<br>          &quot;conferenceDataUi&quot;: {<br>            &quot;conferenceDataValues&quot;: {<br>              &quot;conferenceSolution&quot;: &quot;hangoutsMeet&quot;<br>            }<br>          }<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googleCalendarOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;kWMxmDbMDDJoYFVK&quot;,<br>          &quot;name&quot;: &quot;Google Calendar account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;e6881867-5b3c-4b85-b06a-a0a3c01be227&quot;,<br>      &quot;name&quot;: &quot;Send Rejection&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.gmail&quot;,<br>      &quot;position&quot;: [<br>        720,<br>        -180<br>      ],<br>      &quot;webhookId&quot;: &quot;5f590407-4ab9-4ae6-bb85-38dbe41d6dce&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;sendTo&quot;: &quot;={{ $(&#39;Execute Workflow Trigger&#39;).first().json.email }}&quot;,<br>        &quot;message&quot;: &quot;=&lt;p&gt;Dear {{ $(&#39;Execute Workflow Trigger&#39;).first().json.name }},&lt;/p&gt;\n&lt;p&gt;Unfortunately, we cannot schedule the requested appointment at the requested time.&lt;/p&gt;\n&lt;p&gt;Kind regards&lt;/p&gt;\n&quot;,<br>        &quot;options&quot;: {},<br>        &quot;subject&quot;: &quot;=Appointment Request Rejected for {{ DateTime.fromISO($(&#39;Execute Workflow Trigger&#39;).first().json.dateTime).format(&#39;EEE, dd MMM @ t&#39;) }}&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;gmailOAuth2&quot;: {<br>          &quot;id&quot;: &quot;Sf5Gfl9NiFTNXFWb&quot;,<br>          &quot;name&quot;: &quot;Gmail account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;40785eca-943c-45f6-b4a9-0c95538621ed&quot;,<br>      &quot;name&quot;: &quot;Sticky Note3&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -2580,<br>        -555.2889298043726<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 763.0427617951669,<br>        &quot;height&quot;: 611.898918296892,<br>        &quot;content&quot;: &quot;## 1. Qualify Enquiries Using AI\n[Learn more about the text classifier](https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.text-classifier/)\n\nWith n8n&#39;s multi-forms, you‚Äôre no longer stuck creating long, overwhelming forms. Instead, you have more flexibility and control to design smarter, more engaging form experiences.\n\nIn this demo, we‚Äôll explore an appointment request scenario where a user wants to schedule a call to discuss their inquiry. However, not all inquiries require a meeting, making it a perfect use case for AI to pre-qualify the request. We can handle this validation using the text classifier node.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;985be8d1-e77a-475b-9ac2-dba163dbd950&quot;,<br>      &quot;name&quot;: &quot;Sticky Note6&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -1800,<br>        -549.8684464902185<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 781.472405063291,<br>        &quot;height&quot;: 606.0718987341766,<br>        &quot;content&quot;: &quot;## 2. Split Form For Better User Experience\n[Learn more about the forms](https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.form)\n\nOnboarding is a great reason to split your big form into smaller ones. Taking the user through a step by step process ensures a smooth experience and keeps them engaged throughout.\n\nHere, we take the opportunity of the extra context space to display a terms and conditions which the user must agree to making their request. The next form then asks for desired date and time of the event.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;9b0a3f0e-e15d-4d0e-b620-1acc78bf812c&quot;,<br>      &quot;name&quot;: &quot;Decline&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.form&quot;,<br>      &quot;position&quot;: [<br>        -2020,<br>        -160<br>      ],<br>      &quot;webhookId&quot;: &quot;4353eadb-b7a0-45f2-8dd8-5f6cd882d8d8&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;operation&quot;: &quot;completion&quot;,<br>        &quot;completionTitle&quot;: &quot;Send me a DM Instead!&quot;,<br>        &quot;completionMessage&quot;: &quot;Thanks for your enquiry but it may not necessarily need an appointment. Please feel free to email me instead at jim@example.com.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;fcd3eb7d-6389-4c07-97cc-275ae387c963&quot;,<br>      &quot;name&quot;: &quot;Decline1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.form&quot;,<br>      &quot;position&quot;: [<br>        -1260,<br>        -160<br>      ],<br>      &quot;webhookId&quot;: &quot;4353eadb-b7a0-45f2-8dd8-5f6cd882d8d8&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;operation&quot;: &quot;completion&quot;,<br>        &quot;completionTitle&quot;: &quot;Send me a DM Instead!&quot;,<br>        &quot;completionMessage&quot;: &quot;Thanks for your enquiry but it may not necessarily need an appointment. Please feel free to email me instead at jim@example.com.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;d89427cb-fffb-4aa4-b55c-b315fa0e92be&quot;,<br>      &quot;name&quot;: &quot;Sticky Note7&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -1000,<br>        -498.80432681242814<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 792.9401150747982,<br>        &quot;height&quot;: 497.4250863060987,<br>        &quot;content&quot;: &quot;## 3. Send Acknowledgement to User and Start Approval Process\n[Learn more about the Gmail node](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.gmail/)\n\nOnce all form steps are concluded, we can send a notification to the requester via email and in the background, trigger another email to the admin to initiate the approval process. The approval process works in a separate execution so doesn&#39;t interrupt the user&#39;s form experience.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;041081e1-ee98-4b40-aa14-1980b23f4031&quot;,<br>      &quot;name&quot;: &quot;Sticky Note8&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -160,<br>        -620<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 609.4228768699652,<br>        &quot;height&quot;: 287.178089758343,<br>        &quot;content&quot;: &quot;## 4. Approve or Decline Appointment\n[Learn more about the Waiting for Approval](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.gmail/message-operations/#send-a-message-and-wait-for-approval)\n\nThe Wait for Approval feature for Gmail is a special operation which allows for human-in-the-loop interaction in n8n workflows. In this example, the human interaction is the approval of the appointment request. The feature will put the workflow in a waiting state where a message is sent to the admin with 2 buttons: confirm and decline.\n\nWhen the admin clicks on the confirm button, the workflow resumes from the Gmail node and a meeting event is created for the requesting user in Google Calendar.\n\nWhen declined, a rejection email is sent to the requester instead.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;d6af0f50-234f-46ca-aa41-7f3891aff8a3&quot;,<br>      &quot;name&quot;: &quot;Trigger Approval Process&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.executeWorkflow&quot;,<br>      &quot;position&quot;: [<br>        -740,<br>        -260<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;mode&quot;: &quot;each&quot;,<br>        &quot;options&quot;: {<br>          &quot;waitForSubWorkflow&quot;: false<br>        },<br>        &quot;workflowId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;id&quot;,<br>          &quot;value&quot;: &quot;={{ $workflow.id }}&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;e524d6df-9b6d-4d61-8e71-08a0d3a751d7&quot;,<br>      &quot;name&quot;: &quot;Execute Workflow Trigger&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.executeWorkflowTrigger&quot;,<br>      &quot;position&quot;: [<br>        -160,<br>        -260<br>      ],<br>      &quot;parameters&quot;: {},<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;74dccbc1-7728-4336-a18a-2541007fd369&quot;,<br>      &quot;name&quot;: &quot;Summarise Enquiry&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.chainLlm&quot;,<br>      &quot;position&quot;: [<br>        0,<br>        -260<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;text&quot;: &quot;=The enquiry is as follows:\n{{ $(&#39;Execute Workflow Trigger&#39;).first().json.enquiry.substring(0, 500) }}&quot;,<br>        &quot;messages&quot;: {<br>          &quot;messageValues&quot;: [<br>            {<br>              &quot;message&quot;: &quot;Summarise the given enquiry&quot;<br>            }<br>          ]<br>        },<br>        &quot;promptType&quot;: &quot;define&quot;<br>      },<br>      &quot;typeVersion&quot;: 1.5<br>    },<br>    {<br>      &quot;id&quot;: &quot;b74f0f5a-39f0-4db3-beba-03caf981c5d2&quot;,<br>      &quot;name&quot;: &quot;Sticky Note9&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -3080,<br>        -640<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 468.6766398158801,<br>        &quot;height&quot;: 690.6653164556957,<br>        &quot;content&quot;: &quot;## Try it out!\n\n### This n8n template is a simple appointment scheduling workflow using n8n forms with AI thrown in the mix for good measure. It also uses n8n&#39;s wait for approval feature which allows the ability to confirm appointment requests and create events in Google Calendar.\n\n### How it works\n* We start with a form trigger which asks for the purpose of the appointment.\n* Instantly, we can qualify this by using a text classifier node which uses AI&#39;s contextual understanding to ensure the appointment is worthwhile. If not, an alternative is suggested instead.\n* Multi-page forms are then used to set the terms of the appointment and ask the user for a desired date and time.\n* An acknowledgement is sent to the user while an approval by email process is triggered in the background.\n* In a subworkflow, we use Gmail with the wait for approval operation to send an approval form to the admin user who can either confirm or decline the appointment request.\n* When approved, a Google Calendar event is created. When declined, the user is notified  via email that the appointment request was declined.\n\n### Need Help?\nJoin the [Discord](https://discord.com/invite/XPKeKXeB7d) or ask in the [Forum](https://community.n8n.io/)!\n\nHappy Hacking!\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;d3c87dfa-d6e5-402a-89e5-6d8f93b824a6&quot;,<br>      &quot;name&quot;: &quot;Sticky Note&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        299,<br>        -280<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 177.66444188722656,<br>        &quot;height&quot;: 257.56869965477557,<br>        &quot;content&quot;: &quot;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n### üö® Set your admin email here!&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;6351121d-6ebe-432d-b370-13296fd58e1a&quot;,<br>      &quot;name&quot;: &quot;Enquiry Classifier&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.textClassifier&quot;,<br>      &quot;position&quot;: [<br>        -2340,<br>        -280<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {<br>          &quot;fallback&quot;: &quot;other&quot;<br>        },<br>        &quot;inputText&quot;: &quot;={{ $json.Enquiry }}&quot;,<br>        &quot;categories&quot;: {<br>          &quot;categories&quot;: [<br>            {<br>              &quot;category&quot;: &quot;relevant enquiry&quot;,<br>              &quot;description&quot;: &quot;Enquire about AI, automation, digital products and product engineering.&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    }<br>  ],<br>  &quot;pinData&quot;: {},<br>  &quot;connections&quot;: {<br>    &quot;Send Receipt&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Form End&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Has Accepted?&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Enter Date &amp; Time&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;Decline1&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Has Approval?&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Create Appointment&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;Send Rejection&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Get Form Values&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Trigger Approval Process&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;n8n Form Trigger&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Enquiry Classifier&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Enter Date &amp; Time&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Get Form Values&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;OpenAI Chat Model&quot;: {<br>      &quot;ai_languageModel&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Enquiry Classifier&quot;,<br>            &quot;type&quot;: &quot;ai_languageModel&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Summarise Enquiry&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Wait for Approval&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Wait for Approval&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Has Approval?&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Enquiry Classifier&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Terms &amp; Conditions&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;Decline&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;OpenAI Chat Model1&quot;: {<br>      &quot;ai_languageModel&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Summarise Enquiry&quot;,<br>            &quot;type&quot;: &quot;ai_languageModel&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Terms &amp; Conditions&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Has Accepted?&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Execute Workflow Trigger&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Summarise Enquiry&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Trigger Approval Process&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Send Receipt&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    }<br>  }<br>}</div></td></tr><tr style="height: 59px"><th id="0R29" style="height: 59px;" class="row-headers-background"><div class="row-header-wrapper" style="line-height: 59px">30</div></th><td class="s7" dir="ltr">üöÄ Mejora tu atenci√≥n al cliente con este bot de WhatsApp Business</td><td class="s8 softmerge" dir="ltr"><div class="softmerge-inner" style="width:3057px;left:-3px">{<br>  &quot;id&quot;: &quot;NzoLNV2FbS4eurJ7&quot;,<br>  &quot;meta&quot;: {<br>    &quot;instanceId&quot;: &quot;fb924c73af8f703905bc09c9ee8076f48c17b596ed05b18c0ff86915ef8a7c4a&quot;,<br>    &quot;templateCredsSetupCompleted&quot;: true<br>  },<br>  &quot;name&quot;: &quot;WhatsApp business bot&quot;,<br>  &quot;tags&quot;: [],<br>  &quot;nodes&quot;: [<br>    {<br>      &quot;id&quot;: &quot;4ca5e25a-f67b-4874-af20-680d1a6ac731&quot;,<br>      &quot;name&quot;: &quot;Sent notification  template&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.whatsApp&quot;,<br>      &quot;position&quot;: [<br>        1140,<br>        320<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;template&quot;: &quot;test_appointment_button|en_US&quot;,<br>        &quot;components&quot;: {<br>          &quot;component&quot;: [<br>            {<br>              &quot;type&quot;: &quot;header&quot;,<br>              &quot;headerParameters&quot;: {<br>                &quot;parameter&quot;: [<br>                  {<br>                    &quot;text&quot;: &quot;üìÖ&quot;<br>                  }<br>                ]<br>              }<br>            },<br>            {<br>              &quot;bodyParameters&quot;: {<br>                &quot;parameter&quot;: [<br>                  {<br>                    &quot;text&quot;: &quot;={{ $json[\&quot;Your name\&quot;] }}&quot;<br>                  },<br>                  {<br>                    &quot;text&quot;: &quot;={{ DateTime.fromFormat($json[\&quot;Please pick a day and time of your appointment\&quot;], \&quot;M/d/yyyy HH:mm:ss\&quot;).toLocaleString(DateTime.DATE_HUGE); }}&quot;<br>                  },<br>                  {<br>                    &quot;text&quot;: &quot;={{ $json[\&quot;Please pick a day and time of your appointment\&quot;].split(&#39; &#39;)[1] }}&quot;<br>                  }<br>                ]<br>              }<br>            }<br>          ]<br>        },<br>        &quot;phoneNumberId&quot;: &quot;=244242975437240&quot;,<br>        &quot;requestOptions&quot;: {},<br>        &quot;recipientPhoneNumber&quot;: &quot;={{ $json[\&quot;Your mobile number\&quot;] }}&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;whatsAppApi&quot;: {<br>          &quot;id&quot;: &quot;mm0r1xKc6N8XktAD&quot;,<br>          &quot;name&quot;: &quot;WhatsApp account 2&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;877c62c5-9869-48fc-bd74-35897dbd2276&quot;,<br>      &quot;name&quot;: &quot;WhatsApp Trigger&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.whatsAppTrigger&quot;,<br>      &quot;position&quot;: [<br>        700,<br>        800<br>      ],<br>      &quot;webhookId&quot;: &quot;b06b387a-481e-43f1-9035-01a87123ad88&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;updates&quot;: [<br>          &quot;messages&quot;<br>        ]<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;whatsAppTriggerApi&quot;: {<br>          &quot;id&quot;: &quot;bWqGRWeDXvGTdSq5&quot;,<br>          &quot;name&quot;: &quot;WhatsApp Trigger&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;6c0edf48-20af-42fb-a436-aee3a9a4f6cc&quot;,<br>      &quot;name&quot;: &quot;Is message?&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.if&quot;,<br>      &quot;position&quot;: [<br>        920,<br>        800<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {<br>          &quot;looseTypeValidation&quot;: true<br>        },<br>        &quot;conditions&quot;: {<br>          &quot;options&quot;: {<br>            &quot;leftValue&quot;: &quot;&quot;,<br>            &quot;caseSensitive&quot;: true,<br>            &quot;typeValidation&quot;: &quot;loose&quot;<br>          },<br>          &quot;combinator&quot;: &quot;and&quot;,<br>          &quot;conditions&quot;: [<br>            {<br>              &quot;id&quot;: &quot;8a765e57-8e39-4547-a99a-0458df2b75f4&quot;,<br>              &quot;operator&quot;: {<br>                &quot;type&quot;: &quot;object&quot;,<br>                &quot;operation&quot;: &quot;exists&quot;,<br>                &quot;singleValue&quot;: true<br>              },<br>              &quot;leftValue&quot;: &quot;={{ $json.messages[0] }}&quot;,<br>              &quot;rightValue&quot;: &quot;&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;00006406-47be-4693-9763-a21d06b13d51&quot;,<br>      &quot;name&quot;: &quot;Schedule Trigger&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.scheduleTrigger&quot;,<br>      &quot;position&quot;: [<br>        680,<br>        1184<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;rule&quot;: {<br>          &quot;interval&quot;: [<br>            {<br>              &quot;field&quot;: &quot;minutes&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;b9919c0d-eeb2-4a5e-a91f-3dad11b778f8&quot;,<br>      &quot;name&quot;: &quot;Loop Over Items&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.splitInBatches&quot;,<br>      &quot;position&quot;: [<br>        1120,<br>        1184<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 3<br>    },<br>    {<br>      &quot;id&quot;: &quot;8f0dc664-715f-4074-b0f7-98d3c7f563a5&quot;,<br>      &quot;name&quot;: &quot;Get new answers&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleSheets&quot;,<br>      &quot;position&quot;: [<br>        900,<br>        1184<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;filtersUI&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;lookupValue&quot;: &quot;Ready&quot;,<br>              &quot;lookupColumn&quot;: &quot;Status&quot;<br>            }<br>          ]<br>        },<br>        &quot;sheetName&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: 1621824221,<br>          &quot;cachedResultUrl&quot;: &quot;https://docs.google.com/spreadsheets/d/1T-B0yepcrCHxQpn7Sj6QjTa0VqwwVBQhO5ZcIUSxWJE/edit#gid=1621824221&quot;,<br>          &quot;cachedResultName&quot;: &quot;WA-messages&quot;<br>        },<br>        &quot;documentId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;1T-B0yepcrCHxQpn7Sj6QjTa0VqwwVBQhO5ZcIUSxWJE&quot;,<br>          &quot;cachedResultUrl&quot;: &quot;https://docs.google.com/spreadsheets/d/1T-B0yepcrCHxQpn7Sj6QjTa0VqwwVBQhO5ZcIUSxWJE/edit?usp=drivesdk&quot;,<br>          &quot;cachedResultName&quot;: &quot;WhatsApp Appointments (Responses)&quot;<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googleSheetsOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;RtRiRezoxiWkzZQt&quot;,<br>          &quot;name&quot;: &quot;Ted&#39;s Tech Talks Google account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 4.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;a7b07f7e-1287-4e8f-b28a-4c656f386f8a&quot;,<br>      &quot;name&quot;: &quot;Reply to the user&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.whatsApp&quot;,<br>      &quot;position&quot;: [<br>        1340,<br>        1184<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;textBody&quot;: &quot;={{ $json.ReplyText }}&quot;,<br>        &quot;operation&quot;: &quot;send&quot;,<br>        &quot;phoneNumberId&quot;: &quot;244242975437240&quot;,<br>        &quot;requestOptions&quot;: {},<br>        &quot;additionalFields&quot;: {},<br>        &quot;recipientPhoneNumber&quot;: &quot;=+{{ $json.UserPhone }}&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;whatsAppApi&quot;: {<br>          &quot;id&quot;: &quot;mm0r1xKc6N8XktAD&quot;,<br>          &quot;name&quot;: &quot;WhatsApp account 2&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;30f0a7da-c3ce-448c-ad05-b8b75da3d319&quot;,<br>      &quot;name&quot;: &quot;Update message status&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleSheets&quot;,<br>      &quot;position&quot;: [<br>        1520,<br>        1184<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;columns&quot;: {<br>          &quot;value&quot;: {<br>            &quot;Status&quot;: &quot;Replied&quot;,<br>            &quot;row_number&quot;: &quot;={{ $(&#39;Loop Over Items&#39;).item.json.row_number }}&quot;<br>          },<br>          &quot;schema&quot;: [<br>            {<br>              &quot;id&quot;: &quot;UserPhone&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;removed&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;UserPhone&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;UserName&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;removed&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;UserName&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;UserMessage&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;removed&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;UserMessage&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;ReplyText&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;removed&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;ReplyText&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;Status&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;Status&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;row_number&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;removed&quot;: false,<br>              &quot;readOnly&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;row_number&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            }<br>          ],<br>          &quot;mappingMode&quot;: &quot;defineBelow&quot;,<br>          &quot;matchingColumns&quot;: [<br>            &quot;row_number&quot;<br>          ]<br>        },<br>        &quot;options&quot;: {},<br>        &quot;operation&quot;: &quot;update&quot;,<br>        &quot;sheetName&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: 1621824221,<br>          &quot;cachedResultUrl&quot;: &quot;https://docs.google.com/spreadsheets/d/1T-B0yepcrCHxQpn7Sj6QjTa0VqwwVBQhO5ZcIUSxWJE/edit#gid=1621824221&quot;,<br>          &quot;cachedResultName&quot;: &quot;WA-messages&quot;<br>        },<br>        &quot;documentId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;1T-B0yepcrCHxQpn7Sj6QjTa0VqwwVBQhO5ZcIUSxWJE&quot;,<br>          &quot;cachedResultUrl&quot;: &quot;https://docs.google.com/spreadsheets/d/1T-B0yepcrCHxQpn7Sj6QjTa0VqwwVBQhO5ZcIUSxWJE/edit?usp=drivesdk&quot;,<br>          &quot;cachedResultName&quot;: &quot;WhatsApp Appointments (Responses)&quot;<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googleSheetsOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;RtRiRezoxiWkzZQt&quot;,<br>          &quot;name&quot;: &quot;Ted&#39;s Tech Talks Google account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 4.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;95486a27-a667-4555-8924-53d46b19de43&quot;,<br>      &quot;name&quot;: &quot;Wait 1 sec&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.wait&quot;,<br>      &quot;position&quot;: [<br>        1700,<br>        1184<br>      ],<br>      &quot;webhookId&quot;: &quot;df4df4f8-378c-4228-b1e2-326b9d956e7e&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;amount&quot;: 1<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;21551e78-428f-4730-a337-48d1a80bf703&quot;,<br>      &quot;name&quot;: &quot;New message from the user&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleSheets&quot;,<br>      &quot;position&quot;: [<br>        1140,<br>        800<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;columns&quot;: {<br>          &quot;value&quot;: {<br>            &quot;Status&quot;: &quot;New&quot;,<br>            &quot;UserName&quot;: &quot;={{ $json.contacts[0].profile.name }}&quot;,<br>            &quot;UserPhone&quot;: &quot;={{ $json.messages[0].from }}&quot;,<br>            &quot;UserMessage&quot;: &quot;={{ $json.messages[0].text.body }}&quot;<br>          },<br>          &quot;schema&quot;: [<br>            {<br>              &quot;id&quot;: &quot;UserPhone&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;UserPhone&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;UserName&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;UserName&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;UserMessage&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;UserMessage&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;ReplyText&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;removed&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;ReplyText&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;Status&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;Status&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            }<br>          ],<br>          &quot;mappingMode&quot;: &quot;defineBelow&quot;,<br>          &quot;matchingColumns&quot;: []<br>        },<br>        &quot;options&quot;: {},<br>        &quot;operation&quot;: &quot;append&quot;,<br>        &quot;sheetName&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: 1621824221,<br>          &quot;cachedResultUrl&quot;: &quot;https://docs.google.com/spreadsheets/d/1T-B0yepcrCHxQpn7Sj6QjTa0VqwwVBQhO5ZcIUSxWJE/edit#gid=1621824221&quot;,<br>          &quot;cachedResultName&quot;: &quot;WA-messages&quot;<br>        },<br>        &quot;documentId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;1T-B0yepcrCHxQpn7Sj6QjTa0VqwwVBQhO5ZcIUSxWJE&quot;,<br>          &quot;cachedResultUrl&quot;: &quot;https://docs.google.com/spreadsheets/d/1T-B0yepcrCHxQpn7Sj6QjTa0VqwwVBQhO5ZcIUSxWJE/edit?usp=drivesdk&quot;,<br>          &quot;cachedResultName&quot;: &quot;WhatsApp Appointments (Responses)&quot;<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googleSheetsOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;RtRiRezoxiWkzZQt&quot;,<br>          &quot;name&quot;: &quot;Ted&#39;s Tech Talks Google account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 4.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;e1478757-0094-4bcb-998f-7e3e81958319&quot;,<br>      &quot;name&quot;: &quot;Get new entries&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleSheetsTrigger&quot;,<br>      &quot;position&quot;: [<br>        700,<br>        320<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;event&quot;: &quot;rowAdded&quot;,<br>        &quot;options&quot;: {},<br>        &quot;pollTimes&quot;: {<br>          &quot;item&quot;: [<br>            {<br>              &quot;mode&quot;: &quot;everyX&quot;,<br>              &quot;unit&quot;: &quot;minutes&quot;,<br>              &quot;value&quot;: 5<br>            }<br>          ]<br>        },<br>        &quot;sheetName&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: 470797219,<br>          &quot;cachedResultUrl&quot;: &quot;https://docs.google.com/spreadsheets/d/1T-B0yepcrCHxQpn7Sj6QjTa0VqwwVBQhO5ZcIUSxWJE/edit#gid=470797219&quot;,<br>          &quot;cachedResultName&quot;: &quot;Form Responses 1&quot;<br>        },<br>        &quot;documentId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;1T-B0yepcrCHxQpn7Sj6QjTa0VqwwVBQhO5ZcIUSxWJE&quot;,<br>          &quot;cachedResultUrl&quot;: &quot;https://docs.google.com/spreadsheets/d/1T-B0yepcrCHxQpn7Sj6QjTa0VqwwVBQhO5ZcIUSxWJE/edit?usp=drivesdk&quot;,<br>          &quot;cachedResultName&quot;: &quot;WhatsApp Appointments (Responses)&quot;<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googleSheetsTriggerOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;m33qCYf9eEvSgo0x&quot;,<br>          &quot;name&quot;: &quot;Ted&#39;s Tech Talks Google Sheets Trigger&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;14811434-d716-4999-ab53-761fc355ee09&quot;,<br>      &quot;name&quot;: &quot;User consented for WA messages?&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.filter&quot;,<br>      &quot;position&quot;: [<br>        920,<br>        320<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;conditions&quot;: {<br>          &quot;options&quot;: {<br>            &quot;leftValue&quot;: &quot;&quot;,<br>            &quot;caseSensitive&quot;: true,<br>            &quot;typeValidation&quot;: &quot;strict&quot;<br>          },<br>          &quot;combinator&quot;: &quot;and&quot;,<br>          &quot;conditions&quot;: [<br>            {<br>              &quot;id&quot;: &quot;b9bfdb33-0d9c-4320-b4bc-0bf0a469c8ca&quot;,<br>              &quot;operator&quot;: {<br>                &quot;name&quot;: &quot;filter.operator.equals&quot;,<br>                &quot;type&quot;: &quot;string&quot;,<br>                &quot;operation&quot;: &quot;equals&quot;<br>              },<br>              &quot;leftValue&quot;: &quot;={{ $json[\&quot;I consent to receive WhatsApp notifications regarding my appointments\&quot;] }}&quot;,<br>              &quot;rightValue&quot;: &quot;Yes&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;20bec538-5d04-4382-ba88-a2c15421c8e7&quot;,<br>      &quot;name&quot;: &quot;Sticky Note&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        660,<br>        83.6407185628741<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 744.5356369854154,<br>        &quot;height&quot;: 404.8383233532937,<br>        &quot;content&quot;: &quot;## Send a WhatsApp (WA) template message\nOccurs after a user submitted a new Google form. If the user opted-in for WA notifications during the form submission, a template message will be sent via WhatsApp.\n\n**IMPORTANT!**\n1. You will need to create a new WA template message on the [Meta Business portal](https://business.facebook.com/wa/manage/message-templates/)\n2. To send outgoing WA messages you&#39;ll need an Access Token and a WhatsApp Business Account ID. These can be obtained via Meta Developers Portal after creating an a new App. Please refer to this [n8n blog article on creating WhatsApp bots](https://blog.n8n.io/whatsapp-bot/#step-1-set-up-a-whatsapp-business-account)&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;ab7bd838-2ed1-4645-b3d9-69617a888090&quot;,<br>      &quot;name&quot;: &quot;Sticky Note1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        660,<br>        526.8263473053893<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 752.168692512586,<br>        &quot;height&quot;: 437.60479041916165,<br>        &quot;content&quot;: &quot;## Store incoming WhatsApp user messages in a Google Sheet\nTo receive user messages, you need to add a WhatsApp Trigger node. In the credentials section provide an App ID and an App secret. These are obtained from the Meta Developers Portal, Basic App settings screen\n\nAfter the credentials are added, copy the trigger URL and enter it into the &#39;Callback URL&#39; field in the WhatsApp configuration window in the Meta Developer portal.\n\nOnce the trigger receives a payload from WhatsApp, we check if the incoming data contains a message and add a new row with user data and message text in [Google Sheet](https://docs.google.com/spreadsheets/d/1T-B0yepcrCHxQpn7Sj6QjTa0VqwwVBQhO5ZcIUSxWJE/edit?gid=1621824221#gid=1621824221).\n\nWhatsApp trigger also receives status notifications (i.e. message sent, message read etc.), so we ignore such notifications in this workflow.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;b0c62bd4-d6bc-425b-b506-b6820b3e6dc5&quot;,<br>      &quot;name&quot;: &quot;Sticky Note2&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        660,<br>        1000<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 1197.9640718562885,<br>        &quot;height&quot;: 369.34131736526945,<br>        &quot;content&quot;: &quot;## Reply to the user via WhatsApp\nWhatsApp allows sending automatic messages **with custom text** via bots only within the 24h time frame after the last incoming user message.\n\nAfter the user sends a message to the WhatsApp bot, a row is added to the [Google Sheet](https://docs.google.com/spreadsheets/d/1T-B0yepcrCHxQpn7Sj6QjTa0VqwwVBQhO5ZcIUSxWJE/edit?gid=1621824221#gid=1621824221) with the Status &#39;New&#39;\n\nType something in the `ReplyText` column and change the Status to &#39;Ready&#39;.\nIn a few minutes, n8n timer will fetch all &#39;Ready&#39; replies from the Google Sheet and send them one by one to the recipients&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    }<br>  ],<br>  &quot;active&quot;: true,<br>  &quot;pinData&quot;: {},<br>  &quot;settings&quot;: {<br>    &quot;callerPolicy&quot;: &quot;workflowsFromSameOwner&quot;,<br>    &quot;executionOrder&quot;: &quot;v1&quot;,<br>    &quot;saveManualExecutions&quot;: true,<br>    &quot;saveDataSuccessExecution&quot;: &quot;all&quot;<br>  },<br>  &quot;versionId&quot;: &quot;66863e99-c756-48d5-b8e0-af0907623e8a&quot;,<br>  &quot;connections&quot;: {<br>    &quot;Wait 1 sec&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Loop Over Items&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Is message?&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;New message from the user&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Get new answers&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Loop Over Items&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Get new entries&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;User consented for WA messages?&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Loop Over Items&quot;: {<br>      &quot;main&quot;: [<br>        [],<br>        [<br>          {<br>            &quot;node&quot;: &quot;Reply to the user&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Schedule Trigger&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Get new answers&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;WhatsApp Trigger&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Is message?&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Reply to the user&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Update message status&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Update message status&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Wait 1 sec&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;User consented for WA messages?&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Sent notification  template&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    }<br>  }<br>}</div></td></tr><tr style="height: 59px"><th id="0R30" style="height: 59px;" class="row-headers-background"><div class="row-header-wrapper" style="line-height: 59px">31</div></th><td class="s7" dir="ltr">Agente de IA para chatear con archivos en almacenamiento Supabase</td><td class="s8 softmerge" dir="ltr"><div class="softmerge-inner" style="width:5538px;left:-3px">{<br>  &quot;meta&quot;: {<br>    &quot;instanceId&quot;: &quot;6a2a7715680b8313f7cb4676321c5baa46680adfb913072f089f2766f42e43bd&quot;<br>  },<br>  &quot;nodes&quot;: [<br>    {<br>      &quot;id&quot;: &quot;f577f6bd-b1a4-48ec-9329-7bccc3fc1463&quot;,<br>      &quot;name&quot;: &quot;Get All files&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.httpRequest&quot;,<br>      &quot;position&quot;: [<br>        400,<br>        -100<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;url&quot;: &quot;=https://yqtvdcvjboenlblgcivl.supabase.co/storage/v1/object/list/private&quot;,<br>        &quot;method&quot;: &quot;POST&quot;,<br>        &quot;options&quot;: {},<br>        &quot;jsonBody&quot;: &quot;={\n  \&quot;prefix\&quot;: \&quot;\&quot;,\n  \&quot;limit\&quot;: 100,\n  \&quot;offset\&quot;: 0,\n  \&quot;sortBy\&quot;: {\n    \&quot;column\&quot;: \&quot;name\&quot;,\n    \&quot;order\&quot;: \&quot;asc\&quot;\n  }\n}&quot;,<br>        &quot;sendBody&quot;: true,<br>        &quot;specifyBody&quot;: &quot;json&quot;,<br>        &quot;authentication&quot;: &quot;predefinedCredentialType&quot;,<br>        &quot;nodeCredentialType&quot;: &quot;supabaseApi&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;supabaseApi&quot;: {<br>          &quot;id&quot;: &quot;t8AQJzvZvrOMDLec&quot;,<br>          &quot;name&quot;: &quot;Supabase account My Airtable Gen&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 4.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;10693bc8-560d-4cf6-8bd0-2fe3f4d863d1&quot;,<br>      &quot;name&quot;: &quot;Default Data Loader&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.documentDefaultDataLoader&quot;,<br>      &quot;position&quot;: [<br>        1780,<br>        100<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {<br>          &quot;metadata&quot;: {<br>            &quot;metadataValues&quot;: [<br>              {<br>                &quot;name&quot;: &quot;=file_id&quot;,<br>                &quot;value&quot;: &quot;={{ $json.id }}&quot;<br>              }<br>            ]<br>          }<br>        },<br>        &quot;jsonData&quot;: &quot;={{ $(&#39;Merge&#39;).item.json.data ?? $(&#39;Merge&#39;).item.json.text }}&quot;,<br>        &quot;jsonMode&quot;: &quot;expressionData&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;49428060-e707-4269-8344-77b301f56f7c&quot;,<br>      &quot;name&quot;: &quot;Recursive Character Text Splitter&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter&quot;,<br>      &quot;position&quot;: [<br>        1780,<br>        280<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;chunkSize&quot;: 500,<br>        &quot;chunkOverlap&quot;: 200<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;08742063-e235-4874-a128-b352786b19ce&quot;,<br>      &quot;name&quot;: &quot;Extract Document PDF&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.extractFromFile&quot;,<br>      &quot;position&quot;: [<br>        1240,<br>        0<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;operation&quot;: &quot;pdf&quot;<br>      },<br>      &quot;typeVersion&quot;: 1,<br>      &quot;alwaysOutputData&quot;: false<br>    },<br>    {<br>      &quot;id&quot;: &quot;21f19360-d7ce-4106-ae5a-aa0f15b7c4aa&quot;,<br>      &quot;name&quot;: &quot;Embeddings OpenAI&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.embeddingsOpenAi&quot;,<br>      &quot;position&quot;: [<br>        1600,<br>        80<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;model&quot;: &quot;text-embedding-3-small&quot;,<br>        &quot;options&quot;: {}<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;openAiApi&quot;: {<br>          &quot;id&quot;: &quot;fLfRtaXbR0EVD0pl&quot;,<br>          &quot;name&quot;: &quot;OpenAi account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;4147409f-8686-418f-b979-04f8c8e7fe42&quot;,<br>      &quot;name&quot;: &quot;Create File record2&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.supabase&quot;,<br>      &quot;position&quot;: [<br>        1540,<br>        -100<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;tableId&quot;: &quot;files&quot;,<br>        &quot;fieldsUi&quot;: {<br>          &quot;fieldValues&quot;: [<br>            {<br>              &quot;fieldId&quot;: &quot;name&quot;,<br>              &quot;fieldValue&quot;: &quot;={{ $(&#39;Loop Over Items&#39;).item.json.name }}&quot;<br>            },<br>            {<br>              &quot;fieldId&quot;: &quot;storage_id&quot;,<br>              &quot;fieldValue&quot;: &quot;={{ $(&#39;Loop Over Items&#39;).item.json.id }}&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;supabaseApi&quot;: {<br>          &quot;id&quot;: &quot;t8AQJzvZvrOMDLec&quot;,<br>          &quot;name&quot;: &quot;Supabase account My Airtable Gen&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;016f1afe-172b-4609-b451-8d67609214d3&quot;,<br>      &quot;name&quot;: &quot;If&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.if&quot;,<br>      &quot;position&quot;: [<br>        720,<br>        -100<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;conditions&quot;: {<br>          &quot;options&quot;: {<br>            &quot;version&quot;: 2,<br>            &quot;leftValue&quot;: &quot;&quot;,<br>            &quot;caseSensitive&quot;: true,<br>            &quot;typeValidation&quot;: &quot;strict&quot;<br>          },<br>          &quot;combinator&quot;: &quot;and&quot;,<br>          &quot;conditions&quot;: [<br>            {<br>              &quot;id&quot;: &quot;9b14e306-a04d-40f7-bc5b-b8eda8d8f7f2&quot;,<br>              &quot;operator&quot;: {<br>                &quot;type&quot;: &quot;boolean&quot;,<br>                &quot;operation&quot;: &quot;true&quot;,<br>                &quot;singleValue&quot;: true<br>              },<br>              &quot;leftValue&quot;: &quot;={{ \n    !$(&#39;Aggregate&#39;).item.json.data || \n    !Array.isArray($(&#39;Aggregate&#39;).item.json.data) || \n    !$(&#39;Aggregate&#39;).item.json.data.some(item =&gt; \n        item.storage_id === $(&#39;Loop Over Items&#39;).item.json.id \n    ) \n}}&quot;,<br>              &quot;rightValue&quot;: &quot;&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;c3c0af88-9aea-4539-8948-1b69e601c27c&quot;,<br>              &quot;operator&quot;: {<br>                &quot;type&quot;: &quot;string&quot;,<br>                &quot;operation&quot;: &quot;notEquals&quot;<br>              },<br>              &quot;leftValue&quot;: &quot;={{ $json.name }}&quot;,<br>              &quot;rightValue&quot;: &quot;.emptyFolderPlaceholder&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;75e8a7db-8c4a-4ad8-b902-062cbc93e1eb&quot;,<br>      &quot;name&quot;: &quot;Get All Files&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.supabase&quot;,<br>      &quot;position&quot;: [<br>        20,<br>        -100<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;tableId&quot;: &quot;files&quot;,<br>        &quot;operation&quot;: &quot;getAll&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;supabaseApi&quot;: {<br>          &quot;id&quot;: &quot;t8AQJzvZvrOMDLec&quot;,<br>          &quot;name&quot;: &quot;Supabase account My Airtable Gen&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1,<br>      &quot;alwaysOutputData&quot;: true<br>    },<br>    {<br>      &quot;id&quot;: &quot;b22a3bab-f615-4d8a-8832-ce25b1a385fe&quot;,<br>      &quot;name&quot;: &quot;Download&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.httpRequest&quot;,<br>      &quot;position&quot;: [<br>        900,<br>        -100<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;url&quot;: &quot;=https://yqtvdcvjboenlblgcivl.supabase.co/storage/v1/object/private/{{ $json.name }}&quot;,<br>        &quot;options&quot;: {},<br>        &quot;authentication&quot;: &quot;predefinedCredentialType&quot;,<br>        &quot;nodeCredentialType&quot;: &quot;supabaseApi&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;supabaseApi&quot;: {<br>          &quot;id&quot;: &quot;t8AQJzvZvrOMDLec&quot;,<br>          &quot;name&quot;: &quot;Supabase account My Airtable Gen&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 4.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;50d1fede-4bd0-4cd4-b74a-7d689fe211cc&quot;,<br>      &quot;name&quot;: &quot;Loop Over Items&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.splitInBatches&quot;,<br>      &quot;position&quot;: [<br>        560,<br>        -100<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;batchSize&quot;: &quot;=1&quot;<br>      },<br>      &quot;typeVersion&quot;: 3<br>    },<br>    {<br>      &quot;id&quot;: &quot;f9c23b5e-0b40-4886-b54f-59fb46132d3f&quot;,<br>      &quot;name&quot;: &quot;When clicking ‚ÄòTest workflow‚Äô&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.manualTrigger&quot;,<br>      &quot;position&quot;: [<br>        -160,<br>        -100<br>      ],<br>      &quot;parameters&quot;: {},<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;0a0ec290-2c3d-40ba-8d03-6abf75202e73&quot;,<br>      &quot;name&quot;: &quot;Aggregate&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.aggregate&quot;,<br>      &quot;position&quot;: [<br>        220,<br>        -100<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;aggregate&quot;: &quot;aggregateAllItemData&quot;<br>      },<br>      &quot;typeVersion&quot;: 1,<br>      &quot;alwaysOutputData&quot;: true<br>    },<br>    {<br>      &quot;id&quot;: &quot;32b3e2e1-2d25-4dd1-93e8-3f693beb7b6f&quot;,<br>      &quot;name&quot;: &quot;When chat message received&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.chatTrigger&quot;,<br>      &quot;position&quot;: [<br>        800,<br>        -1020<br>      ],<br>      &quot;webhookId&quot;: &quot;3c40d311-7996-4ed4-b2fa-c73bea5f4cf5&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;79073b5c-a4ad-45a6-bbfa-e900a05bfde3&quot;,<br>      &quot;name&quot;: &quot;OpenAI Chat Model1&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.lmChatOpenAi&quot;,<br>      &quot;position&quot;: [<br>        940,<br>        -820<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {}<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;openAiApi&quot;: {<br>          &quot;id&quot;: &quot;zJhr5piyEwVnWtaI&quot;,<br>          &quot;name&quot;: &quot;OpenAi club&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;f8663483-76d5-4fc8-ad07-7eec815ff7a6&quot;,<br>      &quot;name&quot;: &quot;Embeddings OpenAI2&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.embeddingsOpenAi&quot;,<br>      &quot;position&quot;: [<br>        1020,<br>        -540<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;model&quot;: &quot;text-embedding-3-small&quot;,<br>        &quot;options&quot;: {}<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;openAiApi&quot;: {<br>          &quot;id&quot;: &quot;SphXAX7rlwRLkiox&quot;,<br>          &quot;name&quot;: &quot;Test club key&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;a1458799-d379-46de-93e6-a5ba0c665163&quot;,<br>      &quot;name&quot;: &quot;OpenAI Chat Model2&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.lmChatOpenAi&quot;,<br>      &quot;position&quot;: [<br>        1300,<br>        -680<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {}<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;openAiApi&quot;: {<br>          &quot;id&quot;: &quot;SphXAX7rlwRLkiox&quot;,<br>          &quot;name&quot;: &quot;Test club key&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;d6eeda2f-c984-406d-a625-726840308413&quot;,<br>      &quot;name&quot;: &quot;Vector Store Tool1&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.toolVectorStore&quot;,<br>      &quot;position&quot;: [<br>        1100,<br>        -820<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;name&quot;: &quot;knowledge_base&quot;,<br>        &quot;topK&quot;: 8,<br>        &quot;description&quot;: &quot;Retrieve data about user request&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;e1d9a348-7d44-4ad1-adbd-2c9a31e06876&quot;,<br>      &quot;name&quot;: &quot;Switch&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.switch&quot;,<br>      &quot;position&quot;: [<br>        1060,<br>        -100<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;rules&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;outputKey&quot;: &quot;txt&quot;,<br>              &quot;conditions&quot;: {<br>                &quot;options&quot;: {<br>                  &quot;version&quot;: 1,<br>                  &quot;leftValue&quot;: &quot;&quot;,<br>                  &quot;caseSensitive&quot;: true,<br>                  &quot;typeValidation&quot;: &quot;strict&quot;<br>                },<br>                &quot;combinator&quot;: &quot;and&quot;,<br>                &quot;conditions&quot;: [<br>                  {<br>                    &quot;operator&quot;: {<br>                      &quot;type&quot;: &quot;boolean&quot;,<br>                      &quot;operation&quot;: &quot;true&quot;,<br>                      &quot;singleValue&quot;: true<br>                    },<br>                    &quot;leftValue&quot;: &quot;={{$binary.data?.fileExtension == undefined }}&quot;,<br>                    &quot;rightValue&quot;: &quot;txt&quot;<br>                  }<br>                ]<br>              },<br>              &quot;renameOutput&quot;: true<br>            },<br>            {<br>              &quot;outputKey&quot;: &quot;pdf&quot;,<br>              &quot;conditions&quot;: {<br>                &quot;options&quot;: {<br>                  &quot;version&quot;: 1,<br>                  &quot;leftValue&quot;: &quot;&quot;,<br>                  &quot;caseSensitive&quot;: true,<br>                  &quot;typeValidation&quot;: &quot;strict&quot;<br>                },<br>                &quot;combinator&quot;: &quot;and&quot;,<br>                &quot;conditions&quot;: [<br>                  {<br>                    &quot;id&quot;: &quot;bf04cbec-dd86-4607-988f-4c96b6fd4b58&quot;,<br>                    &quot;operator&quot;: {<br>                      &quot;type&quot;: &quot;string&quot;,<br>                      &quot;operation&quot;: &quot;equals&quot;<br>                    },<br>                    &quot;leftValue&quot;: &quot;={{$binary.data.fileExtension  }}&quot;,<br>                    &quot;rightValue&quot;: &quot;pdf&quot;<br>                  }<br>                ]<br>              },<br>              &quot;renameOutput&quot;: true<br>            }<br>          ]<br>        },<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 3.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;d38afb92-87ae-4e2a-a712-ec24b1efd105&quot;,<br>      &quot;name&quot;: &quot;Insert into Supabase Vectorstore&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.vectorStoreSupabase&quot;,<br>      &quot;position&quot;: [<br>        1700,<br>        -100<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;mode&quot;: &quot;insert&quot;,<br>        &quot;options&quot;: {<br>          &quot;queryName&quot;: &quot;match_documents&quot;<br>        },<br>        &quot;tableName&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;documents&quot;,<br>          &quot;cachedResultName&quot;: &quot;documents&quot;<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;supabaseApi&quot;: {<br>          &quot;id&quot;: &quot;t8AQJzvZvrOMDLec&quot;,<br>          &quot;name&quot;: &quot;Supabase account My Airtable Gen&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;1a903b2e-cab0-4798-b820-ec08d6a71ddd&quot;,<br>      &quot;name&quot;: &quot;Merge&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.merge&quot;,<br>      &quot;position&quot;: [<br>        1380,<br>        -100<br>      ],<br>      &quot;parameters&quot;: {},<br>      &quot;typeVersion&quot;: 3<br>    },<br>    {<br>      &quot;id&quot;: &quot;3afd552e-4995-493e-9cd5-ef496dfe359f&quot;,<br>      &quot;name&quot;: &quot;AI Agent&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.agent&quot;,<br>      &quot;position&quot;: [<br>        1020,<br>        -1020<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 1.7<br>    },<br>    {<br>      &quot;id&quot;: &quot;d9688acc-311b-42fd-afa8-2c0e493be34b&quot;,<br>      &quot;name&quot;: &quot;Supabase Vector Store&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.vectorStoreSupabase&quot;,<br>      &quot;position&quot;: [<br>        1020,<br>        -660<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {<br>          &quot;metadata&quot;: {<br>            &quot;metadataValues&quot;: [<br>              {<br>                &quot;name&quot;: &quot;file_id&quot;,<br>                &quot;value&quot;: &quot;300b0128-0955-4058-b0d3-a9aefe728432&quot;<br>              }<br>            ]<br>          }<br>        },<br>        &quot;tableName&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;documents&quot;,<br>          &quot;cachedResultName&quot;: &quot;documents&quot;<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;supabaseApi&quot;: {<br>          &quot;id&quot;: &quot;t8AQJzvZvrOMDLec&quot;,<br>          &quot;name&quot;: &quot;Supabase account My Airtable Gen&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;66df007c-0418-4551-950e-32e7d79840bd&quot;,<br>      &quot;name&quot;: &quot;Sticky Note&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        340,<br>        -220<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;height&quot;: 89.3775420487804,<br>        &quot;content&quot;: &quot;### Replace Storage name, database ID and credentials.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;b164b520-20dd-44a4-aa3b-647391786b20&quot;,<br>      &quot;name&quot;: &quot;Sticky Note1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -20,<br>        -220<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;height&quot;: 80,<br>        &quot;content&quot;: &quot;### Replace credentials.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;8688c219-5af4-4e54-9fd1-91851829445b&quot;,<br>      &quot;name&quot;: &quot;Sticky Note2&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1540,<br>        -220<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;height&quot;: 80,<br>        &quot;content&quot;: &quot;### Replace credentials.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;45c6ece4-f849-4496-8149-31385f5e36a4&quot;,<br>      &quot;name&quot;: &quot;Sticky Note3&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        840,<br>        -220<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;height&quot;: 89.3775420487804,<br>        &quot;content&quot;: &quot;### Replace Storage name, database ID and credentials.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;2ca07cb0-b5f4-4761-b954-faf2131872d9&quot;,<br>      &quot;name&quot;: &quot;Sticky Note4&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1500,<br>        220<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;height&quot;: 80,<br>        &quot;content&quot;: &quot;### Replace credentials.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;8d682dae-6f88-42f0-a717-affffd37d882&quot;,<br>      &quot;name&quot;: &quot;Sticky Note5&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1140,<br>        -520<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;height&quot;: 80,<br>        &quot;content&quot;: &quot;### Replace credentials.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;796b5dca-d60e-43a9-afe8-194244643557&quot;,<br>      &quot;name&quot;: &quot;Sticky Note9&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -520,<br>        -940<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 330.5152611046425,<br>        &quot;height&quot;: 239.5888196628349,<br>        &quot;content&quot;: &quot;### ... or watch set up video [10 min]\n[![Youtube Thumbnail](https://res.cloudinary.com/de9jgixzm/image/upload/v1739773273/Youtube%20Thumbs/Chat%20With%20FIles.png)](https://www.youtube.com/watch?v=glWUkdZe_3w)\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;eba121de-a3f7-4ba5-8396-f7d64e648322&quot;,<br>      &quot;name&quot;: &quot;Sticky Note7&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -820,<br>        -1460<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 636.2128494576581,<br>        &quot;height&quot;: 497.1532689930921,<br>        &quot;content&quot;: &quot;![5min Logo](https://res.cloudinary.com/de9jgixzm/image/upload/v1739773200/Skool%20Assets/ejm3hqnvhgwpnu2fv92s.png)\n## AI Agent To Chat With Files In Supabase Storage\n**Made by [Mark Shcherbakov](https://www.linkedin.com/in/marklowcoding/) from community [5minAI](https://www.skool.com/5minai-2861)**\n\nManually retrieving and analyzing specific information from large document repositories is time-consuming and inefficient. This workflow automates the process by vectorizing documents and enabling AI-powered interactions, making it easy to query and retrieve context-based information from uploaded files.\n\nThe workflow integrates Supabase with an AI-powered chatbot to process, store, and query text and PDF files. The steps include:\n- Fetching and comparing files to avoid duplicate processing.\n- Handling file downloads and extracting content based on the file type.\n- Converting documents into vectorized data for contextual information retrieval.\n- Storing and querying vectorized data from a Supabase vector store.\n\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;df054036-d6b9-4f53-86cb-85ad96f07d0e&quot;,<br>      &quot;name&quot;: &quot;Sticky Note6&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -820,<br>        -940<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 280.2462120317618,<br>        &quot;height&quot;: 545.9087885077763,<br>        &quot;content&quot;: &quot;### Set up steps\n\n1. **Fetch File List from Supabase**:\n   - Use Supabase to retrieve the stored file list from a specified bucket.\n   - Add logic to manage empty folder placeholders returned by Supabase, avoiding incorrect processing.\n\n2. **Compare and Filter Files**:\n   - Aggregate the files retrieved from storage and compare them to the existing list in the Supabase `files` table.\n   - Exclude duplicates and skip placeholder files to ensure only unprocessed files are handled.\n\n3. **Handle File Downloads**:\n   - Download new files using detailed storage configurations for public/private access.\n   - Adjust the storage settings and GET requests to match your Supabase setup.\n\n4. **File Type Processing**:\n   - Use a Switch node to target specific file types (e.g., PDFs or text files).\n   - Employ relevant tools to process the content:\n     - For PDFs, extract embedded content.\n     - For text files, directly process the text data.\n\n5. **Content Chunking**:\n   - Break large text data into smaller chunks using the Text Splitter node.\n   - Define chunk size (default: 500 tokens) and overlap to retain necessary context across chunks.\n\n6. **Vector Embedding Creation**:\n   - Generate vectorized embeddings for the processed content using OpenAI&#39;s embedding tools.\n   - Ensure metadata, such as file ID, is included for easy data retrieval.\n\n7. **Store Vectorized Data**:\n   - Save the vectorized information into a dedicated Supabase vector store.\n   - Use the default schema and table provided by Supabase for seamless setup.\n\n8. **AI Chatbot Integration**:\n   - Add a chatbot node to handle user input and retrieve relevant document chunks.\n   - Use metadata like file ID for targeted queries, especially when multiple documents are involved.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;450a1e49-4be9-451a-9d05-2860e29c3695&quot;,<br>      &quot;name&quot;: &quot;Sticky Note8&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        540,<br>        -1160<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 5,<br>        &quot;width&quot;: 951.7421645394404,<br>        &quot;height&quot;: 809.7437181509877,<br>        &quot;content&quot;: &quot;## Scenario 2 - AI agent&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;c3814c5d-8881-4598-897e-268019bee1bc&quot;,<br>      &quot;name&quot;: &quot;Sticky Note10&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -260,<br>        -280<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 5,<br>        &quot;width&quot;: 2304.723519246249,<br>        &quot;height&quot;: 739.2522526116408,<br>        &quot;content&quot;: &quot;## Scenario 1 - Flow for adding new files from Supabase storage&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    }<br>  ],<br>  &quot;pinData&quot;: {},<br>  &quot;connections&quot;: {<br>    &quot;If&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Download&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;Loop Over Items&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Merge&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Create File record2&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Switch&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Merge&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;Extract Document PDF&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Download&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Switch&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Aggregate&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Get All files&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Get All Files&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Aggregate&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Get All files&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Loop Over Items&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Loop Over Items&quot;: {<br>      &quot;main&quot;: [<br>        null,<br>        [<br>          {<br>            &quot;node&quot;: &quot;If&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Embeddings OpenAI&quot;: {<br>      &quot;ai_embedding&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Insert into Supabase Vectorstore&quot;,<br>            &quot;type&quot;: &quot;ai_embedding&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Embeddings OpenAI2&quot;: {<br>      &quot;ai_embedding&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Supabase Vector Store&quot;,<br>            &quot;type&quot;: &quot;ai_embedding&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;OpenAI Chat Model1&quot;: {<br>      &quot;ai_languageModel&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Agent&quot;,<br>            &quot;type&quot;: &quot;ai_languageModel&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;OpenAI Chat Model2&quot;: {<br>      &quot;ai_languageModel&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Vector Store Tool1&quot;,<br>            &quot;type&quot;: &quot;ai_languageModel&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Vector Store Tool1&quot;: {<br>      &quot;ai_tool&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Agent&quot;,<br>            &quot;type&quot;: &quot;ai_tool&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Create File record2&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Insert into Supabase Vectorstore&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Default Data Loader&quot;: {<br>      &quot;ai_document&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Insert into Supabase Vectorstore&quot;,<br>            &quot;type&quot;: &quot;ai_document&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Extract Document PDF&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Merge&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 1<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Supabase Vector Store&quot;: {<br>      &quot;ai_vectorStore&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Vector Store Tool1&quot;,<br>            &quot;type&quot;: &quot;ai_vectorStore&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;When chat message received&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Agent&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Insert into Supabase Vectorstore&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Loop Over Items&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Recursive Character Text Splitter&quot;: {<br>      &quot;ai_textSplitter&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Default Data Loader&quot;,<br>            &quot;type&quot;: &quot;ai_textSplitter&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;When clicking ‚ÄòTest workflow‚Äô&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Get All Files&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    }<br>  }<br>}</div></td></tr><tr style="height: 59px"><th id="0R31" style="height: 59px;" class="row-headers-background"><div class="row-header-wrapper" style="line-height: 59px">32</div></th><td class="s7" dir="ltr">Crea un chatbot para tu web con tu marca y potenciado con IA</td><td class="s8 softmerge" dir="ltr"><div class="softmerge-inner" style="width:17156px;left:-3px">{<br>  &quot;meta&quot;: {<br>    &quot;instanceId&quot;: &quot;67d4d33d8b0ad4e5e12f051d8ad92fc35893d7f48d7f801bc6da4f39967b3592&quot;,<br>    &quot;templateCredsSetupCompleted&quot;: true<br>  },<br>  &quot;nodes&quot;: [<br>    {<br>      &quot;id&quot;: &quot;22c8d63b-ce3c-4aab-b3f6-4bae8c1b9ec5&quot;,<br>      &quot;name&quot;: &quot;Window Buffer Memory&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.memoryBufferWindow&quot;,<br>      &quot;position&quot;: [<br>        1460,<br>        880<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;sessionKey&quot;: &quot;={{ $json.sessionId }}&quot;,<br>        &quot;sessionIdType&quot;: &quot;customKey&quot;,<br>        &quot;contextWindowLength&quot;: 20<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;45403d5c-6e85-424f-b40b-c6214b57457b&quot;,<br>      &quot;name&quot;: &quot;Respond to Webhook&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.respondToWebhook&quot;,<br>      &quot;position&quot;: [<br>        1880,<br>        580<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;1111262a-1743-4bae-abf1-f69d2e1a580c&quot;,<br>      &quot;name&quot;: &quot;OpenAI Chat Model&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.lmChatOpenAi&quot;,<br>      &quot;position&quot;: [<br>        1360,<br>        760<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;model&quot;: &quot;gpt-4o-2024-08-06&quot;,<br>        &quot;options&quot;: {<br>          &quot;temperature&quot;: 0.4<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;openAiApi&quot;: {<br>          &quot;id&quot;: &quot;XWFTuTtx9oWglhNn&quot;,<br>          &quot;name&quot;: &quot;OpenAi account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;df891547-c715-4dc6-bfcc-c0ac5cfcaf02&quot;,<br>      &quot;name&quot;: &quot;Make Appointment&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.toolHttpRequest&quot;,<br>      &quot;position&quot;: [<br>        1820,<br>        840<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;url&quot;: &quot;https://graph.microsoft.com/v1.0/me/events&quot;,<br>        &quot;method&quot;: &quot;POST&quot;,<br>        &quot;jsonBody&quot;: &quot;{\n  \&quot;subject\&quot;: \&quot;Meetings with &lt;name&gt; at &lt;company&gt;\&quot;,\n  \&quot;start\&quot;: {\n    \&quot;dateTime\&quot;: \&quot;{dateStartTime}\&quot;,\n    \&quot;timeZone\&quot;: \&quot;Europe/London\&quot;\n  },\n  \&quot;end\&quot;: {\n    \&quot;dateTime\&quot;: \&quot;{dateEndTime}\&quot;,\n    \&quot;timeZone\&quot;: \&quot;Europe/London\&quot;\n  },\n  \&quot;body\&quot;: {\n    \&quot;contentType\&quot;: \&quot;HTML\&quot;,\n    \&quot;content\&quot;: \&quot;{reason}\&quot;\n  },\n  \&quot;attendees\&quot;: [\n    {\n      \&quot;emailAddress\&quot;: {\n        \&quot;address\&quot;: \&quot;{email}\&quot;,\n        \&quot;name\&quot;: \&quot;{name}\&quot;\n      },\n      \&quot;type\&quot;: \&quot;required\&quot;\n    }\n  ],\n  \&quot;location\&quot;: {\n    \&quot;displayName\&quot;: \&quot;Online Meeting\&quot;\n  },\n  \&quot;isOnlineMeeting\&quot;: true,\n  \&quot;onlineMeetingProvider\&quot;: \&quot;teamsForBusiness\&quot;,\n  \&quot;showAs\&quot;: \&quot;busy\&quot;,\n  \&quot;categories\&quot;: [\n    \&quot;Meeting\&quot;\n  ]\n}&quot;,<br>        &quot;sendBody&quot;: true,<br>        &quot;sendQuery&quot;: true,<br>        &quot;specifyBody&quot;: &quot;json&quot;,<br>        &quot;authentication&quot;: &quot;predefinedCredentialType&quot;,<br>        &quot;parametersQuery&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;name&quot;: &quot;Content-Type&quot;,<br>              &quot;value&quot;: &quot;application/json&quot;,<br>              &quot;valueProvider&quot;: &quot;fieldValue&quot;<br>            }<br>          ]<br>        },<br>        &quot;toolDescription&quot;: &quot;Call this tool to make the appointment, ensure you send the user email, name, company, reason for the meeting and the appointment start time and the date in ISO String format with timezone for &lt;timezone&gt;. When creating an appointment, always send JSON.&quot;,<br>        &quot;nodeCredentialType&quot;: &quot;microsoftOutlookOAuth2Api&quot;,<br>        &quot;placeholderDefinitions&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;name&quot;: &quot;dateStartTime&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;description&quot;: &quot;The date and start time of the appointment in toISOString format with timezone for Europe/London&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;dateEndTime&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;description&quot;: &quot;The date and end time of the appointment in toISOString format, always 30 minutes after the dateStartTime,  format with timezone for Europe/London&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;reason&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;description&quot;: &quot;Detailed description of the meeting, will be sent to us and the customer&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;email&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;description&quot;: &quot;The customers email address.&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;name&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;description&quot;: &quot;The customers full name, must be second and last name&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;microsoftOutlookOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;E0WY3yUNKgrxIwLU&quot;,<br>          &quot;name&quot;: &quot;Microsoft Outlook Business&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;44141c44-de49-4707-b287-24007c84ca21&quot;,<br>      &quot;name&quot;: &quot;Execute Workflow Trigger&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.executeWorkflowTrigger&quot;,<br>      &quot;position&quot;: [<br>        2160,<br>        580<br>      ],<br>      &quot;parameters&quot;: {},<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;795e1451-57d8-4563-8b86-5a75df2427b6&quot;,<br>      &quot;name&quot;: &quot;varResponse&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        3120,<br>        460<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;c0b6e779-0f7b-41f0-81f8-457f2b31ccfe&quot;,<br>              &quot;name&quot;: &quot;response&quot;,<br>              &quot;type&quot;: &quot;array&quot;,<br>              &quot;value&quot;: &quot;={{ $json.freeTimeSlots.toJsonString() }}&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;4283635f-649c-4cc7-84b9-37524ddb6ce0&quot;,<br>      &quot;name&quot;: &quot;freeTimeSlots&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.code&quot;,<br>      &quot;position&quot;: [<br>        2900,<br>        460<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;jsCode&quot;: &quot;// Input: An array with objects containing a &#39;value&#39; array of events.\nconst businessHoursStart = \&quot;08:00:00Z\&quot;;  // Business hours start time\nconst businessHoursEnd = \&quot;17:30:00Z\&quot;;    // Business hours end time\n\nconst inputData = items[0].json.value;  // Assuming the input data is in the &#39;value&#39; array of the first item\n\n// Function to convert ISO datetime string to a Date object with specified time\nfunction getDateWithTime(dateString, time) {\n  const datePart = new Date(dateString).toISOString().split(\&quot;T\&quot;)[0];  // Extract the date part (YYYY-MM-DD)\n  return new Date(`${datePart}T${time}`);\n}\n\n// Function to get day of the week from a date string\nfunction getDayOfWeek(dateString) {\n  const daysOfWeek = [\&quot;Sunday\&quot;, \&quot;Monday\&quot;, \&quot;Tuesday\&quot;, \&quot;Wednesday\&quot;, \&quot;Thursday\&quot;, \&quot;Friday\&quot;, \&quot;Saturday\&quot;];\n  return daysOfWeek[new Date(dateString).getUTCDay()];\n}\n\n// Function to add days to a date\nfunction addDays(date, days) {\n  const result = new Date(date);\n  result.setDate(result.getDate() + days);\n  return result;\n}\n\n// Function to format date as YYYY-MM-DD\nfunction formatDate(date) {\n  return date.toISOString().split(&#39;T&#39;)[0];\n}\n\n// Determine the default timezone from input data\nconst defaultTimeZone = inputData.length &gt; 0 &amp;&amp; inputData[0].start &amp;&amp; inputData[0].start.timeZone \n  ? inputData[0].start.timeZone \n  : \&quot;UTC\&quot;;\n\n// Find min and max dates in the input\nlet minDate = null;\nlet maxDate = null;\n\ninputData.forEach(event =&gt; {\n  if (event.start &amp;&amp; event.start.dateTime) {\n    const eventDate = new Date(event.start.dateTime);\n    if (!minDate || eventDate &lt; minDate) {\n      minDate = eventDate;\n    }\n    if (!maxDate || eventDate &gt; maxDate) {\n      maxDate = eventDate;\n    }\n  }\n});\n\n// If we have valid dates, ensure they&#39;re at the start of the day\nif (minDate &amp;&amp; maxDate) {\n  minDate = new Date(minDate.toISOString().split(&#39;T&#39;)[0]);\n  maxDate = new Date(maxDate.toISOString().split(&#39;T&#39;)[0]);\n}\n\n// Organise events by date\nconst eventsByDate = {};\ninputData.forEach(event =&gt; {\n  if (event.start &amp;&amp; event.start.dateTime) {\n    const eventDate = new Date(event.start.dateTime).toISOString().split(\&quot;T\&quot;)[0];  // Extract the date\n    if (!eventsByDate[eventDate]) {\n      eventsByDate[eventDate] = [];\n    }\n    if (event.showAs === \&quot;busy\&quot;) {\n      eventsByDate[eventDate].push({\n        start: new Date(event.start.dateTime),\n        end: new Date(event.end.dateTime),\n        timeZone: event.start.timeZone || defaultTimeZone\n      });\n    }\n  }\n});\n\n// Find free slots within business hours for each date\nconst freeTimeSlots = [];\n\n// Process all dates in the range\nif (minDate &amp;&amp; maxDate) {\n  for (let currentDate = new Date(minDate); currentDate &lt;= maxDate; currentDate = addDays(currentDate, 1)) {\n    const dateStr = formatDate(currentDate);\n    const busyEvents = eventsByDate[dateStr] || [];\n    \n    // Define business start and end times for the current date\n    const businessStart = getDateWithTime(dateStr, businessHoursStart);\n    const businessEnd = getDateWithTime(dateStr, businessHoursEnd);\n    \n    // If there are no busy events for this date, add the entire business day as free\n    if (busyEvents.length === 0) {\n      freeTimeSlots.push({\n        date: dateStr,\n        dayOfWeek: getDayOfWeek(dateStr),\n        freeStart: businessStart.toISOString(),\n        freeEnd: businessEnd.toISOString(),\n        timeZone: defaultTimeZone\n      });\n      continue; // Skip to the next date\n    }\n    \n    // Sort events by their start time\n    busyEvents.sort((a, b) =&gt; a.start - b.start);\n    \n    // Check if there&#39;s free time before the first busy event\n    if (busyEvents[0].start &gt; businessStart) {\n      freeTimeSlots.push({\n        date: dateStr,\n        dayOfWeek: getDayOfWeek(dateStr),\n        freeStart: businessStart.toISOString(),\n        freeEnd: busyEvents[0].start.toISOString(),\n        timeZone: busyEvents[0].timeZone\n      });\n    }\n    \n    // Check for gaps between busy events\n    for (let i = 0; i &lt; busyEvents.length - 1; i++) {\n      if (busyEvents[i].end &lt; busyEvents[i+1].start) {\n        freeTimeSlots.push({\n          date: dateStr,\n          dayOfWeek: getDayOfWeek(dateStr),\n          freeStart: busyEvents[i].end.toISOString(),\n          freeEnd: busyEvents[i+1].start.toISOString(),\n          timeZone: busyEvents[i].timeZone\n        });\n      }\n    }\n    \n    // Check if there&#39;s free time after the last busy event\n    if (busyEvents[busyEvents.length - 1].end &lt; businessEnd) {\n      freeTimeSlots.push({\n        date: dateStr,\n        dayOfWeek: getDayOfWeek(dateStr),\n        freeStart: busyEvents[busyEvents.length - 1].end.toISOString(),\n        freeEnd: businessEnd.toISOString(),\n        timeZone: busyEvents[busyEvents.length - 1].timeZone\n      });\n    }\n  }\n}\n\n// Output the free time slots\nreturn [{ json: { freeTimeSlots } }];\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;0786b561-449e-4c8f-bddb-c2bbd95dc197&quot;,<br>      &quot;name&quot;: &quot;Get Events&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.httpRequest&quot;,<br>      &quot;position&quot;: [<br>        2680,<br>        460<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;url&quot;: &quot;=https://graph.microsoft.com/v1.0/me/calendarView&quot;,<br>        &quot;options&quot;: {},<br>        &quot;sendQuery&quot;: true,<br>        &quot;sendHeaders&quot;: true,<br>        &quot;authentication&quot;: &quot;predefinedCredentialType&quot;,<br>        &quot;queryParameters&quot;: {<br>          &quot;parameters&quot;: [<br>            {<br>              &quot;name&quot;: &quot;startDateTime&quot;,<br>              &quot;value&quot;: &quot;={{ new Date(new Date().setDate(new Date().getDate() + 2)).toISOString() }}&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;endDateTime&quot;,<br>              &quot;value&quot;: &quot;={{ new Date(new Date().setDate(new Date().getDate() + 16)).toISOString() }}&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;$top&quot;,<br>              &quot;value&quot;: &quot;50&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;select&quot;,<br>              &quot;value&quot;: &quot;start,end,categories,importance,isAllDay,recurrence,showAs,subject,type&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;orderby&quot;,<br>              &quot;value&quot;: &quot;start/dateTime asc&quot;<br>            }<br>          ]<br>        },<br>        &quot;headerParameters&quot;: {<br>          &quot;parameters&quot;: [<br>            {<br>              &quot;name&quot;: &quot;Prefer&quot;,<br>              &quot;value&quot;: &quot;outlook.timezone=\&quot;Europe/London\&quot;&quot;<br>            }<br>          ]<br>        },<br>        &quot;nodeCredentialType&quot;: &quot;microsoftOutlookOAuth2Api&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;microsoftOutlookOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;E0WY3yUNKgrxIwLU&quot;,<br>          &quot;name&quot;: &quot;Microsoft Outlook Business&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 4.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;55c4233e-d395-4193-9a1d-1884faed6f1e&quot;,<br>      &quot;name&quot;: &quot;Get Availability&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.toolWorkflow&quot;,<br>      &quot;position&quot;: [<br>        1760,<br>        1080<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;name&quot;: &quot;Get_availability&quot;,<br>        &quot;fields&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;name&quot;: &quot;route&quot;,<br>              &quot;stringValue&quot;: &quot;availability&quot;<br>            }<br>          ]<br>        },<br>        &quot;workflowId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;KD21RG8VeXYDS2Vf&quot;,<br>          &quot;cachedResultName&quot;: &quot;Website Chatbot&quot;<br>        },<br>        &quot;description&quot;: &quot;Call this tool to check my calendar for availability before booking an appointment. This will result in all events for the next 2 weeks. Review all events and do not double book.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;096d1962-31e6-4b3b-ba75-7956f70a6a32&quot;,<br>      &quot;name&quot;: &quot;Send Message&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.toolWorkflow&quot;,<br>      &quot;position&quot;: [<br>        1620,<br>        1080<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;name&quot;: &quot;Send_email&quot;,<br>        &quot;fields&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;name&quot;: &quot;route&quot;,<br>              &quot;stringValue&quot;: &quot;message&quot;<br>            }<br>          ]<br>        },<br>        &quot;workflowId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;KD21RG8VeXYDS2Vf&quot;,<br>          &quot;cachedResultName&quot;: &quot;Website Chatbot&quot;<br>        },<br>        &quot;description&quot;: &quot;Call this tool when the customer wants to speak to a human, or is not ready to make an appointment or if the customer has questions outside of your remit. The tool will send an email to our founder, &lt;insert name&gt;. Always send the customer&#39;s full name, company and email address along with a detailed message about the enquiry. You must always gather project details.&quot;,<br>        &quot;jsonSchemaExample&quot;: &quot;{\n\t\&quot;email\&quot;: \&quot;the customer&#39;s email\&quot;,\n    \&quot;subject\&quot;: \&quot;the subject of the email\&quot;,\n    \&quot;message\&quot;: \&quot;The customer&#39;s enquiry, must be a detailed description of their enquiry\&quot;,\n    \&quot;name\&quot;: \&quot;the customer&#39;s full name\&quot;,\n    \&quot;company\&quot;: \&quot;the customer company name\&quot;\n}&quot;,<br>        &quot;specifyInputSchema&quot;: true<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;285ddd31-5412-4d1c-ab80-d9960ec902bb&quot;,<br>      &quot;name&quot;: &quot;Chat Trigger&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.chatTrigger&quot;,<br>      &quot;disabled&quot;: true,<br>      &quot;position&quot;: [<br>        620,<br>        600<br>      ],<br>      &quot;webhookId&quot;: &quot;f406671e-c954-4691-b39a-66c90aa2f103&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;mode&quot;: &quot;webhook&quot;,<br>        &quot;public&quot;: true,<br>        &quot;options&quot;: {<br>          &quot;responseMode&quot;: &quot;responseNode&quot;,<br>          &quot;allowedOrigins&quot;: &quot;*&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;032a26e9-6853-490d-991b-b2af2d845f58&quot;,<br>      &quot;name&quot;: &quot;Switch&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.switch&quot;,<br>      &quot;position&quot;: [<br>        2380,<br>        580<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;rules&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;outputKey&quot;: &quot;availability&quot;,<br>              &quot;conditions&quot;: {<br>                &quot;options&quot;: {<br>                  &quot;version&quot;: 2,<br>                  &quot;leftValue&quot;: &quot;&quot;,<br>                  &quot;caseSensitive&quot;: true,<br>                  &quot;typeValidation&quot;: &quot;strict&quot;<br>                },<br>                &quot;combinator&quot;: &quot;and&quot;,<br>                &quot;conditions&quot;: [<br>                  {<br>                    &quot;operator&quot;: {<br>                      &quot;type&quot;: &quot;string&quot;,<br>                      &quot;operation&quot;: &quot;equals&quot;<br>                    },<br>                    &quot;leftValue&quot;: &quot;={{ $json.route }}&quot;,<br>                    &quot;rightValue&quot;: &quot;availability&quot;<br>                  }<br>                ]<br>              },<br>              &quot;renameOutput&quot;: true<br>            },<br>            {<br>              &quot;outputKey&quot;: &quot;message&quot;,<br>              &quot;conditions&quot;: {<br>                &quot;options&quot;: {<br>                  &quot;version&quot;: 2,<br>                  &quot;leftValue&quot;: &quot;&quot;,<br>                  &quot;caseSensitive&quot;: true,<br>                  &quot;typeValidation&quot;: &quot;strict&quot;<br>                },<br>                &quot;combinator&quot;: &quot;and&quot;,<br>                &quot;conditions&quot;: [<br>                  {<br>                    &quot;id&quot;: &quot;52fd844b-cc8d-471f-a56a-40e119b66194&quot;,<br>                    &quot;operator&quot;: {<br>                      &quot;name&quot;: &quot;filter.operator.equals&quot;,<br>                      &quot;type&quot;: &quot;string&quot;,<br>                      &quot;operation&quot;: &quot;equals&quot;<br>                    },<br>                    &quot;leftValue&quot;: &quot;={{ $json.route }}&quot;,<br>                    &quot;rightValue&quot;: &quot;message&quot;<br>                  }<br>                ]<br>              },<br>              &quot;renameOutput&quot;: true<br>            }<br>          ]<br>        },<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 3.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;c74905ce-4fd9-486c-abc4-b0b1d57d71a8&quot;,<br>      &quot;name&quot;: &quot;varMessageResponse&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        2900,<br>        700<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {<br>          &quot;ignoreConversionErrors&quot;: false<br>        },<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;0d2ad084-9707-4979-84e4-297d1c21f725&quot;,<br>              &quot;name&quot;: &quot;response&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $json }}&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;04c5d43c-1629-4e11-a6bb-ae73369d7002&quot;,<br>      &quot;name&quot;: &quot;Send Message1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.microsoftOutlook&quot;,<br>      &quot;position&quot;: [<br>        2680,<br>        700<br>      ],<br>      &quot;webhookId&quot;: &quot;d8acc2cb-fcba-4312-a743-e74abe76d071&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;subject&quot;: &quot;={{ $(&#39;Execute Workflow Trigger&#39;).item.json.query.subject }}&quot;,<br>        &quot;bodyContent&quot;: &quot;=&lt;!DOCTYPE html PUBLIC \&quot;-//W3C//DTD XHTML 1.0 Transitional//EN\&quot; \&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\&quot;&gt;\n&lt;html xmlns=\&quot;http://www.w3.org/1999/xhtml\&quot;&gt;\n&lt;head&gt;\n    &lt;meta http-equiv=\&quot;Content-Type\&quot; content=\&quot;text/html; charset=UTF-8\&quot; /&gt;\n    &lt;meta name=\&quot;viewport\&quot; content=\&quot;width=device-width, initial-scale=1.0\&quot; /&gt;\n    &lt;title&gt;New Webchat Customer Enquiry&lt;/title&gt;\n    &lt;style type=\&quot;text/css\&quot;&gt;\n        /* Client-specific styles */\n        body, table, td, a { -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; }\n        table, td { mso-table-lspace: 0pt; mso-table-rspace: 0pt; }\n        img { -ms-interpolation-mode: bicubic; }\n\n        /* Reset styles */\n        body { margin: 0; padding: 0; }\n        img { border: 0; height: auto; line-height: 100%; outline: none; text-decoration: none; }\n        table { border-collapse: collapse !important; }\n        body { height: 100% !important; margin: 0; padding: 0; width: 100% !important; }\n\n        /* iOS BLUE LINKS */\n        a[x-apple-data-detectors] {\n            color: inherit !important;\n            text-decoration: none !important;\n            font-size: inherit !important;\n            font-family: inherit !important;\n            font-weight: inherit !important;\n            line-height: inherit !important;\n        }\n\n        /* Styles for Outlook and other email clients */\n        .ExternalClass { width: 100%; }\n        .ExternalClass, .ExternalClass p, .ExternalClass span, .ExternalClass font, .ExternalClass td, .ExternalClass div { line-height: 100%; }\n        \n        /* Responsive styles */\n        @media screen and (max-width: 600px) {\n            .container { width: 100% !important; }\n            .content { padding: 15px !important; }\n            .field { padding: 10px !important; }\n            .header h1 { font-size: 20px !important; }\n            .header p { font-size: 12px !important; }\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body style=\&quot;margin: 0; padding: 0; background-color: #f4f4f4;\&quot;&gt;\n    &lt;table border=\&quot;0\&quot; cellpadding=\&quot;0\&quot; cellspacing=\&quot;0\&quot; width=\&quot;100%\&quot;&gt;\n        &lt;tr&gt;\n            &lt;td&gt;\n                &lt;table align=\&quot;center\&quot; border=\&quot;0\&quot; cellpadding=\&quot;0\&quot; cellspacing=\&quot;0\&quot; width=\&quot;600\&quot; style=\&quot;border-collapse: collapse; background-color: #ffffff;\&quot;&gt;\n                    &lt;tr&gt;\n                        &lt;td align=\&quot;center\&quot; bgcolor=\&quot;#1a1a1a\&quot; style=\&quot;padding: 30px 0; background: linear-gradient(135deg, #1a1a1a 0%, #2d1f3d 100%);\&quot;&gt;\n                            &lt;h1 style=\&quot;color: #ffffff; font-family: Arial, sans-serif; font-size: 24px; font-weight: 700; margin: 0; text-transform: uppercase; letter-spacing: 1px;\&quot;&gt;New Customer Enquiry&lt;/h1&gt;\n                            &lt;p style=\&quot;color: #ffffff; font-family: Arial, sans-serif; font-size: 14px; line-height: 20px; margin: 10px 0 0; opacity: 0.8;\&quot;&gt;A potential client has reached out through our webchat&lt;/p&gt;\n                        &lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td style=\&quot;padding: 20px;\&quot;&gt;\n                            &lt;table border=\&quot;0\&quot; cellpadding=\&quot;0\&quot; cellspacing=\&quot;0\&quot; width=\&quot;100%\&quot;&gt;\n                                &lt;tr&gt;\n                                    &lt;td style=\&quot;padding: 15px; background-color: #f9f9f9; border: 1px solid #e0e0e0; border-radius: 8px;\&quot;&gt;\n                                        &lt;p style=\&quot;font-family: Arial, sans-serif; font-size: 14px; line-height: 1.6; color: #6a1b9a; font-weight: bold; margin: 0 0 5px 0;\&quot;&gt;FROM&lt;/p&gt;\n                                        &lt;p style=\&quot;font-family: Arial, sans-serif; font-size: 16px; line-height: 1.6; color: #333333; margin: 0;\&quot;&gt;{{ $(&#39;Execute Workflow Trigger&#39;).item.json.query.name }}&lt;/p&gt;\n                                    &lt;/td&gt;\n                                &lt;/tr&gt;\n                                &lt;tr&gt;&lt;td height=\&quot;20\&quot;&gt;&lt;/td&gt;&lt;/tr&gt;\n                                &lt;tr&gt;\n                                    &lt;td style=\&quot;padding: 15px; background-color: #f9f9f9; border: 1px solid #e0e0e0; border-radius: 8px;\&quot;&gt;\n                                        &lt;p style=\&quot;font-family: Arial, sans-serif; font-size: 14px; line-height: 1.6; color: #6a1b9a; font-weight: bold; margin: 0 0 5px 0;\&quot;&gt;EMAIL&lt;/p&gt;\n                                        &lt;p style=\&quot;font-family: Arial, sans-serif; font-size: 16px; line-height: 1.6; color: #333333; margin: 0;\&quot;&gt;{{ $(&#39;Execute Workflow Trigger&#39;).item.json.query.email }}&lt;/p&gt;\n                                    &lt;/td&gt;\n                                &lt;/tr&gt;\n                                &lt;tr&gt;&lt;td height=\&quot;20\&quot;&gt;&lt;/td&gt;&lt;/tr&gt;\n                                &lt;tr&gt;\n                                    &lt;td style=\&quot;padding: 15px; background-color: #f9f9f9; border: 1px solid #e0e0e0; border-radius: 8px;\&quot;&gt;\n                                        &lt;p style=\&quot;font-family: Arial, sans-serif; font-size: 14px; line-height: 1.6; color: #6a1b9a; font-weight: bold; margin: 0 0 5px 0;\&quot;&gt;COMPANY&lt;/p&gt;\n                                        &lt;p style=\&quot;font-family: Arial, sans-serif; font-size: 16px; line-height: 1.6; color: #333333; margin: 0;\&quot;&gt;{{ $(&#39;Execute Workflow Trigger&#39;).item.json.query.company }}&lt;/p&gt;\n                                    &lt;/td&gt;\n                                &lt;/tr&gt;\n                                &lt;tr&gt;&lt;td height=\&quot;20\&quot;&gt;&lt;/td&gt;&lt;/tr&gt;\n                                &lt;tr&gt;\n                                    &lt;td style=\&quot;padding: 15px; background-color: #f9f9f9; border: 1px solid #e0e0e0; border-radius: 8px;\&quot;&gt;\n                                        &lt;p style=\&quot;font-family: Arial, sans-serif; font-size: 14px; line-height: 1.6; color: #6a1b9a; font-weight: bold; margin: 0 0 5px 0;\&quot;&gt;MESSAGE&lt;/p&gt;\n                                        &lt;p style=\&quot;font-family: Arial, sans-serif; font-size: 16px; line-height: 1.6; color: #333333; margin: 0;\&quot;&gt;{{ $(&#39;Execute Workflow Trigger&#39;).item.json.query.message }}&lt;/p&gt;\n                                    &lt;/td&gt;\n                                &lt;/tr&gt;\n                            &lt;/table&gt;\n                        &lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td align=\&quot;center\&quot; bgcolor=\&quot;#e90ebb\&quot; style=\&quot;padding: 20px; background: linear-gradient(135deg, #e90ebb 0%, #6a1b9a 100%);\&quot;&gt;\n                            &lt;p style=\&quot;font-family: Arial, sans-serif; font-size: 14px; line-height: 20px; color: #ffffff; margin: 0;\&quot;&gt;This enquiry was automatically generated from our website&#39;s chat interface.&lt;/p&gt;\n                        &lt;/td&gt;\n                    &lt;/tr&gt;\n                &lt;/table&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n&lt;/body&gt;\n&lt;/html&gt;&quot;,<br>        &quot;toRecipients&quot;: &quot;you@yourdomain.com&quot;,<br>        &quot;additionalFields&quot;: {<br>          &quot;importance&quot;: &quot;High&quot;,<br>          &quot;bodyContentType&quot;: &quot;html&quot;<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;microsoftOutlookOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;E0WY3yUNKgrxIwLU&quot;,<br>          &quot;name&quot;: &quot;Microsoft Outlook Business&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;5a2636f1-47d3-4421-840b-56553bf14d82&quot;,<br>      &quot;name&quot;: &quot;Sticky Note&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1580,<br>        1000<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 311.6936390497898,<br>        &quot;height&quot;: 205.34013605442183,<br>        &quot;content&quot;: &quot;Ensure these referance this workflow, replace placeholders&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;a9fe05d4-6b86-4313-9f11-b20e3ce7db89&quot;,<br>      &quot;name&quot;: &quot;Sticky Note1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        2600,<br>        380<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 468,<br>        &quot;height&quot;: 238,<br>        &quot;content&quot;: &quot;modify business hours\nmodify timezones&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;5dfda5c9-eeeb-421a-a80d-f42c94602080&quot;,<br>      &quot;name&quot;: &quot;AI Agent&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.agent&quot;,<br>      &quot;position&quot;: [<br>        1460,<br>        580<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;text&quot;: &quot;={{ $json.chatInput }}&quot;,<br>        &quot;options&quot;: {<br>          &quot;systemMessage&quot;: &quot;=You are an intelligent personal assistant to Wayne, Founder at nocodecreative.io (ai consultancy and software development agency) responsible for coordinating appointments and gathering relevant information from customers. Your tasks are to:\n\n- Understand when the customer is available by asking for suitable days and times (ensuring they are aware we are in a UK timezone)\n- Check the calendar to identify available slots that match their preferences. Pay attention to each event&#39;s start and end time and do not double book, you will be given all events for the next 14 days\n- Ask the customer what they would like to discuss during the appointment to ensure proper preparation.\n- Get the customer&#39;s name, company name and email address to book the appointment\n- Make the conversation friendly and natural. Confirm the appointment details with the customer and let them know I‚Äôll be ready to discuss what they‚Äôd like.\n- After you have checked the calendar, book the appointment accordingly, without double booking. Confirm the customer&#39;s timezone and adjust the appointment for EU/London.\n- If the customer isn&#39;t ready to book, you can send an email for a human to respond to, ensure you gather a detailed enquiry from the customer including contact details and project information.Ensure the message contains enough information for a human to respond, always include project details, if the customer hasn&#39;t provided project details, ask.\n- Alwways suggest an appointment before sending a message, appointment are you primary goal, message are a fall back\n\nExample questions:\n\n\&quot;Hi there! we&#39;d love to help arrange a time that works for us to meet. Could you let us know which days and times are best for you? We‚Äôll check the calendar and book in a suitable slot.\&quot;\n\n\&quot;Could you please let us know what you‚Äôd like to discuss during the appointment? This helps us prepare in advance and make our time together as productive as possible.\&quot;\n\n\&quot;Before we put you in touch with a human, please can you provide more information about the project you have in mind?\&quot; //You must gather project info at all times, even if the enquiry is about pricing/costs.\n\nIf the time the customer suggests is not available, suggest the nearest alternative appointment based on existing events, do not book an appointment outside of freeTimeSlots\n\nImportant information:\n- All appointments need 48 hours&#39; notice from {{ \n  new Date().toLocaleString(\&quot;en-GB\&quot;, { timeZone: \&quot;Europe/London\&quot;, hour12: false })\n  .split(\&quot;, \&quot;)[0].split(\&quot;/\&quot;).reverse().join(\&quot;-\&quot;) \n  + \&quot;T\&quot; + new Date().toLocaleTimeString(\&quot;en-GB\&quot;, { timeZone: \&quot;Europe/London\&quot;, hour12: false }) + \&quot;:00.000Z\&quot; \n}} (current date and time in the UK) // this is non-negotiable, but discuss with care and be friendly, only let the customer know this if required\n- Business hours are 8am - 6pm Monday to Friday only Europe/London timezone, ensure the customer is aware of this and help them book during UK hours, you must confirm their timezone to do this!\n- Do not book appointments on a Saturday or sunday\n- Do not book appointments outside of freeTimeSlots\n- Always check the next 14 days, and review all events before providing availability \n- All appointments are for a max of 30 minutes\n- You must never offer an appointment without checking the calendar, if you cannot check the calendar, you cannot book and must let the customer know you can not book an appointment right now.\n- Always offer the soonest appointment available if the customer&#39;s preferred time is unavailable\n- When confirming an appointment, be thankful and excited!\n- Initial 30 minute consultation are free of charge\n\n\nMessages and description:\n- When creating descriptions or sending messages, always ensure enough detail is provided for preparation, meaning you can ask follow-up questions to extract further information as required. For example, if a customer asks about pricing, gather some information about the project so our team can provide accurate pricing, and apply this logic throughout\n\nComments:\n//!IMPORTANT! Do not offer any times without checking the calendar, do not make availability up\n//**Do not discuss anything other than appointment booking, if the query does not relate to an appointment, advise them you cannot help at this time.** be friendly and always offer to book an appointment to discuss their query\n//When the appointment is confirmed, let the customer know, by name, that they will be meeting our founder, Wayne for a 30 minute consultation, and that they will receive a calendar invite by email, ensure they accept the invite to confirm the appointment.\n//Always respond as a highly professional executive PA, remember this is the customer&#39;s first engagement, they do not know us or Wayne at this stage\n//Do not refer to yourself as me or I, instead communicate like an organisation, using terms like &#39;us&#39;\n//Always gather project for descriptions and messages&quot;<br>        },<br>        &quot;promptType&quot;: &quot;define&quot;<br>      },<br>      &quot;typeVersion&quot;: 1.6<br>    },<br>    {<br>      &quot;id&quot;: &quot;6156ab7e-d411-46b9-ac44-52ad56ee563d&quot;,<br>      &quot;name&quot;: &quot;If&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.if&quot;,<br>      &quot;position&quot;: [<br>        840,<br>        600<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;conditions&quot;: {<br>          &quot;options&quot;: {<br>            &quot;version&quot;: 2,<br>            &quot;leftValue&quot;: &quot;&quot;,<br>            &quot;caseSensitive&quot;: true,<br>            &quot;typeValidation&quot;: &quot;strict&quot;<br>          },<br>          &quot;combinator&quot;: &quot;and&quot;,<br>          &quot;conditions&quot;: [<br>            {<br>              &quot;id&quot;: &quot;158a0b91-534d-4745-b10e-8a7c97050861&quot;,<br>              &quot;operator&quot;: {<br>                &quot;type&quot;: &quot;string&quot;,<br>                &quot;operation&quot;: &quot;exists&quot;,<br>                &quot;singleValue&quot;: true<br>              },<br>              &quot;leftValue&quot;: &quot;={{ $json.chatInput }}&quot;,<br>              &quot;rightValue&quot;: &quot;&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;c94171a9-a71d-4f63-bef6-e90361c57abd&quot;,<br>      &quot;name&quot;: &quot;Respond With Initial Message&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.respondToWebhook&quot;,<br>      &quot;position&quot;: [<br>        1140,<br>        720<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;respondWith&quot;: &quot;json&quot;,<br>        &quot;responseBody&quot;: &quot;{\n  \&quot;output\&quot;: \&quot;Hi, how can I help you today?\&quot;\n}&quot;<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;43129771-e976-41af-8adb-88cb5465628d&quot;,<br>      &quot;name&quot;: &quot;Sticky Note8&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1340,<br>        -240<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 6,<br>        &quot;width&quot;: 668,<br>        &quot;height&quot;: 111,<br>        &quot;content&quot;: &quot;# Custom Branded n8n Chatbot\nBuilt by [Wayne Simpson](https://www.linkedin.com/in/simpsonwayne/) at [nocodecreative.io](https://nocodecreative.io)\n‚òï If you find this useful, feel free to [buy me a coffee](https://ko-fi.com/waynesimpson)&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;bb890f44-caf0-4b7d-b95e-0c05c70e8f45&quot;,<br>      &quot;name&quot;: &quot;Sticky Note9&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1000,<br>        -80<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 667,<br>        &quot;height&quot;: 497,<br>        &quot;content&quot;: &quot;# Watch the Setup Video üì∫\n### Watch Set Up Video üëá\n[![Auto Categorise Outlook Emails with AI](https://cdn.jsdelivr.net/gh/WayneSimpson/n8n-chatbot-template/custom-branded-chatbot.png)](https://youtu.be/xQ1tCQZhLaI)\n\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;f0b054cc-f961-4c48-846c-a80ea5e49924&quot;,<br>      &quot;name&quot;: &quot;Sticky Note2&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1700,<br>        -80<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 600,<br>        &quot;height&quot;: 500,<br>        &quot;content&quot;: &quot;## Read to blog post to get started üìù\n**Follow along to add a custom branded chat widget to your webiste**\n\n[![Custom Branded n8n Chatbot](https://cdn.jsdelivr.net/gh/WayneSimpson/n8n-chatbot-template/chat%20widget.png)](https://blog.nocodecreative.io/create-a-branded-ai-powered-website-chatbot-with-n8n/)&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;210cef85-6fbe-413e-88b6-b0fed76212ac&quot;,<br>      &quot;name&quot;: &quot;Sticky Note3&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        2600,<br>        640<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 4,<br>        &quot;width&quot;: 260,<br>        &quot;height&quot;: 240,<br>        &quot;content&quot;: &quot;Customise the email template&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;17abc6bd-06c3-48e7-8380-e10024daa9f5&quot;,<br>      &quot;name&quot;: &quot;Sticky Note4&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1760,<br>        740<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 6,<br>        &quot;width&quot;: 208,<br>        &quot;height&quot;: 238,<br>        &quot;content&quot;: &quot;modify timezones&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    }<br>  ],<br>  &quot;pinData&quot;: {<br>    &quot;Execute Workflow Trigger&quot;: [<br>      {<br>        &quot;query&quot;: &quot;Check availability for Monday at 9am&quot;,<br>        &quot;route&quot;: &quot;availability&quot;<br>      }<br>    ]<br>  },<br>  &quot;connections&quot;: {<br>    &quot;If&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Agent&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;Respond With Initial Message&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Switch&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Get Events&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;Send Message1&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;AI Agent&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Respond to Webhook&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Get Events&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;freeTimeSlots&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Chat Trigger&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;If&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Send Message&quot;: {<br>      &quot;ai_tool&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Agent&quot;,<br>            &quot;type&quot;: &quot;ai_tool&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Send Message1&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;varMessageResponse&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;freeTimeSlots&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;varResponse&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Get Availability&quot;: {<br>      &quot;ai_tool&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Agent&quot;,<br>            &quot;type&quot;: &quot;ai_tool&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Make Appointment&quot;: {<br>      &quot;ai_tool&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Agent&quot;,<br>            &quot;type&quot;: &quot;ai_tool&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;OpenAI Chat Model&quot;: {<br>      &quot;ai_languageModel&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Agent&quot;,<br>            &quot;type&quot;: &quot;ai_languageModel&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Window Buffer Memory&quot;: {<br>      &quot;ai_memory&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Agent&quot;,<br>            &quot;type&quot;: &quot;ai_memory&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Execute Workflow Trigger&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Switch&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    }<br>  }<br>}</div></td></tr><tr style="height: 59px"><th id="0R32" style="height: 59px;" class="row-headers-background"><div class="row-header-wrapper" style="line-height: 59px">33</div></th><td class="s3" dir="ltr">Automatiza informes de Google Analytics</td><td class="s4 softmerge" dir="ltr"><div class="softmerge-inner" style="width:16998px;left:-3px">{<br>  &quot;id&quot;: &quot;21IdmArlNT9LlaFf&quot;,<br>  &quot;meta&quot;: {<br>    &quot;instanceId&quot;: &quot;d868e3d040e7bda892c81b17cf446053ea25d2556fcef89cbe19dd61a3e876e9&quot;,<br>    &quot;templateCredsSetupCompleted&quot;: true<br>  },<br>  &quot;name&quot;: &quot;Automate Google Analytics Reporting - AlexK1919&quot;,<br>  &quot;tags&quot;: [<br>    {<br>      &quot;id&quot;: &quot;BimZXo1NKE7JdlXm&quot;,<br>      &quot;name&quot;: &quot;Google Analytics&quot;,<br>      &quot;createdAt&quot;: &quot;2024-11-13T18:08:04.053Z&quot;,<br>      &quot;updatedAt&quot;: &quot;2024-11-13T18:08:04.053Z&quot;<br>    },<br>    {<br>      &quot;id&quot;: &quot;nezaWFCGa7eZsVKu&quot;,<br>      &quot;name&quot;: &quot;Utility&quot;,<br>      &quot;createdAt&quot;: &quot;2024-11-13T18:08:08.207Z&quot;,<br>      &quot;updatedAt&quot;: &quot;2024-11-13T18:08:08.207Z&quot;<br>    }<br>  ],<br>  &quot;nodes&quot;: [<br>    {<br>      &quot;id&quot;: &quot;1b3a0365-92e0-4b51-9a5f-2562b7f3de39&quot;,<br>      &quot;name&quot;: &quot;When clicking ‚ÄòTest workflow‚Äô&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.manualTrigger&quot;,<br>      &quot;position&quot;: [<br>        560,<br>        940<br>      ],<br>      &quot;parameters&quot;: {},<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;5c35f802-82e7-457a-9f11-4d9026cbf0e0&quot;,<br>      &quot;name&quot;: &quot;Sticky Note&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        760,<br>        360<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 6,<br>        &quot;width&quot;: 1270.4518485107694,<br>        &quot;height&quot;: 209.13454984057833,<br>        &quot;content&quot;: &quot;# Aggregate Google Analytics data and Email the results\n\nThis workflow will check for country views, page engagement and google search console results. It will take this week&#39;s data and compare it to last week&#39;s data.\n\n[Credit to Keith Rumjahn for the original workflow, which I modified.](https://rumjahn.com/how-i-used-a-i-to-be-an-seo-expert-and-analyzed-my-google-analytics-data-in-n8n-and-make-com/)&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;54288de3-60ec-4119-a067-e6b8e67949b9&quot;,<br>      &quot;name&quot;: &quot;Sticky Note1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        760,<br>        600<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 4,<br>        &quot;width&quot;: 1269.8517211291685,<br>        &quot;height&quot;: 745.919853945687,<br>        &quot;content&quot;: &quot;## Property ID\n\n1. Create your [Google Analytics Credentials](https://docs.n8n.io/integrations/builtin/credentials/google/oauth-single-service/?utm_source=n8n_app&amp;utm_medium=credential_settings&amp;utm_campaign=create_new_credentials_modal)\n2. Enter your [property ID](https://developers.google.com/analytics/devguides/reporting/data/v1/property-id) or Choose from the List of Properties.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;cc1c37f3-6354-4413-9ee1-473509fc23e7&quot;,<br>      &quot;name&quot;: &quot;Get Page Engagement Stats for this week&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleAnalytics&quot;,<br>      &quot;position&quot;: [<br>        840,<br>        740<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;simple&quot;: false,<br>        &quot;returnAll&quot;: true,<br>        &quot;metricsGA4&quot;: {<br>          &quot;metricValues&quot;: [<br>            {<br>              &quot;name&quot;: &quot;screenPageViews&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;activeUsers&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;screenPageViewsPerUser&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;eventCount&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            }<br>          ]<br>        },<br>        &quot;propertyId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;420633845&quot;,<br>          &quot;cachedResultUrl&quot;: &quot;https://analytics.google.com/analytics/web/#/p420633845/&quot;,<br>          &quot;cachedResultName&quot;: &quot;Kenetic Brand Builders&quot;<br>        },<br>        &quot;dimensionsGA4&quot;: {<br>          &quot;dimensionValues&quot;: [<br>            {<br>              &quot;name&quot;: &quot;unifiedScreenName&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            }<br>          ]<br>        },<br>        &quot;additionalFields&quot;: {<br>          &quot;keepEmptyRows&quot;: true<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googleAnalyticsOAuth2&quot;: {<br>          &quot;id&quot;: &quot;8OdVzOGJqhJ3ti8k&quot;,<br>          &quot;name&quot;: &quot;KBB Google Analytics account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;c6b8f171-0e43-4d55-9ba0-c17a8cddca5b&quot;,<br>      &quot;name&quot;: &quot;Get Page Engagement Stats for prior week&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleAnalytics&quot;,<br>      &quot;position&quot;: [<br>        1240,<br>        740<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;simple&quot;: false,<br>        &quot;endDate&quot;: &quot;={{$today.minus({days: 7})}}&quot;,<br>        &quot;dateRange&quot;: &quot;custom&quot;,<br>        &quot;returnAll&quot;: true,<br>        &quot;startDate&quot;: &quot;={{$today.minus({days: 14})}}&quot;,<br>        &quot;metricsGA4&quot;: {<br>          &quot;metricValues&quot;: [<br>            {<br>              &quot;name&quot;: &quot;screenPageViews&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;activeUsers&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;screenPageViewsPerUser&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;eventCount&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            }<br>          ]<br>        },<br>        &quot;propertyId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;420633845&quot;,<br>          &quot;cachedResultUrl&quot;: &quot;https://analytics.google.com/analytics/web/#/p420633845/&quot;,<br>          &quot;cachedResultName&quot;: &quot;Kenetic Brand Builders&quot;<br>        },<br>        &quot;dimensionsGA4&quot;: {<br>          &quot;dimensionValues&quot;: [<br>            {<br>              &quot;name&quot;: &quot;unifiedScreenName&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            }<br>          ]<br>        },<br>        &quot;additionalFields&quot;: {<br>          &quot;keepEmptyRows&quot;: true<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googleAnalyticsOAuth2&quot;: {<br>          &quot;id&quot;: &quot;8OdVzOGJqhJ3ti8k&quot;,<br>          &quot;name&quot;: &quot;KBB Google Analytics account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;3c056c98-055d-4dc5-870d-d9c01c467714&quot;,<br>      &quot;name&quot;: &quot;Get Google Search Results for this week&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleAnalytics&quot;,<br>      &quot;position&quot;: [<br>        1640,<br>        740<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;simple&quot;: false,<br>        &quot;returnAll&quot;: true,<br>        &quot;metricsGA4&quot;: {<br>          &quot;metricValues&quot;: [<br>            {<br>              &quot;name&quot;: &quot;activeUsers&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;engagedSessions&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;engagementRate&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;eventCount&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;organicGoogleSearchAveragePosition&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;organicGoogleSearchClickThroughRate&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;organicGoogleSearchClicks&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;organicGoogleSearchImpressions&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            }<br>          ]<br>        },<br>        &quot;propertyId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;420633845&quot;,<br>          &quot;cachedResultUrl&quot;: &quot;https://analytics.google.com/analytics/web/#/p420633845/&quot;,<br>          &quot;cachedResultName&quot;: &quot;Kenetic Brand Builders&quot;<br>        },<br>        &quot;dimensionsGA4&quot;: {<br>          &quot;dimensionValues&quot;: [<br>            {<br>              &quot;name&quot;: &quot;landingPagePlusQueryString&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            }<br>          ]<br>        },<br>        &quot;additionalFields&quot;: {<br>          &quot;keepEmptyRows&quot;: true<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googleAnalyticsOAuth2&quot;: {<br>          &quot;id&quot;: &quot;8OdVzOGJqhJ3ti8k&quot;,<br>          &quot;name&quot;: &quot;KBB Google Analytics account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;ea5cdc7a-b00b-45d6-86e9-dd2a61451cca&quot;,<br>      &quot;name&quot;: &quot;Get Country views data for this week&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleAnalytics&quot;,<br>      &quot;position&quot;: [<br>        1240,<br>        940<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;simple&quot;: false,<br>        &quot;returnAll&quot;: true,<br>        &quot;metricsGA4&quot;: {<br>          &quot;metricValues&quot;: [<br>            {<br>              &quot;name&quot;: &quot;activeUsers&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;newUsers&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;engagementRate&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;engagedSessions&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;eventCount&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            },<br>            {<br>              &quot;listName&quot;: &quot;other&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;sessions&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            }<br>          ]<br>        },<br>        &quot;propertyId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;420633845&quot;,<br>          &quot;cachedResultUrl&quot;: &quot;https://analytics.google.com/analytics/web/#/p420633845/&quot;,<br>          &quot;cachedResultName&quot;: &quot;Kenetic Brand Builders&quot;<br>        },<br>        &quot;dimensionsGA4&quot;: {<br>          &quot;dimensionValues&quot;: [<br>            {<br>              &quot;name&quot;: &quot;country&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            }<br>          ]<br>        },<br>        &quot;additionalFields&quot;: {<br>          &quot;keepEmptyRows&quot;: true<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googleAnalyticsOAuth2&quot;: {<br>          &quot;id&quot;: &quot;8OdVzOGJqhJ3ti8k&quot;,<br>          &quot;name&quot;: &quot;KBB Google Analytics account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;d52e9084-d00b-490f-b107-ed9904423a03&quot;,<br>      &quot;name&quot;: &quot;Sticky Note4&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        500,<br>        360<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 6,<br>        &quot;width&quot;: 231.71528995536218,<br>        &quot;height&quot;: 986.0715248510506,<br>        &quot;content&quot;: &quot;## AlexK1919 \n![Alex Kim](https://media.licdn.com/dms/image/v2/D5603AQFOYMkqCPl6Sw/profile-displayphoto-shrink_400_400/profile-displayphoto-shrink_400_400/0/1718309808352?e=1736985600&amp;v=beta&amp;t=pQKm7lQfUU1ytuC2Gq1PRxNY-XmROFWbo-BjzUPxWOs)\n\nI‚Äôm Alex Kim, an AI-Native Workflow Automation Architect Building Solutions to Optimize your Personal and Professional Life.\n\n[Info](https://beacons.ai/alexk1919)&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;d1160f2f-80ca-4900-8b85-d94073cf38e3&quot;,<br>      &quot;name&quot;: &quot;Aggregate Data&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.code&quot;,<br>      &quot;position&quot;: [<br>        1040,<br>        1140<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;jsCode&quot;: &quot;// Helper function to decode and parse a URL-encoded JSON string\nfunction decodeUrlString(urlString) {\n    try {\n        const decoded = JSON.parse(decodeURIComponent(urlString));\n        console.log(&#39;Decoded URL string:&#39;, JSON.stringify(decoded, null, 2));\n        return decoded;\n    } catch (error) {\n        console.log(&#39;Error decoding URL string:&#39;, error.message);\n        return [];\n    }\n}\n\n// Main function to aggregate data\nfunction aggregateData(items) {\n    // Extract each urlString from the input\n    const data = items[0]?.json; // Get the first JSON object from input\n\n    if (!data) {\n        console.log(&#39;No data found in input items.&#39;);\n        return {};\n    }\n\n    // Decode each urlString\n    const engagementStatsThisWeek = decodeUrlString(data.urlString1 || &#39;&#39;);\n    const engagementStatsPriorWeek = decodeUrlString(data.urlString2 || &#39;&#39;);\n    const searchResultsThisWeek = decodeUrlString(data.urlString3 || &#39;&#39;);\n    const searchResultsLastWeek = decodeUrlString(data.urlString4 || &#39;&#39;);\n    const countryViewsThisWeek = decodeUrlString(data.urlString5 || &#39;&#39;);\n    const countryViewsLastWeek = decodeUrlString(data.urlString6 || &#39;&#39;);\n\n    // Aggregate the decoded data into a structured object\n    const aggregatedData = {\n        engagementStats: {\n            thisWeek: engagementStatsThisWeek,\n            priorWeek: engagementStatsPriorWeek,\n        },\n        searchResults: {\n            thisWeek: searchResultsThisWeek,\n            lastWeek: searchResultsLastWeek,\n        },\n        countryViews: {\n            thisWeek: countryViewsThisWeek,\n            lastWeek: countryViewsLastWeek,\n        },\n    };\n\n    console.log(&#39;Final Aggregated Data:&#39;, JSON.stringify(aggregatedData, null, 2));\n    return aggregatedData;\n}\n\n// Get input data from all nodes\nconst items = $input.all();\nconsole.log(&#39;Input items to Aggregate Data:&#39;, JSON.stringify(items, null, 2));\n\n// Perform aggregation\nconst aggregatedResult = aggregateData(items);\n\n// Output the aggregated result for downstream processing\nreturn { json: aggregatedResult };\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;14fea93c-7d9c-4f58-96a3-b241f6b0bcec&quot;,<br>      &quot;name&quot;: &quot;Get Google Search Results for prior week&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleAnalytics&quot;,<br>      &quot;position&quot;: [<br>        840,<br>        940<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;simple&quot;: false,<br>        &quot;endDate&quot;: &quot;={{$today.minus({days: 7})}}&quot;,<br>        &quot;dateRange&quot;: &quot;custom&quot;,<br>        &quot;returnAll&quot;: true,<br>        &quot;startDate&quot;: &quot;={{$today.minus({days: 14})}}&quot;,<br>        &quot;metricsGA4&quot;: {<br>          &quot;metricValues&quot;: [<br>            {<br>              &quot;name&quot;: &quot;activeUsers&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;engagedSessions&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;engagementRate&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;eventCount&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;organicGoogleSearchAveragePosition&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;organicGoogleSearchClickThroughRate&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;organicGoogleSearchClicks&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;organicGoogleSearchImpressions&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            }<br>          ]<br>        },<br>        &quot;propertyId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;420633845&quot;,<br>          &quot;cachedResultUrl&quot;: &quot;https://analytics.google.com/analytics/web/#/p420633845/&quot;,<br>          &quot;cachedResultName&quot;: &quot;Kenetic Brand Builders&quot;<br>        },<br>        &quot;dimensionsGA4&quot;: {<br>          &quot;dimensionValues&quot;: [<br>            {<br>              &quot;name&quot;: &quot;landingPagePlusQueryString&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            }<br>          ]<br>        },<br>        &quot;additionalFields&quot;: {<br>          &quot;keepEmptyRows&quot;: true<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googleAnalyticsOAuth2&quot;: {<br>          &quot;id&quot;: &quot;8OdVzOGJqhJ3ti8k&quot;,<br>          &quot;name&quot;: &quot;KBB Google Analytics account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;436c7977-0214-4b23-924a-3915c0f27d28&quot;,<br>      &quot;name&quot;: &quot;Get Country views data for prior week&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleAnalytics&quot;,<br>      &quot;position&quot;: [<br>        1640,<br>        940<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;simple&quot;: false,<br>        &quot;endDate&quot;: &quot;={{$today.minus({days: 7})}}&quot;,<br>        &quot;dateRange&quot;: &quot;custom&quot;,<br>        &quot;returnAll&quot;: true,<br>        &quot;startDate&quot;: &quot;={{$today.minus({days: 14})}}&quot;,<br>        &quot;metricsGA4&quot;: {<br>          &quot;metricValues&quot;: [<br>            {<br>              &quot;name&quot;: &quot;activeUsers&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;newUsers&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;engagementRate&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;engagedSessions&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;eventCount&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            },<br>            {<br>              &quot;listName&quot;: &quot;other&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;sessions&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            }<br>          ]<br>        },<br>        &quot;propertyId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;420633845&quot;,<br>          &quot;cachedResultUrl&quot;: &quot;https://analytics.google.com/analytics/web/#/p420633845/&quot;,<br>          &quot;cachedResultName&quot;: &quot;Kenetic Brand Builders&quot;<br>        },<br>        &quot;dimensionsGA4&quot;: {<br>          &quot;dimensionValues&quot;: [<br>            {<br>              &quot;name&quot;: &quot;country&quot;,<br>              &quot;listName&quot;: &quot;other&quot;<br>            }<br>          ]<br>        },<br>        &quot;additionalFields&quot;: {<br>          &quot;keepEmptyRows&quot;: true<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googleAnalyticsOAuth2&quot;: {<br>          &quot;id&quot;: &quot;8OdVzOGJqhJ3ti8k&quot;,<br>          &quot;name&quot;: &quot;KBB Google Analytics account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;15f3edcb-2e31-4faa-8db2-62da69bbfe8d&quot;,<br>      &quot;name&quot;: &quot;Parse - Get Page Engagement This Week&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.code&quot;,<br>      &quot;position&quot;: [<br>        1040,<br>        740<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;jsCode&quot;: &quot;function transformToUrlString(items) {\n    // Debug logging\n    console.log(&#39;Input items:&#39;, JSON.stringify(items, null, 2));\n    \n    // Check if items is an array and has content\n    if (!Array.isArray(items) || items.length === 0) {\n        console.log(&#39;Items is not an array or is empty&#39;);\n        throw new Error(&#39;Invalid data structure&#39;);\n    }\n\n    // Check if first item exists and has json property\n    if (!items[0] || !items[0].json) {\n        console.log(&#39;First item is missing or has no json property&#39;);\n        throw new Error(&#39;Invalid data structure&#39;);\n    }\n\n    // Get the analytics data\n    const analyticsData = items[0].json;\n    \n    // Check if analyticsData has rows\n    if (!analyticsData || !Array.isArray(analyticsData.rows)) {\n        console.log(&#39;Analytics data is missing or has no rows array&#39;);\n        throw new Error(&#39;Invalid data structure&#39;);\n    }\n    \n    // Map each row to a simplified object\n    const simplified = analyticsData.rows.map(row =&gt; {\n        if (!row.dimensionValues?.[0]?.value || !row.metricValues?.length) {\n            console.log(&#39;Invalid row structure:&#39;, row);\n            throw new Error(&#39;Invalid row structure&#39;);\n        }\n        \n        return {\n            page: row.dimensionValues[0].value,\n            pageViews: parseInt(row.metricValues[0].value) || 0,\n            activeUsers: parseInt(row.metricValues[1].value) || 0,\n            viewsPerUser: parseFloat(row.metricValues[2].value) || 0,\n            eventCount: parseInt(row.metricValues[3].value) || 0\n        };\n    });\n    \n    // Convert to JSON string and encode for URL\n    return encodeURIComponent(JSON.stringify(simplified));\n}\n\n// Get input data and transform it\nconst urlString = transformToUrlString($input.all());\n\n// Return the result\nreturn { json: { urlString } };&quot;<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;46cd21cd-c7f4-45cb-a724-db8a122f9de3&quot;,<br>      &quot;name&quot;: &quot;Parse - Get Page Engagement Prior Week&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.code&quot;,<br>      &quot;position&quot;: [<br>        1440,<br>        740<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;jsCode&quot;: &quot;function transformToUrlString(items) {\n    // Debug logging\n    console.log(&#39;Input items:&#39;, JSON.stringify(items, null, 2));\n    \n    // Check if items is an array and has content\n    if (!Array.isArray(items) || items.length === 0) {\n        console.log(&#39;Items is not an array or is empty&#39;);\n        throw new Error(&#39;Invalid data structure&#39;);\n    }\n\n    // Check if first item exists and has json property\n    if (!items[0] || !items[0].json) {\n        console.log(&#39;First item is missing or has no json property&#39;);\n        throw new Error(&#39;Invalid data structure&#39;);\n    }\n\n    // Get the analytics data\n    const analyticsData = items[0].json;\n    \n    // Check if analyticsData has rows\n    if (!analyticsData || !Array.isArray(analyticsData.rows)) {\n        console.log(&#39;Analytics data is missing or has no rows array&#39;);\n        throw new Error(&#39;Invalid data structure&#39;);\n    }\n    \n    // Filter out invalid rows and map each valid row to a simplified object\n    const simplified = analyticsData.rows\n        .filter(row =&gt; {\n            // Check if row is valid and its properties exist\n            const isValid = row \n                &amp;&amp; row.dimensionValues \n                &amp;&amp; row.dimensionValues[0] \n                &amp;&amp; row.dimensionValues[0].value \n                &amp;&amp; row.metricValues \n                &amp;&amp; row.metricValues.length &gt; 0;\n            \n            if (!isValid) {\n                console.log(&#39;Ignoring invalid or null row:&#39;, row);\n            }\n            return isValid;\n        })\n        .map(row =&gt; ({\n            page: row.dimensionValues[0].value,\n            pageViews: parseInt(row.metricValues[0].value) || 0,\n            activeUsers: parseInt(row.metricValues[1]?.value) || 0,\n            viewsPerUser: parseFloat(row.metricValues[2]?.value) || 0,\n            eventCount: parseInt(row.metricValues[3]?.value) || 0\n        }));\n    \n    // Convert to JSON string and encode for URL\n    return encodeURIComponent(JSON.stringify(simplified));\n}\n\n// Get input data and transform it\nconst urlString = transformToUrlString($input.all());\n\n// Return the result\nreturn { json: { urlString } };\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;6bef6c5c-74a1-4566-8b8d-372414ae9b0d&quot;,<br>      &quot;name&quot;: &quot;Parse - Get Google Search This Week&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.code&quot;,<br>      &quot;position&quot;: [<br>        1840,<br>        740<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;jsCode&quot;: &quot;function transformToUrlString(items) {\n    // Check if items is an array and get the JSON property\n    const data = items[0]?.json;\n\n    if (!data || !Array.isArray(data.rows)) {\n        console.log(&#39;No valid data found&#39;);\n        return encodeURIComponent(JSON.stringify([]));\n    }\n\n    try {\n        // Process each row, skipping invalid or null entries\n        const simplified = data.rows\n            .filter(row =&gt; {\n                // Skip null rows or rows without dimensionValues or metricValues\n                const isValid = row &amp;&amp; row.dimensionValues &amp;&amp; Array.isArray(row.metricValues);\n                if (!isValid) {\n                    console.log(&#39;Skipping invalid row:&#39;, row);\n                }\n                return isValid;\n            })\n            .map(row =&gt; ({\n                page: row.dimensionValues[0]?.value || &#39;Unknown&#39;,\n                activeUsers: parseInt(row.metricValues[0]?.value) || 0,\n                engagedSessions: parseInt(row.metricValues[1]?.value) || 0,\n                engagementRate: parseFloat(row.metricValues[2]?.value) || 0.0,\n                eventCount: parseInt(row.metricValues[3]?.value) || 0,\n                avgPosition: parseFloat(row.metricValues[4]?.value) || 0.0,\n                ctr: parseFloat(row.metricValues[5]?.value) || 0.0,\n                clicks: parseInt(row.metricValues[6]?.value) || 0,\n                impressions: parseInt(row.metricValues[7]?.value) || 0\n            }));\n\n        // Encode the simplified data as a URL-safe string\n        return encodeURIComponent(JSON.stringify(simplified));\n    } catch (error) {\n        console.log(&#39;Error processing data:&#39;, error.message);\n        throw new Error(&#39;Invalid data structure&#39;);\n    }\n}\n\n// Get the input data\nconst items = $input.all();\n\n// Process the data\nconst result = transformToUrlString(items);\n\n// Return the result\nreturn { json: { urlString: result } };\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;d0c2b575-6bf0-40d7-80e9-c4f1702df7c8&quot;,<br>      &quot;name&quot;: &quot;Parse - Get Google Search Prior Week&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.code&quot;,<br>      &quot;position&quot;: [<br>        1040,<br>        940<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;jsCode&quot;: &quot;function transformToUrlString(items) {\n    // Ensure the input is valid and contains data\n    const data = items[0]?.json;\n\n    if (!data || !Array.isArray(data.rows)) {\n        console.log(&#39;No valid data found&#39;);\n        return encodeURIComponent(JSON.stringify([]));\n    }\n\n    try {\n        // Process each row, skipping null or invalid rows\n        const simplified = data.rows\n            .filter(row =&gt; {\n                // Skip null rows\n                const isValid = row &amp;&amp; row.dimensionValues &amp;&amp; Array.isArray(row.metricValues);\n                if (!isValid) {\n                    console.log(&#39;Skipping invalid or null row:&#39;, row);\n                }\n                return isValid;\n            })\n            .map(row =&gt; ({\n                page: row.dimensionValues[0]?.value || &#39;Unknown&#39;,\n                activeUsers: parseInt(row.metricValues[0]?.value) || 0,\n                engagedSessions: parseInt(row.metricValues[1]?.value) || 0,\n                engagementRate: parseFloat(row.metricValues[2]?.value) || 0.0,\n                eventCount: parseInt(row.metricValues[3]?.value) || 0,\n                avgPosition: parseFloat(row.metricValues[4]?.value) || 0.0,\n                ctr: parseFloat(row.metricValues[5]?.value) || 0.0,\n                clicks: parseInt(row.metricValues[6]?.value) || 0,\n                impressions: parseInt(row.metricValues[7]?.value) || 0\n            }));\n\n        // If no valid rows, return an empty array\n        if (simplified.length === 0) {\n            console.log(&#39;No valid rows to process&#39;);\n            return encodeURIComponent(JSON.stringify([]));\n        }\n\n        // Encode the simplified data as a URL-safe string\n        return encodeURIComponent(JSON.stringify(simplified));\n    } catch (error) {\n        console.log(&#39;Error processing data:&#39;, error.message);\n        throw new Error(&#39;Invalid data structure&#39;);\n    }\n}\n\n// Get the input data\nconst items = $input.all();\n\n// Process the data\nconst result = transformToUrlString(items);\n\n// Return the result\nreturn { json: { urlString: result } };\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;1fca2a6c-1b60-4860-ad60-3e0696f2cb07&quot;,<br>      &quot;name&quot;: &quot;Parse - Country Views This Week&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.code&quot;,<br>      &quot;position&quot;: [<br>        1440,<br>        940<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;jsCode&quot;: &quot;function transformToUrlString(items) {\n    // In n8n, we need to check if items is an array and get the json property\n    const data = items[0].json;\n    \n    if (!data || !data.rows) {\n        console.log(&#39;No valid data found&#39;);\n        return encodeURIComponent(JSON.stringify([]));\n    }\n    \n    try {\n        // Process each row\n        const simplified = data.rows.map(row =&gt; ({\n            country: row.dimensionValues[0].value,\n            activeUsers: parseInt(row.metricValues[0].value) || 0,\n            newUsers: parseInt(row.metricValues[1].value) || 0,\n            engagementRate: parseFloat(row.metricValues[2].value) || 0,\n            engagedSessions: parseInt(row.metricValues[3].value) || 0,\n            eventCount: parseInt(row.metricValues[4].value) || 0,\n            totalUsers: parseInt(row.metricValues[5].value) || 0,\n            sessions: parseInt(row.metricValues[6].value) || 0\n        }));\n        \n        return encodeURIComponent(JSON.stringify(simplified));\n    } catch (error) {\n        console.log(&#39;Error processing data:&#39;, error);\n        throw new Error(&#39;Invalid data structure&#39;);\n    }\n}\n\n// Get the input data\nconst items = $input.all();\n\n// Process the data\nconst result = transformToUrlString(items);\n\n// Return the result\nreturn { json: { urlString: result } };&quot;<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;23679bde-bf02-465a-a656-5eeea0e82f34&quot;,<br>      &quot;name&quot;: &quot;Parse - Country Views Prior Week&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.code&quot;,<br>      &quot;position&quot;: [<br>        1840,<br>        940<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;jsCode&quot;: &quot;function transformToUrlString(items) {\n    // Ensure the input is valid and contains data\n    const data = items[0]?.json;\n\n    if (!data || !Array.isArray(data.rows)) {\n        console.log(&#39;No valid data found&#39;);\n        return encodeURIComponent(JSON.stringify([]));\n    }\n\n    try {\n        // Process each row, skipping invalid or null rows\n        const simplified = data.rows\n            .filter(row =&gt; {\n                // Skip null rows or rows without required properties\n                const isValid = row &amp;&amp; row.dimensionValues &amp;&amp; Array.isArray(row.metricValues);\n                if (!isValid) {\n                    console.log(&#39;Skipping invalid or null row:&#39;, row);\n                }\n                return isValid;\n            })\n            .map(row =&gt; ({\n                country: row.dimensionValues[0]?.value || &#39;Unknown&#39;,\n                activeUsers: parseInt(row.metricValues[0]?.value) || 0,\n                newUsers: parseInt(row.metricValues[1]?.value) || 0,\n                engagementRate: parseFloat(row.metricValues[2]?.value) || 0.0,\n                engagedSessions: parseInt(row.metricValues[3]?.value) || 0,\n                eventCount: parseInt(row.metricValues[4]?.value) || 0,\n                totalUsers: parseInt(row.metricValues[5]?.value) || 0,\n                sessions: parseInt(row.metricValues[6]?.value) || 0\n            }));\n\n        // If no valid rows, return an empty array\n        if (simplified.length === 0) {\n            console.log(&#39;No valid rows to process&#39;);\n            return encodeURIComponent(JSON.stringify([]));\n        }\n\n        // Encode the simplified data as a URL-safe string\n        return encodeURIComponent(JSON.stringify(simplified));\n    } catch (error) {\n        console.log(&#39;Error processing data:&#39;, error.message);\n        throw new Error(&#39;Invalid data structure&#39;);\n    }\n}\n\n// Get the input data\nconst items = $input.all();\n\n// Process the data\nconst result = transformToUrlString(items);\n\n// Return the result\nreturn { json: { urlString: result } };\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;d6797f36-d715-4821-9747-cea5c87dc2cb&quot;,<br>      &quot;name&quot;: &quot;Set urlStrings&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        840,<br>        1140<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;93efb02f-f2f2-4e52-aa7a-3ccd1fb171cc&quot;,<br>              &quot;name&quot;: &quot;urlString1&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $(&#39;Parse - Get Page Engagement This Week&#39;).first().json.urlString }}&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;5dea3377-0af2-48da-8666-5ee9452e25c5&quot;,<br>              &quot;name&quot;: &quot;urlString2&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $(&#39;Parse - Get Page Engagement Prior Week&#39;).first().json.urlString }}&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;c6aa5d4d-d1e5-4493-96fd-60b2298ff6da&quot;,<br>              &quot;name&quot;: &quot;urlString3&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $(&#39;Parse - Get Google Search This Week&#39;).first().json.urlString }}&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;711cb4fa-3e8c-4ad6-9b25-e2447d7492d1&quot;,<br>              &quot;name&quot;: &quot;urlString4&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $(&#39;Parse - Get Google Search Prior Week&#39;).first().json.urlString }}&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;775bc64a-7986-48fb-a36d-4101158b83f0&quot;,<br>              &quot;name&quot;: &quot;urlString5&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $(&#39;Parse - Country Views This Week&#39;).first().json.urlString }}&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;a6ae27a0-89b5-4a6f-8328-327750835c8d&quot;,<br>              &quot;name&quot;: &quot;urlString6&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $(&#39;Parse - Country Views Prior Week&#39;).first().json.urlString }}&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;5990f2af-1fc4-4ed5-aea6-c46bebb463a8&quot;,<br>      &quot;name&quot;: &quot;Format Data&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.code&quot;,<br>      &quot;position&quot;: [<br>        840,<br>        1480<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;jsCode&quot;: &quot;const input = $input.first().json;\n\n// Extract data\nconst engagementStats = input.engagementStats || {};\nconst searchResults = input.searchResults || {};\nconst countryViews = input.countryViews || {};\n\n// Helper function to generate HTML for a table\nfunction generateTable(headers, rows, color) {\n    let table = `&lt;table border=\&quot;1\&quot; style=\&quot;border-collapse:collapse; width:100%; border:1px solid ${color};\&quot;&gt;`;\n    // Add table headers\n    table += `&lt;thead style=\&quot;background-color:${color}; color:white;\&quot;&gt;&lt;tr&gt;`;\n    headers.forEach(header =&gt; {\n        table += `&lt;th style=\&quot;padding:8px; text-align:left; border:1px solid ${color};\&quot;&gt;${header}&lt;/th&gt;`;\n    });\n    table += &#39;&lt;/tr&gt;&lt;/thead&gt;&#39;;\n    // Add table rows\n    table += &#39;&lt;tbody&gt;&#39;;\n    rows.forEach(row =&gt; {\n        table += &#39;&lt;tr&gt;&#39;;\n        row.forEach(cell =&gt; {\n            table += `&lt;td style=\&quot;padding:8px; border:1px solid ${color};\&quot;&gt;${cell}&lt;/td&gt;`;\n        });\n        table += &#39;&lt;/tr&gt;&#39;;\n    });\n    table += &#39;&lt;/tbody&gt;&lt;/table&gt;&#39;;\n    return table;\n}\n\n// Get today&#39;s date\nconst today = new Date();\nconst formattedDate = today.toLocaleDateString(undefined, {\n    year: &#39;numeric&#39;,\n    month: &#39;long&#39;,\n    day: &#39;numeric&#39;,\n});\n\n// Generate HTML content\nconst title = `GA Report for ${formattedDate}`;\nlet htmlContent = `&lt;h1 style=\&quot;text-align:center; color:#333;\&quot;&gt;${title}&lt;/h1&gt;`;\n\n// Colors for each segment\nconst engagementColor = &#39;#4CAF50&#39;;\nconst searchColor = &#39;#2196F3&#39;;\nconst countryColor = &#39;#FF9800&#39;;\n\nhtmlContent += `&lt;h2 style=\&quot;color:${engagementColor};\&quot;&gt;Engagement Stats&lt;/h2&gt;`;\nhtmlContent += `&lt;h3 style=\&quot;color:#333;\&quot;&gt;This Week&lt;/h3&gt;`;\nif (engagementStats.thisWeek?.length) {\n    const headers = [&#39;Page&#39;, &#39;Page Views&#39;, &#39;Active Users&#39;, &#39;Views per User&#39;, &#39;Event Count&#39;];\n    const rows = engagementStats.thisWeek.map(stat =&gt; [\n        stat.page,\n        stat.pageViews,\n        stat.activeUsers,\n        stat.viewsPerUser.toFixed(2),\n        stat.eventCount,\n    ]);\n    htmlContent += generateTable(headers, rows, engagementColor);\n} else {\n    htmlContent += `&lt;p style=\&quot;color:${engagementColor};\&quot;&gt;No data available for this week.&lt;/p&gt;`;\n}\n\nhtmlContent += `&lt;h3 style=\&quot;color:#333;\&quot;&gt;Prior Week&lt;/h3&gt;`;\nif (engagementStats.priorWeek?.length) {\n    const headers = [&#39;Page&#39;, &#39;Page Views&#39;, &#39;Active Users&#39;, &#39;Views per User&#39;, &#39;Event Count&#39;];\n    const rows = engagementStats.priorWeek.map(stat =&gt; [\n        stat.page,\n        stat.pageViews,\n        stat.activeUsers,\n        stat.viewsPerUser.toFixed(2),\n        stat.eventCount,\n    ]);\n    htmlContent += generateTable(headers, rows, engagementColor);\n} else {\n    htmlContent += `&lt;p style=\&quot;color:${engagementColor};\&quot;&gt;No data available for prior week.&lt;/p&gt;`;\n}\n\nhtmlContent += `&lt;h2 style=\&quot;color:${searchColor};\&quot;&gt;Search Results&lt;/h2&gt;`;\nhtmlContent += `&lt;h3 style=\&quot;color:#333;\&quot;&gt;This Week&lt;/h3&gt;`;\nif (searchResults.thisWeek?.length) {\n    const headers = [&#39;Page&#39;, &#39;Active Users&#39;, &#39;Engaged Sessions&#39;, &#39;Engagement Rate&#39;, &#39;Event Count&#39;, &#39;Avg Position&#39;, &#39;CTR&#39;, &#39;Clicks&#39;, &#39;Impressions&#39;];\n    const rows = searchResults.thisWeek.map(result =&gt; [\n        result.page,\n        result.activeUsers,\n        result.engagedSessions,\n        result.engagementRate.toFixed(2),\n        result.eventCount,\n        result.avgPosition.toFixed(2),\n        result.ctr.toFixed(2),\n        result.clicks,\n        result.impressions,\n    ]);\n    htmlContent += generateTable(headers, rows, searchColor);\n} else {\n    htmlContent += `&lt;p style=\&quot;color:${searchColor};\&quot;&gt;No data available for this week.&lt;/p&gt;`;\n}\n\nhtmlContent += `&lt;h3 style=\&quot;color:#333;\&quot;&gt;Last Week&lt;/h3&gt;`;\nif (searchResults.lastWeek?.length) {\n    const headers = [&#39;Page&#39;, &#39;Active Users&#39;, &#39;Engaged Sessions&#39;, &#39;Engagement Rate&#39;, &#39;Event Count&#39;, &#39;Avg Position&#39;, &#39;CTR&#39;, &#39;Clicks&#39;, &#39;Impressions&#39;];\n    const rows = searchResults.lastWeek.map(result =&gt; [\n        result.page,\n        result.activeUsers,\n        result.engagedSessions,\n        result.engagementRate.toFixed(2),\n        result.eventCount,\n        result.avgPosition.toFixed(2),\n        result.ctr.toFixed(2),\n        result.clicks,\n        result.impressions,\n    ]);\n    htmlContent += generateTable(headers, rows, searchColor);\n} else {\n    htmlContent += `&lt;p style=\&quot;color:${searchColor};\&quot;&gt;No data available for last week.&lt;/p&gt;`;\n}\n\nhtmlContent += `&lt;h2 style=\&quot;color:${countryColor};\&quot;&gt;Country Views&lt;/h2&gt;`;\nhtmlContent += `&lt;h3 style=\&quot;color:#333;\&quot;&gt;This Week&lt;/h3&gt;`;\nif (countryViews.thisWeek?.length) {\n    const headers = [&#39;Country&#39;, &#39;Active Users&#39;, &#39;New Users&#39;, &#39;Engagement Rate&#39;, &#39;Engaged Sessions&#39;, &#39;Event Count&#39;, &#39;Total Users&#39;, &#39;Sessions&#39;];\n    const rows = countryViews.thisWeek.map(view =&gt; [\n        view.country,\n        view.activeUsers,\n        view.newUsers,\n        view.engagementRate.toFixed(2),\n        view.engagedSessions,\n        view.eventCount,\n        view.totalUsers,\n        view.sessions,\n    ]);\n    htmlContent += generateTable(headers, rows, countryColor);\n} else {\n    htmlContent += `&lt;p style=\&quot;color:${countryColor};\&quot;&gt;No data available for this week.&lt;/p&gt;`;\n}\n\nhtmlContent += `&lt;h3 style=\&quot;color:#333;\&quot;&gt;Last Week&lt;/h3&gt;`;\nif (countryViews.lastWeek?.length) {\n    const headers = [&#39;Country&#39;, &#39;Active Users&#39;, &#39;New Users&#39;, &#39;Engagement Rate&#39;, &#39;Engaged Sessions&#39;, &#39;Event Count&#39;, &#39;Total Users&#39;, &#39;Sessions&#39;];\n    const rows = countryViews.lastWeek.map(view =&gt; [\n        view.country,\n        view.activeUsers,\n        view.newUsers,\n        view.engagementRate.toFixed(2),\n        view.engagedSessions,\n        view.eventCount,\n        view.totalUsers,\n        view.sessions,\n    ]);\n    htmlContent += generateTable(headers, rows, countryColor);\n} else {\n    htmlContent += `&lt;p style=\&quot;color:${countryColor};\&quot;&gt;No data available for last week.&lt;/p&gt;`;\n}\n\n// Output the title and formatted HTML\nreturn {\n    json: {\n        title,\n        htmlContent,\n    }\n};\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;74ad1eef-3a5b-4939-83ee-be0c4b6c13cb&quot;,<br>      &quot;name&quot;: &quot;Input All&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.code&quot;,<br>      &quot;position&quot;: [<br>        1240,<br>        1140<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;jsCode&quot;: &quot;console.log($input.all());\nreturn $input.all();\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;019a40de-80c8-4ede-a86b-babb2c6288eb&quot;,<br>      &quot;name&quot;: &quot;Sticky Note5&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        760,<br>        1380<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 5,<br>        &quot;width&quot;: 1264.897623827279,<br>        &quot;height&quot;: 295.7350020039967,<br>        &quot;content&quot;: &quot;## Format the data and Email&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;f81326ce-ac35-4463-8444-e9c2b7be027b&quot;,<br>      &quot;name&quot;: &quot;Email the Report&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.gmail&quot;,<br>      &quot;position&quot;: [<br>        1040,<br>        1480<br>      ],<br>      &quot;webhookId&quot;: &quot;80d4d964-449a-4599-b2de-bca9c8822bbd&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;sendTo&quot;: &quot;info@alexk1919.com&quot;,<br>        &quot;message&quot;: &quot;={{ $json.htmlContent }}&quot;,<br>        &quot;options&quot;: {<br>          &quot;senderName&quot;: &quot;Alex Kim&quot;<br>        },<br>        &quot;subject&quot;: &quot;=KBB {{ $json.title }}&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;gmailOAuth2&quot;: {<br>          &quot;id&quot;: &quot;7eQtesjR8Fht0INE&quot;,<br>          &quot;name&quot;: &quot;AlexK1919 Gmail&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;9358a6bc-3696-4647-b02d-891c597d1cb6&quot;,<br>      &quot;name&quot;: &quot;Schedule Trigger&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.scheduleTrigger&quot;,<br>      &quot;position&quot;: [<br>        560,<br>        1140<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;rule&quot;: {<br>          &quot;interval&quot;: [<br>            {}<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    }<br>  ],<br>  &quot;active&quot;: false,<br>  &quot;pinData&quot;: {},<br>  &quot;settings&quot;: {<br>    &quot;timezone&quot;: &quot;America/Los_Angeles&quot;,<br>    &quot;callerPolicy&quot;: &quot;workflowsFromSameOwner&quot;,<br>    &quot;executionOrder&quot;: &quot;v1&quot;,<br>    &quot;executionTimeout&quot;: -1,<br>    &quot;saveManualExecutions&quot;: false<br>  },<br>  &quot;versionId&quot;: &quot;34428c27-6f55-44a6-9b0b-f3de72fe2383&quot;,<br>  &quot;connections&quot;: {<br>    &quot;Input All&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Format Data&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Format Data&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Email the Report&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Aggregate Data&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Input All&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Set urlStrings&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Aggregate Data&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Parse - Country Views This Week&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Get Country views data for prior week&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Parse - Country Views Prior Week&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Set urlStrings&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;When clicking ‚ÄòTest workflow‚Äô&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Get Page Engagement Stats for this week&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Parse - Get Google Search This Week&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Get Google Search Results for prior week&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Get Country views data for this week&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Parse - Country Views This Week&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Parse - Get Google Search Prior Week&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Get Country views data for this week&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Get Country views data for prior week&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Parse - Country Views Prior Week&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Parse - Get Page Engagement This Week&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Get Page Engagement Stats for prior week&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Parse - Get Page Engagement Prior Week&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Get Google Search Results for this week&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Get Google Search Results for this week&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Parse - Get Google Search This Week&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Get Page Engagement Stats for this week&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Parse - Get Page Engagement This Week&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Get Google Search Results for prior week&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Parse - Get Google Search Prior Week&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Get Page Engagement Stats for prior week&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Parse - Get Page Engagement Prior Week&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    }<br>  }<br>}</div></td></tr><tr style="height: 59px"><th id="0R33" style="height: 59px;" class="row-headers-background"><div class="row-header-wrapper" style="line-height: 59px">34</div></th><td class="s5" dir="ltr">Mejora secciones de preguntas frecuentes en tu web a escala con IA</td><td class="s6 softmerge" dir="ltr"><div class="softmerge-inner" style="width:9056px;left:-3px">{<br>  &quot;meta&quot;: {<br>    &quot;instanceId&quot;: &quot;ff412ab2a6cd55af5dedbbab9b8e43f0f3a0cb16fb794fa8d3837f957b771ad2&quot;<br>  },<br>  &quot;nodes&quot;: [<br>    {<br>      &quot;id&quot;: &quot;9c3c06eb-8b48-4229-9b16-7fe7c4f886c3&quot;,<br>      &quot;name&quot;: &quot;When clicking ‚ÄòTest workflow‚Äô&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.manualTrigger&quot;,<br>      &quot;position&quot;: [<br>        78.44447107090468,<br>        520<br>      ],<br>      &quot;parameters&quot;: {},<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;2a8d8297-18de-4e1f-b44b-93842f7c1709&quot;,<br>      &quot;name&quot;: &quot;OpenAI Chat Model&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.lmChatOpenAi&quot;,<br>      &quot;position&quot;: [<br>        1678.4444710709047,<br>        2020<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;model&quot;: &quot;gpt-4o-mini&quot;,<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;a6c24857-ad3b-4561-b40b-8520064e861b&quot;,<br>      &quot;name&quot;: &quot;Format QA Pair1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        2018.4444710709047,<br>        1880<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;2c1bd408-29f0-487b-9a33-7513d5bbfe23&quot;,<br>              &quot;name&quot;: &quot;question&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $(&#39;Needs AI Completion?1&#39;).item.json.question }}&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;02ffc3b7-3d77-4dfe-ba3f-2052f5cc9e83&quot;,<br>              &quot;name&quot;: &quot;answer&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{\n[\n  $(&#39;Needs AI Completion?1&#39;).item.json.answer,\n  $json.text\n    ? $json.text[0].toLowerCase() + $json.text.substring(1, $json.text.length)\n    : &#39;&#39;,\n  $(&#39;Needs AI Completion?1&#39;).item.json.append || &#39;&#39;,\n].join(&#39; &#39;).trim()\n}}&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;2b4712cb-371c-45bc-a024-363ae951b0ac&quot;,<br>      &quot;name&quot;: &quot;For Each Question...1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.splitInBatches&quot;,<br>      &quot;position&quot;: [<br>        1238.4444710709047,<br>        1400<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 3<br>    },<br>    {<br>      &quot;id&quot;: &quot;8f7cefc1-9fc0-474b-a81e-bf573068258b&quot;,<br>      &quot;name&quot;: &quot;Question to List1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.splitOut&quot;,<br>      &quot;position&quot;: [<br>        1038.4444710709047,<br>        1400<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;fieldToSplitOut&quot;: &quot;data&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;9aeb5858-d6d4-4541-8a0d-851740d948ae&quot;,<br>      &quot;name&quot;: &quot;Questions to Object...1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.aggregate&quot;,<br>      &quot;position&quot;: [<br>        1978.4444710709047,<br>        1380<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;aggregate&quot;: &quot;aggregateAllItemData&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;2c1d56c5-20f2-4691-ab89-87edf9902a5f&quot;,<br>      &quot;name&quot;: &quot;Format DisplayName + Questions1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        2198.444471070905,<br>        1380<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;66318f17-a3bd-4bcf-b326-50208b503143&quot;,<br>              &quot;name&quot;: &quot;name&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $(&#39;Execute Workflow Trigger&#39;).first().json.data.displayName || $(&#39;Execute Workflow Trigger&#39;).first().json.data[&#39;Category name&#39;] }}&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;a83abac5-ddc6-4316-a916-7eab338f97cf&quot;,<br>              &quot;name&quot;: &quot;questions&quot;,<br>              &quot;type&quot;: &quot;array&quot;,<br>              &quot;value&quot;: &quot;={{ $json.data }}&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;5147d5ef-f56d-49b0-9be8-0af7ccb8cdae&quot;,<br>      &quot;name&quot;: &quot;Create From Text&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleDrive&quot;,<br>      &quot;position&quot;: [<br>        2380,<br>        1380<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;name&quot;: &quot;={{ $json.name + &#39;-&#39; + $now.format(&#39;yyyyMMdd&#39;) }}&quot;,<br>        &quot;content&quot;: &quot;={{ JSON.stringify($json, null, 4) }}&quot;,<br>        &quot;driveId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;&quot;<br>        },<br>        &quot;options&quot;: {},<br>        &quot;folderId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;id&quot;,<br>          &quot;value&quot;: &quot;={{ $(&#39;Execute Workflow Trigger&#39;).first().json.outdir }}&quot;<br>        },<br>        &quot;operation&quot;: &quot;createFromText&quot;<br>      },<br>      &quot;typeVersion&quot;: 3<br>    },<br>    {<br>      &quot;id&quot;: &quot;9abc3871-8103-4659-9afa-93142dabec01&quot;,<br>      &quot;name&quot;: &quot;Define Sheets&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        518.4444710709047,<br>        520<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;mode&quot;: &quot;raw&quot;,<br>        &quot;options&quot;: {},<br>        &quot;jsonOutput&quot;: &quot;{\n  \&quot;data\&quot;: [\n    \&quot;Single Integration Native\&quot;,\n    \&quot;Single Integration Cred-only\&quot;,\n    \&quot;Single Integration Non-native\&quot;,\n    \&quot;Categories\&quot;\n  ]\n}\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;417b1c53-ec19-4f59-9580-b6080d3bc103&quot;,<br>      &quot;name&quot;: &quot;Sheets To List...&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.splitOut&quot;,<br>      &quot;position&quot;: [<br>        698.4444710709047,<br>        520<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;fieldToSplitOut&quot;: &quot;data&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;d8495ac2-7f45-4dd5-8eb5-d95c9e572dd3&quot;,<br>      &quot;name&quot;: &quot;Get Services&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleSheets&quot;,<br>      &quot;position&quot;: [<br>        1098.4444710709047,<br>        660<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {<br>          &quot;returnAllMatches&quot;: &quot;returnAllMatches&quot;<br>        },<br>        &quot;filtersUI&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;lookupColumn&quot;: &quot;=status&quot;<br>            }<br>          ]<br>        },<br>        &quot;sheetName&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;name&quot;,<br>          &quot;value&quot;: &quot;={{ $json.data }}&quot;<br>        },<br>        &quot;documentId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 4.3,<br>      &quot;alwaysOutputData&quot;: true<br>    },<br>    {<br>      &quot;id&quot;: &quot;e5b7ebe7-0e0f-4f61-8a14-afc51eb37270&quot;,<br>      &quot;name&quot;: &quot;Single Integration Cred-only&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        778.4444710709047,<br>        1400<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;mode&quot;: &quot;raw&quot;,<br>        &quot;options&quot;: {},<br>        &quot;jsonOutput&quot;: &quot;={\n  \&quot;data\&quot;: [\n    {\n      \&quot;question\&quot;: \&quot;How can I set up {{ $json.data.displayName }} integration in n8n?\&quot;,\n      \&quot;answer\&quot;: \&quot;To use {{ $json.data.displayName }} integration in n8n, start by adding the HTTP Request node to your workflow canvas and authenticate it using a predefined credential type. This allows you to perform custom operations, without additional authentication setup. Once connected, you can make custom API calls to {{ $json.data.displayName }} to query the data you need using the URLs you provide, for example:\&quot;,\n      \&quot;ai_example\&quot;: \&quot;Assume useris advanced in n8n integration and sending HTTP requests, focus instead on examples operations and/or use-cases such as creating records, updating records, or retrieving data.\&quot;,\n      \&quot;ai_completion\&quot;: {{ true }}\n    },\n    {\n      \&quot;question\&quot;: \&quot;Do I need any special permissions or API keys to integrate {{ $json.data.displayName }} with n8n?\&quot;,\n      \&quot;answer\&quot;: \&quot;Yes, you need an API key with the necessary permissions to integrate {{ $json.data.displayName }} with n8n. You will typically need to use the {{ $json.data.displayName }} API docs to construct your request via the HTTP Request node. Ensure the API key has the appropriate access rights for the data and actions you want to automate within your workflows.\&quot;,\n      \&quot;ai_completion\&quot;: {{ false }}\n    },\n    {\n      \&quot;question\&quot;: \&quot;Can I combine {{ $json.data.displayName }} with other apps in n8n workflows?\&quot;,\n      \&quot;answer\&quot;: \&quot;Definitely! n8n enables you to create workflows that combine {{ $json.data.displayName }} with other apps and services. For instance,\&quot;,\n      \&quot;ai_completion\&quot;: {{ true }}\n    },\n    {\n      \&quot;question\&quot;: \&quot;What are some common use cases for {{ $json.data.displayName }} integrations with n8n?\&quot;,\n      \&quot;answer\&quot;: \&quot;Common use cases for {{ $json.data.displayName }} automation include\&quot;,\n      \&quot;append\&quot;: \&quot;With n8n, you can customize these workflows to fit your specific needs and extend them by adding other 400+ integrations or incorporating advanced AI logic.\&quot;,\n      \&quot;ai_completion\&quot;: {{ true }}\n    },\n    {\n      \&quot;question\&quot;: \&quot;How does n8n‚Äôs pricing model benefit me when integrating {{ $json.data.displayName }}?\&quot;,\n      \&quot;answer\&quot;: \&quot;n8n‚Äôs pricing model is designed to be both affordable and scalable, which is particularly beneficial when integrating with {{ $json.data.displayName }}. Unlike other platforms that charge per operation or task, n8n charges only for full workflow executions. This means you can create complex workflows with {{ $json.data.displayName }}, involving thousands of tasks or steps, without worrying about escalating costs. For example, if your {{ $json.data.displayName }} workflows perform around 100k tasks, you could be paying $500+/month on other platforms, but with n8n&#39;s pro plan, you start at around $50. This approach allows you to scale your {{ $json.data.displayName }} integrations efficiently while maintaining predictable costs.\&quot;,\n      \&quot;ai_completion\&quot;: {{ false }}\n    }\n  ]\n}&quot;<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;e2cc607b-8502-4beb-ace5-8670af845134&quot;,<br>      &quot;name&quot;: &quot;Single Integration Native&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        778.4444710709047,<br>        1240<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;mode&quot;: &quot;raw&quot;,<br>        &quot;options&quot;: {},<br>        &quot;jsonOutput&quot;: &quot;={\n  \&quot;data\&quot;: [\n    {\n      \&quot;question\&quot;: \&quot;How can I set up {{ $json.data.displayName }} integration in n8n?\&quot;,\n      \&quot;answer\&quot;: \&quot;To use {{ $json.data.displayName }} integration in n8n, start by adding the {{ $json.data.displayName }} node to your workflow. You&#39;ll need to authenticate your {{ $json.data.displayName }} account using supported authentication methods. Once connected, you can choose from the list of supported actions or make custom API calls via the HTTP Request node, for example:\&quot;,\n      \&quot;ai_completion\&quot;: {{ true }}\n    },\n    {\n      \&quot;question\&quot;: \&quot;Do I need any special permissions or API keys to integrate {{ $json.data.displayName }} with n8n?\&quot;,\n      \&quot;answer\&quot;: \&quot;Yes, you will typically need an API key, token, or similar credentials to add {{ $json.data.displayName }} integration to n8n. These can usually be found in your account settings for the service. Ensure that your credentials have the necessary permissions to access and manage the data or actions you want to automate within your workflows.\&quot;,\n      \&quot;ai_completion\&quot;: {{ false }}\n    },\n    {\n      \&quot;question\&quot;: \&quot;Can I combine {{ $json.data.displayName }} with other apps in n8n workflows?\&quot;,\n      \&quot;answer\&quot;: \&quot;Definitely! n8n enables you to create workflows that combine {{ $json.data.displayName }} with other apps and services. For instance,\&quot;,\n      \&quot;ai_completion\&quot;: {{ true }}\n    },\n    {\n      \&quot;question\&quot;: \&quot;What are some common use cases for {{ $json.data.displayName }} integrations with n8n?\&quot;,\n      \&quot;answer\&quot;: \&quot;Common use cases for {{ $json.data.displayName }} automation include\&quot;,\n      \&quot;append\&quot;: \&quot;With n8n, you can customize these workflows to fit your specific needs and extend them by adding other 400+ integrations or incorporating advanced AI logic.\&quot;,\n      \&quot;ai_completion\&quot;: {{ true }}\n    },\n    {\n      \&quot;question\&quot;: \&quot;How does n8n‚Äôs pricing model benefit me when integrating {{ $json.data.displayName }}?\&quot;,\n      \&quot;answer\&quot;: \&quot;n8n‚Äôs pricing model is designed to be both affordable and scalable, which is particularly beneficial when integrating with {{ $json.data.displayName }}. Unlike other platforms that charge per operation or task, n8n charges only for full workflow executions. This means you can create complex workflows with {{ $json.data.displayName }}, involving thousands of tasks or steps, without worrying about escalating costs. For example, if your {{ $json.data.displayName }} workflows perform around 100k tasks, you could be paying $500+/month on other platforms, but with n8n&#39;s pro plan, you start at around $50. This approach allows you to scale your {{ $json.data.displayName }} integrations efficiently while maintaining predictable costs.\&quot;,\n    \&quot;ai_completion\&quot;: {{ false }}\n    }\n  ]\n}&quot;<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;ce1905c2-f41a-4dea-bd03-a9ae1e893326&quot;,<br>      &quot;name&quot;: &quot;Categories&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        778.4444710709047,<br>        1760<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;mode&quot;: &quot;raw&quot;,<br>        &quot;options&quot;: {},<br>        &quot;jsonOutput&quot;: &quot;={{\n{\n  \&quot;data\&quot;: [\n    {\n      \&quot;question\&quot;: `What types of ${$json.data[&#39;Category name&#39;]} tools can I integrate with n8n?`,\n      \&quot;answer\&quot;: `n8n offers integrations with a wide range of ${$json.data[&#39;Category name&#39;]} tools, including`,\n      \&quot;append\&quot;: `These integrations allow you to streamline your ${$json.data[&#39;Category name&#39;]} workflows, automate repetitive tasks, and improve collaboration across your team.`,\n      \&quot;ai_completion\&quot;: true\n    },\n    {\n      \&quot;question\&quot;: `Are there any specific requirements or limitations for using ${$json.data[&#39;Category name&#39;]} integrations?`,\n      \&quot;answer\&quot;: `Yes, each ${$json.data[&#39;Category name&#39;]} integration may have specific requirements. For example,`,\n      \&quot;append\&quot;: `n8n offers a significant number of pre-built ${$json.data[&#39;Category name&#39;]} integrations (called nodes). If n8n doesn&#39;t support the integration you need, use the HTTP Request node or custom code to connect to the service&#39;s API. Be sure to review the integration documentation for any app-specific prerequisites. Additionally, consider any API rate limits or usage constraints that might affect your workflows.`,\n      \&quot;ai_completion\&quot;: true\n    },\n    {\n      \&quot;question\&quot;: `What are some popular use cases for ${$json.data[&#39;Category name&#39;]} integrations in n8n?`,\n      \&quot;answer\&quot;: `${$json.data[&#39;Category name&#39;]} integrations with n8n offer a variety of practical use cases. For example:`,\n      \&quot;ai_completion\&quot;: true,\n      \&quot;ai_completion_format\&quot;: \&quot;list\&quot;\n    },\n    {\n      \&quot;question\&quot;: `How does n8n‚Äôs pricing model benefit ${$json.data[&#39;Category name&#39;]} workflows?`,\n      \&quot;answer\&quot;: `n8n&#39;s pricing model, which charges only for full workflow executions rather than individual tasks or steps, is particularly advantageous for ${$json.data[&#39;Category name&#39;]} workflows. This means you can build complex, multi-step workflows involving various ${$json.data[&#39;Category name&#39;]} tools without worrying about cost increases due to the number of operations. For example, if your ${$json.data[&#39;Category name&#39;]} workflows perform around 100k tasks, you could be paying $500+/month on other platforms, but with n8n&#39;s pro plan, you start at around $50. This approach allows you to scale your ${$json.data[&#39;Category name&#39;]} integrations efficiently while maintaining predictable costs.`,\n      \&quot;ai_completion\&quot;: false\n    },\n    {\n      \&quot;question\&quot;: `How can I leverage n8n&#39;s AI capabilities in my ${$json.data[&#39;Category name&#39;]} workflows?`,\n      \&quot;answer\&quot;: `n8n offers powerful AI capabilities that can enhance your ${$json.data[&#39;Category name&#39;]} workflows. For example, you can integrate AI tools like OpenAI with n8n to`,\n      \&quot;append\&quot;: `To add AI capabilities, navigate to the AI category in n8n&#39;s integrations directory and set up the integration with your chosen AI service. This combination of AI and ${$json.data[&#39;Category name&#39;]} integrations can significantly boost your development efficiency and innovation.`,\n      \&quot;ai_completion\&quot;: true\n    }\n  ]\n}\n}}&quot;<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;344c93e6-3ed9-4dd0-8a38-c2f853ef3cc1&quot;,<br>      &quot;name&quot;: &quot;For Each Sheet...&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.splitInBatches&quot;,<br>      &quot;position&quot;: [<br>        918.4444710709047,<br>        520<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 3<br>    },<br>    {<br>      &quot;id&quot;: &quot;e5776c79-51e4-4469-8cf7-dff009ee0ffd&quot;,<br>      &quot;name&quot;: &quot;Execute Workflow Trigger&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.executeWorkflowTrigger&quot;,<br>      &quot;position&quot;: [<br>        298.4444710709047,<br>        1400<br>      ],<br>      &quot;parameters&quot;: {},<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;76aca3a6-c3ff-41fa-9fdf-30839df85669&quot;,<br>      &quot;name&quot;: &quot;Execute Workflow&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.executeWorkflow&quot;,<br>      &quot;position&quot;: [<br>        1898.4444710709047,<br>        660<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;mode&quot;: &quot;each&quot;,<br>        &quot;options&quot;: {},<br>        &quot;workflowId&quot;: &quot;={{ $workflow.id }}&quot;<br>      },<br>      &quot;typeVersion&quot;: 1,<br>      &quot;alwaysOutputData&quot;: true<br>    },<br>    {<br>      &quot;id&quot;: &quot;663b1ce2-ccb5-43d1-8871-c5fa7412151c&quot;,<br>      &quot;name&quot;: &quot;Prepare Job&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        1278.4444710709047,<br>        660<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;2755153b-d38c-4aba-be8f-f72c3bf91cf2&quot;,<br>              &quot;name&quot;: &quot;sheet&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $(&#39;For Each Sheet...&#39;).item.json.data }}&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;eed4a03a-451b-4b74-b591-ce970d84f990&quot;,<br>              &quot;name&quot;: &quot;data&quot;,<br>              &quot;type&quot;: &quot;object&quot;,<br>              &quot;value&quot;: &quot;={{ $json }}&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;ee73316c-0316-4389-aa13-4bb145637262&quot;,<br>              &quot;name&quot;: &quot;outdir&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{\n{\n  \&quot;Single Integration Native\&quot;: \&quot;Insert the corresponding Google Drive folder ID here\&quot;,\n  \&quot;Single Integration Cred-only\&quot;: \&quot;Insert the corresponding Google Drive folder ID here\&quot;,\n  \&quot;Single Integration Non-native\&quot;: \&quot;Insert the corresponding Google Drive folder ID here\&quot;,\n  \&quot;Categories\&quot;: \&quot;Insert the corresponding Google Drive folder ID here\&quot;,\n}[$(&#39;For Each Sheet...&#39;).item.json.data]\n}}&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;087249d0-d001-49c3-8695-e0e3f02b66e2&quot;,<br>      &quot;name&quot;: &quot;For Each Service...&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.splitInBatches&quot;,<br>      &quot;position&quot;: [<br>        1498.4444710709047,<br>        520<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {<br>          &quot;reset&quot;: false<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3<br>    },<br>    {<br>      &quot;id&quot;: &quot;edd9e2c7-9477-4145-bb1f-1424ccb2080f&quot;,<br>      &quot;name&quot;: &quot;Update Row Status&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleSheets&quot;,<br>      &quot;position&quot;: [<br>        2558.444471070905,<br>        1380<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;columns&quot;: {<br>          &quot;value&quot;: {<br>            &quot;status&quot;: &quot;done&quot;,<br>            &quot;row_number&quot;: &quot;={{ $(&#39;Execute Workflow Trigger&#39;).first().json.data.row_number }}&quot;<br>          },<br>          &quot;schema&quot;: [<br>            {<br>              &quot;id&quot;: &quot;displayName&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;displayName&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;status&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;status&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;row_number&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;removed&quot;: false,<br>              &quot;readOnly&quot;: true,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;row_number&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            }<br>          ],<br>          &quot;mappingMode&quot;: &quot;defineBelow&quot;,<br>          &quot;matchingColumns&quot;: [<br>            &quot;row_number&quot;<br>          ]<br>        },<br>        &quot;options&quot;: {},<br>        &quot;operation&quot;: &quot;update&quot;,<br>        &quot;sheetName&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;name&quot;,<br>          &quot;value&quot;: &quot;={{ $(&#39;Execute Workflow Trigger&#39;).first().json.sheet }}&quot;<br>        },<br>        &quot;documentId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 4.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;454ccacd-104c-4cad-b52e-72447a49fb04&quot;,<br>      &quot;name&quot;: &quot;Single Integration Non-native&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        778.4444710709047,<br>        1580<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;mode&quot;: &quot;raw&quot;,<br>        &quot;options&quot;: {},<br>        &quot;jsonOutput&quot;: &quot;={{\n{\n  \&quot;data\&quot;: [\n    {\n      \&quot;question\&quot;: `How can I set up ${$json.data.displayName} integration in n8n?`,\n      \&quot;answer\&quot;: `To use ${$json.data.displayName} integration in n8n, start by adding the HTTP Request node to your workflow canvas and authenticate it using a generic authentication method. Once connected, you can make custom API calls to ${$json.data.displayName} to query the data you need using the URLs you provide, for example:`,\n      \&quot;ai_example\&quot;: \&quot;Assume useris advanced in n8n integration and sending HTTP requests, focus instead on examples operations and/or use-cases such as creating records, updating records, or retrieving data.\&quot;,\n      \&quot;ai_completion\&quot;: true\n    },\n{\n      \&quot;question\&quot;: `Do I need any special permissions or API keys to integrate ${$json.data.displayName} with n8n?`,\n      \&quot;answer\&quot;: `Yes, with generic authentication, you&#39;ll typically need to provide endpoint URLs, headers, parameters, and any other authentication details specific to **${$json.data.displayName}**:  - Find the&amp;nbsp;**${$json.data.displayName}** API documentation and see if the API supports HTTP requests;  - Most APIs require some form of authentication and you can configure this in the HTTP Request mode (Basic Auth, Custom Auth, Digest Auth, Header Auth, OAuth1 API, OAuth2 API, Query Auth).`,\n      \&quot;ai_completion\&quot;: false\n    },\n{\n      \&quot;question\&quot;: `Can I combine ${$json.data.displayName} with other apps in n8n workflows?`,\n      \&quot;answer\&quot;: `Definitely! n8n enables you to create workflows that combine ${$json.data.displayName} with other apps and services. For instance,`,\n      \&quot;ai_completion\&quot;: true\n    },\n    {\n      \&quot;question\&quot;: `What are some common use cases for ${$json.data.displayName} integrations with n8n?`,\n      \&quot;answer\&quot;: `Common use cases for ${$json.data.displayName} automation include`,\n      \&quot;append\&quot;: `With n8n, you can customize these workflows to fit your specific needs and extend them by adding other 400+ integrations or incorporating advanced AI logic.`,\n      \&quot;ai_completion\&quot;: true\n    },\n    {\n      \&quot;question\&quot;: `How does n8n‚Äôs pricing model benefit me when integrating ${$json.data.displayName}?`,\n      \&quot;answer\&quot;: `n8n&#39;s pricing model is designed to be both affordable and scalable, which is particularly beneficial when integrating with ${ $json.data.displayName}. Unlike other platforms that charge per operation or task, n8n charges only for full workflow executions. This means you can create complex workflows with ${ $json.data.displayName}, involving thousands of tasks or steps, without worrying about escalating costs. For example, if your ${ $json.data.displayName} workflows perform around 100k tasks, you could be paying $500+/month on other platforms, but with n8n&#39;s pro plan, you start at around $50. This approach allows you to scale your ${ $json.data.displayName} integrations efficiently while maintaining predictable costs.`,\n      \&quot;ai_completion\&quot;: false\n    }\n  ]\n}\n}}&quot;<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;660fda59-4222-489a-a19a-b3ae0ed7c66f&quot;,<br>      &quot;name&quot;: &quot;If has Data&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.if&quot;,<br>      &quot;position&quot;: [<br>        1678.4444710709047,<br>        640<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;conditions&quot;: {<br>          &quot;options&quot;: {<br>            &quot;leftValue&quot;: &quot;&quot;,<br>            &quot;caseSensitive&quot;: true,<br>            &quot;typeValidation&quot;: &quot;strict&quot;<br>          },<br>          &quot;combinator&quot;: &quot;and&quot;,<br>          &quot;conditions&quot;: [<br>            {<br>              &quot;id&quot;: &quot;aea0bac0-4d4a-4359-8df0-1309c3126376&quot;,<br>              &quot;operator&quot;: {<br>                &quot;type&quot;: &quot;object&quot;,<br>                &quot;operation&quot;: &quot;notEmpty&quot;,<br>                &quot;singleValue&quot;: true<br>              },<br>              &quot;leftValue&quot;: &quot;={{ $json.data }}&quot;,<br>              &quot;rightValue&quot;: &quot;&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;911aece8-1137-48d4-85f6-ee15ebfdc299&quot;,<br>      &quot;name&quot;: &quot;Sticky Note&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1238.4444710709047,<br>        620<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 193.4545454545455,<br>        &quot;height&quot;: 317.09090909090907,<br>        &quot;content&quot;: &quot;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n### üö® Set Destination Folders Here&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;44d206a7-049c-4721-8934-2308a4b67821&quot;,<br>      &quot;name&quot;: &quot;Needs AI Completion?1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.switch&quot;,<br>      &quot;position&quot;: [<br>        1458.4444710709047,<br>        1780<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;rules&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;outputKey&quot;: &quot;TEXT_REPLACE&quot;,<br>              &quot;conditions&quot;: {<br>                &quot;options&quot;: {<br>                  &quot;leftValue&quot;: &quot;&quot;,<br>                  &quot;caseSensitive&quot;: true,<br>                  &quot;typeValidation&quot;: &quot;strict&quot;<br>                },<br>                &quot;combinator&quot;: &quot;and&quot;,<br>                &quot;conditions&quot;: [<br>                  {<br>                    &quot;operator&quot;: {<br>                      &quot;type&quot;: &quot;boolean&quot;,<br>                      &quot;operation&quot;: &quot;false&quot;,<br>                      &quot;singleValue&quot;: true<br>                    },<br>                    &quot;leftValue&quot;: &quot;={{ $json.ai_completion }}&quot;,<br>                    &quot;rightValue&quot;: &quot;&quot;<br>                  }<br>                ]<br>              },<br>              &quot;renameOutput&quot;: true<br>            },<br>            {<br>              &quot;outputKey&quot;: &quot;AI_COMPLETE&quot;,<br>              &quot;conditions&quot;: {<br>                &quot;options&quot;: {<br>                  &quot;leftValue&quot;: &quot;&quot;,<br>                  &quot;caseSensitive&quot;: true,<br>                  &quot;typeValidation&quot;: &quot;strict&quot;<br>                },<br>                &quot;combinator&quot;: &quot;and&quot;,<br>                &quot;conditions&quot;: [<br>                  {<br>                    &quot;id&quot;: &quot;f3fcd8ea-6cfa-4658-86c3-3ace9b81d3f2&quot;,<br>                    &quot;operator&quot;: {<br>                      &quot;type&quot;: &quot;boolean&quot;,<br>                      &quot;operation&quot;: &quot;true&quot;,<br>                      &quot;singleValue&quot;: true<br>                    },<br>                    &quot;leftValue&quot;: &quot;={{ $json.ai_completion }}&quot;,<br>                    &quot;rightValue&quot;: &quot;&quot;<br>                  }<br>                ]<br>              },<br>              &quot;renameOutput&quot;: true<br>            }<br>          ]<br>        },<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 3<br>    },<br>    {<br>      &quot;id&quot;: &quot;14999c7a-2497-46db-b3b5-ede6a9c89dcb&quot;,<br>      &quot;name&quot;: &quot;Sticky Note1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -20,<br>        320<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 322.9750655002858,<br>        &quot;height&quot;: 374.7055783044638,<br>        &quot;content&quot;: &quot;## Trigger event\nThis could be changed to whatever trigger event you need: an app event, a schedule, a webhook call, another workflow or an AI chat. Sometimes, the HTTP Request node might already serve as your starting point.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;99a4ca3b-3ad0-48a7-84d7-eb83b61e938b&quot;,<br>      &quot;name&quot;: &quot;Switch&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.switch&quot;,<br>      &quot;position&quot;: [<br>        538.4444710709047,<br>        1400<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;rules&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;outputKey&quot;: &quot;Single - Native&quot;,<br>              &quot;conditions&quot;: {<br>                &quot;options&quot;: {<br>                  &quot;leftValue&quot;: &quot;&quot;,<br>                  &quot;caseSensitive&quot;: true,<br>                  &quot;typeValidation&quot;: &quot;strict&quot;<br>                },<br>                &quot;combinator&quot;: &quot;and&quot;,<br>                &quot;conditions&quot;: [<br>                  {<br>                    &quot;operator&quot;: {<br>                      &quot;type&quot;: &quot;string&quot;,<br>                      &quot;operation&quot;: &quot;equals&quot;<br>                    },<br>                    &quot;leftValue&quot;: &quot;={{ $json.sheet }}&quot;,<br>                    &quot;rightValue&quot;: &quot;Single Integration Native&quot;<br>                  }<br>                ]<br>              },<br>              &quot;renameOutput&quot;: true<br>            },<br>            {<br>              &quot;outputKey&quot;: &quot;Single - Cred Only&quot;,<br>              &quot;conditions&quot;: {<br>                &quot;options&quot;: {<br>                  &quot;leftValue&quot;: &quot;&quot;,<br>                  &quot;caseSensitive&quot;: true,<br>                  &quot;typeValidation&quot;: &quot;strict&quot;<br>                },<br>                &quot;combinator&quot;: &quot;and&quot;,<br>                &quot;conditions&quot;: [<br>                  {<br>                    &quot;id&quot;: &quot;6dcb9e09-5eb6-4527-9c22-7eb8867643f4&quot;,<br>                    &quot;operator&quot;: {<br>                      &quot;name&quot;: &quot;filter.operator.equals&quot;,<br>                      &quot;type&quot;: &quot;string&quot;,<br>                      &quot;operation&quot;: &quot;equals&quot;<br>                    },<br>                    &quot;leftValue&quot;: &quot;={{ $json.sheet }}&quot;,<br>                    &quot;rightValue&quot;: &quot;Single Integration Cred-only&quot;<br>                  }<br>                ]<br>              },<br>              &quot;renameOutput&quot;: true<br>            },<br>            {<br>              &quot;outputKey&quot;: &quot;Single - Non Native&quot;,<br>              &quot;conditions&quot;: {<br>                &quot;options&quot;: {<br>                  &quot;leftValue&quot;: &quot;&quot;,<br>                  &quot;caseSensitive&quot;: true,<br>                  &quot;typeValidation&quot;: &quot;strict&quot;<br>                },<br>                &quot;combinator&quot;: &quot;and&quot;,<br>                &quot;conditions&quot;: [<br>                  {<br>                    &quot;id&quot;: &quot;04ee4ccd-9efc-46a9-9521-fe50fb0c3087&quot;,<br>                    &quot;operator&quot;: {<br>                      &quot;name&quot;: &quot;filter.operator.equals&quot;,<br>                      &quot;type&quot;: &quot;string&quot;,<br>                      &quot;operation&quot;: &quot;equals&quot;<br>                    },<br>                    &quot;leftValue&quot;: &quot;={{ $json.sheet }}&quot;,<br>                    &quot;rightValue&quot;: &quot;Single Integration Non-native&quot;<br>                  }<br>                ]<br>              },<br>              &quot;renameOutput&quot;: true<br>            },<br>            {<br>              &quot;outputKey&quot;: &quot;Categories&quot;,<br>              &quot;conditions&quot;: {<br>                &quot;options&quot;: {<br>                  &quot;leftValue&quot;: &quot;&quot;,<br>                  &quot;caseSensitive&quot;: true,<br>                  &quot;typeValidation&quot;: &quot;strict&quot;<br>                },<br>                &quot;combinator&quot;: &quot;and&quot;,<br>                &quot;conditions&quot;: [<br>                  {<br>                    &quot;id&quot;: &quot;21579253-15c5-4cb4-869b-5760322ae5b5&quot;,<br>                    &quot;operator&quot;: {<br>                      &quot;name&quot;: &quot;filter.operator.equals&quot;,<br>                      &quot;type&quot;: &quot;string&quot;,<br>                      &quot;operation&quot;: &quot;equals&quot;<br>                    },<br>                    &quot;leftValue&quot;: &quot;={{ $json.sheet }}&quot;,<br>                    &quot;rightValue&quot;: &quot;Categories&quot;<br>                  }<br>                ]<br>              },<br>              &quot;renameOutput&quot;: true<br>            }<br>          ]<br>        },<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 3<br>    },<br>    {<br>      &quot;id&quot;: &quot;7fe047c7-716c-4ac3-8b7c-c07949c579a4&quot;,<br>      &quot;name&quot;: &quot;Sticky Note2&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        459.1561069271204,<br>        320<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 1627.0681704544622,<br>        &quot;height&quot;: 636.4009080766225,<br>        &quot;content&quot;: &quot;## Prepare data in Google Sheets\nThis part of the workflow prepares the data for reading from a Google Sheets document containing information about different services or categories. Here&#39;s an example of Google Sheet: https://docs.google.com/spreadsheets/d/1DCf-phfLWvuTwu02bumx-qykVQeFANnacTTAkRj5tZk/edit?usp=sharing&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;cb3dc532-40db-437d-97ec-f522e6087b7c&quot;,<br>      &quot;name&quot;: &quot;Sticky Note3&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        498.4444710709047,<br>        1080<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 513.3200522929088,<br>        &quot;height&quot;: 840.0651105548446,<br>        &quot;content&quot;: &quot;## Create your Q&amp;A templates\nFor each service or category, this part of the workflow generates a set of standard questions and answers covering setup, permissions, integrations, use cases, and pricing benefits. You can modify here the input that you will feed to AI.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;b4095a1b-91aa-4abc-8ed5-d6ca7271ee6c&quot;,<br>      &quot;name&quot;: &quot;Sticky Note4&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1238.4444710709047,<br>        1640<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 989.1782467385665,<br>        &quot;height&quot;: 523.7514972875132,<br>        &quot;content&quot;: &quot;## Complete your Q&amp;A templates with AI\n* An AI model (OpenAI&#39;s GPT) is used to enhance or complete some of the answers, making the content more comprehensive and natural-sounding.\n* The workflow formats the Q&amp;A pairs, combining AI-generated content with predefined answers where applicable.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;d944dfd9-4bfc-4fb0-8655-3269f6caa8ef&quot;,<br>      &quot;name&quot;: &quot;Sticky Note5&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1858.4444710709047,<br>        1200<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 907.1258470912726,<br>        &quot;height&quot;: 396.4865508957922,<br>        &quot;content&quot;: &quot;## Generate JSON schemas and upload to Google Drive\n* The generated files are saved to specific folders in Google Drive, organized by the type of integration (native, credential-only, non-native) or category.\n* After processing each service or category, it updates the status in the original Google Sheets document to mark it as completed.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;e21d2a42-021f-4f8e-889d-68a851e9e688&quot;,<br>      &quot;name&quot;: &quot;Strapi&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.strapi&quot;,<br>      &quot;position&quot;: [<br>        2978.444471070905,<br>        1380<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;operation&quot;: &quot;create&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;92ba57a7-a37a-4d67-9db9-7fa2fe72eec5&quot;,<br>      &quot;name&quot;: &quot;Sticky Note6&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        2918.444471070905,<br>        1100<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 437.8755022115163,<br>        &quot;height&quot;: 1073.2774375197612,<br>        &quot;content&quot;: &quot;## Send the JSON schemas to your CMS\nThis step is up to you to finish: you can choose either pre-built n8n nodes to connect with your CMS or use the HTTP Request node if you CMS is not supported directly in n8n.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;a42de52f-292b-4b60-ba6d-ff1a672a9758&quot;,<br>      &quot;name&quot;: &quot;Wordpress&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.wordpress&quot;,<br>      &quot;position&quot;: [<br>        2978.444471070905,<br>        1580<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;additionalFields&quot;: {}<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;wordpressApi&quot;: {<br>          &quot;id&quot;: &quot;dk1CzqTOkihXrjym&quot;,<br>          &quot;name&quot;: &quot;Wordpress account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;abcad9f3-9f05-40e7-8925-32c59b1a6355&quot;,<br>      &quot;name&quot;: &quot;Webflow&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.webflow&quot;,<br>      &quot;position&quot;: [<br>        2978.444471070905,<br>        1780<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;operation&quot;: &quot;create&quot;<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;60942673-646f-43df-8c0c-c78975ea38c4&quot;,<br>      &quot;name&quot;: &quot;HTTP Request&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.httpRequest&quot;,<br>      &quot;position&quot;: [<br>        2978.444471070905,<br>        1980<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 4.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;d0a97b0c-1271-48e7-8587-5aae565b9d95&quot;,<br>      &quot;name&quot;: &quot;AI Completion1&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.chainLlm&quot;,<br>      &quot;position&quot;: [<br>        1678.4444710709047,<br>        1880<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;text&quot;: &quot;=### The question\n{{ $json.question }}\n### Prefered answer format\n{{ $json.ai_completion_format ? &#39;markdown bullet list&#39; : &#39;markdown&#39; }}\n### User&#39;s answer\n{{ $json.answer }}\n{{\n$json.ai_example\n  ? `### Guidance\\nWhen giving answer, follow this blueprint: ${$json.ai_example}`\n  : &#39;&#39;\n}}&quot;,<br>        &quot;messages&quot;: {<br>          &quot;messageValues&quot;: [<br>            {<br>              &quot;message&quot;: &quot;=You are assisting with writing a FAQ for the service, {{ $(&#39;Execute Workflow Trigger&#39;).first().json.data.displayName || $(&#39;Execute Workflow Trigger&#39;).first().json.data[&#39;Category name&#39;] }}. Complete the user&#39;s answer in regards to the given question. Ensure the answer is consistent by assuming the tone and style of the user&#39;s answer. Give your answer as succinctly as you can with no more than 3 sentences. Do not mention the user or use markdown, return plain text only as this output will be directly appended.&quot;<br>            }<br>          ]<br>        },<br>        &quot;promptType&quot;: &quot;define&quot;<br>      },<br>      &quot;executeOnce&quot;: false,<br>      &quot;typeVersion&quot;: 1.4<br>    }<br>  ],<br>  &quot;pinData&quot;: {},<br>  &quot;connections&quot;: {<br>    &quot;Switch&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Single Integration Native&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;Single Integration Cred-only&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;Single Integration Non-native&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;Categories&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Categories&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Question to List1&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;If has Data&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Execute Workflow&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;For Each Service...&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Prepare Job&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;For Each Sheet...&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Get Services&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Prepare Job&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Define Sheets&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Sheets To List...&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;AI Completion1&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Format QA Pair1&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Format QA Pair1&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;For Each Question...1&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Create From Text&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Update Row Status&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Execute Workflow&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;For Each Service...&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;For Each Sheet...&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;For Each Service...&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;Get Services&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;OpenAI Chat Model&quot;: {<br>      &quot;ai_languageModel&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Completion1&quot;,<br>            &quot;type&quot;: &quot;ai_languageModel&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Question to List1&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;For Each Question...1&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Sheets To List...&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;For Each Sheet...&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Update Row Status&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Strapi&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;For Each Service...&quot;: {<br>      &quot;main&quot;: [<br>        null,<br>        [<br>          {<br>            &quot;node&quot;: &quot;If has Data&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;For Each Question...1&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Questions to Object...1&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;Needs AI Completion?1&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Needs AI Completion?1&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Format QA Pair1&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;AI Completion1&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Questions to Object...1&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Format DisplayName + Questions1&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Execute Workflow Trigger&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Switch&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Single Integration Native&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Question to List1&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Single Integration Cred-only&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Question to List1&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Single Integration Non-native&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Question to List1&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Format DisplayName + Questions1&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Create From Text&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;When clicking ‚ÄòTest workflow‚Äô&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Define Sheets&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    }<br>  }<br>}</div></td></tr><tr style="height: 59px"><th id="0R34" style="height: 59px;" class="row-headers-background"><div class="row-header-wrapper" style="line-height: 59px">35</div></th><td class="s3" dir="ltr">Raspador y analizador de ofertas de trabajo en Hacker News</td><td class="s4 softmerge" dir="ltr"><div class="softmerge-inner" style="width:5933px;left:-3px">{<br>  &quot;id&quot;: &quot;0JsHmmyeHw5Ffz5m&quot;,<br>  &quot;meta&quot;: {<br>    &quot;instanceId&quot;: &quot;d4d7965840e96e50a3e02959a8487c692901dfa8d5cc294134442c67ce1622d3&quot;,<br>    &quot;templateCredsSetupCompleted&quot;: true<br>  },<br>  &quot;name&quot;: &quot;HN Who is Hiring Scrape&quot;,<br>  &quot;tags&quot;: [],<br>  &quot;nodes&quot;: [<br>    {<br>      &quot;id&quot;: &quot;f7cdb3ee-9bb0-4006-829a-d4ce797191d5&quot;,<br>      &quot;name&quot;: &quot;When clicking ‚ÄòTest workflow‚Äô&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.manualTrigger&quot;,<br>      &quot;position&quot;: [<br>        -20,<br>        -220<br>      ],<br>      &quot;parameters&quot;: {},<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;0475e25d-9bf4-450d-abd3-a04608a438a4&quot;,<br>      &quot;name&quot;: &quot;Sticky Note&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        60,<br>        -620<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 460,<br>        &quot;height&quot;: 340,<br>        &quot;content&quot;: &quot;## Go to https://hn.algolia.com\n- filter by \&quot;Ask HN: Who is hiring?\&quot; (important with quotes for full match)\n- sort by date\n- Chrome Network Tab &gt; find API call &gt; click \&quot;Copy as cURL\&quot;\n- n8n HTTP node -&gt; import cURL and paste \n- I&#39;ve set the API key as Header Auth so you will have to do the above yourself to make this work&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;a686852b-ff84-430b-92bb-ce02a6808e19&quot;,<br>      &quot;name&quot;: &quot;Split Out&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.splitOut&quot;,<br>      &quot;position&quot;: [<br>        400,<br>        -220<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;fieldToSplitOut&quot;: &quot;hits&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;cdaaa738-d561-4fa0-b2c7-8ea9e6778eb1&quot;,<br>      &quot;name&quot;: &quot;Sticky Note1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1260,<br>        -620<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 500,<br>        &quot;height&quot;: 340,<br>        &quot;content&quot;: &quot;## Go to HN API \nhttps://github.com/HackerNews/API\n\nWe&#39;ll need following endpoints: \n- For example, a story: https://hacker-news.firebaseio.com/v0/item/8863.json?print=pretty\n- comment: https://hacker-news.firebaseio.com/v0/item/2921983.json?print=pretty\n\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;4f353598-9e32-4be4-9e7b-c89cc05305fd&quot;,<br>      &quot;name&quot;: &quot;OpenAI Chat Model&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.lmChatOpenAi&quot;,<br>      &quot;position&quot;: [<br>        2680,<br>        -20<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;model&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;gpt-4o-mini&quot;<br>        },<br>        &quot;options&quot;: {}<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;openAiApi&quot;: {<br>          &quot;id&quot;: &quot;Fbb2ueT0XP5xMRme&quot;,<br>          &quot;name&quot;: &quot;OpenAi account 2&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;5bd0d7cc-497a-497c-aa4c-589d9ceeca14&quot;,<br>      &quot;name&quot;: &quot;Structured Output Parser&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.outputParserStructured&quot;,<br>      &quot;position&quot;: [<br>        2840,<br>        -20<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;schemaType&quot;: &quot;manual&quot;,<br>        &quot;inputSchema&quot;: &quot;{\n  \&quot;type\&quot;: \&quot;object\&quot;,\n  \&quot;properties\&quot;: {\n    \&quot;company\&quot;: {\n      \&quot;type\&quot;: [\n        \&quot;string\&quot;,\n        null\n      ],\n      \&quot;description\&quot;: \&quot;Name of the hiring company\&quot;\n    },\n    \&quot;title\&quot;: {\n      \&quot;type\&quot;: [\n        \&quot;string\&quot;,\n        null\n      ],\n      \&quot;description\&quot;: \&quot;Job title/role being advertised\&quot;\n    },\n    \&quot;location\&quot;: {\n      \&quot;type\&quot;: [\n        \&quot;string\&quot;,\n        null\n      ],\n      \&quot;description\&quot;: \&quot;Work location including remote/hybrid status\&quot;\n    },\n    \&quot;type\&quot;: {\n      \&quot;type\&quot;: [\n        \&quot;string\&quot;,\n        null\n      ],\n      \&quot;enum\&quot;: [\n        \&quot;FULL_TIME\&quot;,\n        \&quot;PART_TIME\&quot;,\n        \&quot;CONTRACT\&quot;,\n        \&quot;INTERNSHIP\&quot;,\n        \&quot;FREELANCE\&quot;,\n        null\n      ],\n      \&quot;description\&quot;: \&quot;Employment type (Full-time, Contract, etc)\&quot;\n    },\n    \&quot;work_location\&quot;: {\n      \&quot;type\&quot;: [\n        \&quot;string\&quot;,\n        null\n      ],\n      \&quot;enum\&quot;: [\n        \&quot;REMOTE\&quot;,\n        \&quot;HYBRID\&quot;,\n        \&quot;ON_SITE\&quot;,\n        null\n      ],\n      \&quot;description\&quot;: \&quot;Work arrangement type\&quot;\n    },\n    \&quot;salary\&quot;: {\n      \&quot;type\&quot;: [\n        \&quot;string\&quot;,\n        null\n      ],\n      \&quot;description\&quot;: \&quot;Compensation details if provided\&quot;\n    },\n    \&quot;description\&quot;: {\n      \&quot;type\&quot;: [\n        \&quot;string\&quot;,\n        null\n      ],\n      \&quot;description\&quot;: \&quot;Main job description text including requirements and team info\&quot;\n    },\n    \&quot;apply_url\&quot;: {\n      \&quot;type\&quot;: [\n        \&quot;string\&quot;,\n        null\n      ],\n      \&quot;description\&quot;: \&quot;Direct application/job posting URL\&quot;\n    },\n    \&quot;company_url\&quot;: {\n      \&quot;type\&quot;: [\n        \&quot;string\&quot;,\n        null\n      ],\n      \&quot;description\&quot;: \&quot;Company website or careers page\&quot;\n    }\n  }\n}\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;b84ca004-6f3b-4577-8910-61b8584b161d&quot;,<br>      &quot;name&quot;: &quot;Search for Who is hiring posts&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.httpRequest&quot;,<br>      &quot;position&quot;: [<br>        200,<br>        -220<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;url&quot;: &quot;https://uj5wyc0l7x-dsn.algolia.net/1/indexes/Item_dev_sort_date/query&quot;,<br>        &quot;method&quot;: &quot;POST&quot;,<br>        &quot;options&quot;: {},<br>        &quot;jsonBody&quot;: &quot;{\n  \&quot;query\&quot;: \&quot;\\\&quot;Ask HN: Who is hiring\\\&quot;\&quot;,\n  \&quot;analyticsTags\&quot;: [\n    \&quot;web\&quot;\n  ],\n  \&quot;page\&quot;: 0,\n  \&quot;hitsPerPage\&quot;: 30,\n  \&quot;minWordSizefor1Typo\&quot;: 4,\n  \&quot;minWordSizefor2Typos\&quot;: 8,\n  \&quot;advancedSyntax\&quot;: true,\n  \&quot;ignorePlurals\&quot;: false,\n  \&quot;clickAnalytics\&quot;: true,\n  \&quot;minProximity\&quot;: 7,\n  \&quot;numericFilters\&quot;: [],\n  \&quot;tagFilters\&quot;: [\n    [\n      \&quot;story\&quot;\n    ],\n    []\n  ],\n  \&quot;typoTolerance\&quot;: \&quot;min\&quot;,\n  \&quot;queryType\&quot;: \&quot;prefixNone\&quot;,\n  \&quot;restrictSearchableAttributes\&quot;: [\n    \&quot;title\&quot;,\n    \&quot;comment_text\&quot;,\n    \&quot;url\&quot;,\n    \&quot;story_text\&quot;,\n    \&quot;author\&quot;\n  ],\n  \&quot;getRankingInfo\&quot;: true\n}&quot;,<br>        &quot;sendBody&quot;: true,<br>        &quot;sendQuery&quot;: true,<br>        &quot;sendHeaders&quot;: true,<br>        &quot;specifyBody&quot;: &quot;json&quot;,<br>        &quot;authentication&quot;: &quot;genericCredentialType&quot;,<br>        &quot;genericAuthType&quot;: &quot;httpHeaderAuth&quot;,<br>        &quot;queryParameters&quot;: {<br>          &quot;parameters&quot;: [<br>            {<br>              &quot;name&quot;: &quot;x-algolia-agent&quot;,<br>              &quot;value&quot;: &quot;Algolia for JavaScript (4.13.1); Browser (lite)&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;x-algolia-application-id&quot;,<br>              &quot;value&quot;: &quot;UJ5WYC0L7X&quot;<br>            }<br>          ]<br>        },<br>        &quot;headerParameters&quot;: {<br>          &quot;parameters&quot;: [<br>            {<br>              &quot;name&quot;: &quot;Accept&quot;,<br>              &quot;value&quot;: &quot;*/*&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;Accept-Language&quot;,<br>              &quot;value&quot;: &quot;en-GB,en-US;q=0.9,en;q=0.8&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;Connection&quot;,<br>              &quot;value&quot;: &quot;keep-alive&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;DNT&quot;,<br>              &quot;value&quot;: &quot;1&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;Origin&quot;,<br>              &quot;value&quot;: &quot;https://hn.algolia.com&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;Referer&quot;,<br>              &quot;value&quot;: &quot;https://hn.algolia.com/&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;Sec-Fetch-Dest&quot;,<br>              &quot;value&quot;: &quot;empty&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;Sec-Fetch-Mode&quot;,<br>              &quot;value&quot;: &quot;cors&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;Sec-Fetch-Site&quot;,<br>              &quot;value&quot;: &quot;cross-site&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;User-Agent&quot;,<br>              &quot;value&quot;: &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;sec-ch-ua&quot;,<br>              &quot;value&quot;: &quot;\&quot;Chromium\&quot;;v=\&quot;133\&quot;, \&quot;Not(A:Brand\&quot;;v=\&quot;99\&quot;&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;sec-ch-ua-mobile&quot;,<br>              &quot;value&quot;: &quot;?0&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;sec-ch-ua-platform&quot;,<br>              &quot;value&quot;: &quot;\&quot;macOS\&quot;&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;httpHeaderAuth&quot;: {<br>          &quot;id&quot;: &quot;oVEXp2ZbYCXypMVz&quot;,<br>          &quot;name&quot;: &quot;Algolia Auth&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 4.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;205e66f6-cd6b-4cfd-a6ec-2226c35ddaac&quot;,<br>      &quot;name&quot;: &quot;Get relevant data&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        700,<br>        -220<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;73dd2325-faa7-4650-bd78-5fc97cc202de&quot;,<br>              &quot;name&quot;: &quot;title&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $json.title }}&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;44918eac-4510-440e-9ac0-bf14d2b2f3af&quot;,<br>              &quot;name&quot;: &quot;createdAt&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $json.created_at }}&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;00eb6f09-2c22-411c-949c-886b2d95b6eb&quot;,<br>              &quot;name&quot;: &quot;updatedAt&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $json.updated_at }}&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;2b4f9da6-f60e-46e0-ba9d-3242fa955a55&quot;,<br>              &quot;name&quot;: &quot;storyId&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $json.story_id }}&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;16bc5628-8a29-4eac-8be9-b4e9da802e1e&quot;,<br>      &quot;name&quot;: &quot;Get latest post&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.filter&quot;,<br>      &quot;position&quot;: [<br>        900,<br>        -220<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;conditions&quot;: {<br>          &quot;options&quot;: {<br>            &quot;version&quot;: 2,<br>            &quot;leftValue&quot;: &quot;&quot;,<br>            &quot;caseSensitive&quot;: true,<br>            &quot;typeValidation&quot;: &quot;strict&quot;<br>          },<br>          &quot;combinator&quot;: &quot;and&quot;,<br>          &quot;conditions&quot;: [<br>            {<br>              &quot;id&quot;: &quot;d7dd7175-2a50-45aa-bd3e-4c248c9193c4&quot;,<br>              &quot;operator&quot;: {<br>                &quot;type&quot;: &quot;dateTime&quot;,<br>                &quot;operation&quot;: &quot;after&quot;<br>              },<br>              &quot;leftValue&quot;: &quot;={{ $json.createdAt }}&quot;,<br>              &quot;rightValue&quot;: &quot;={{$now.minus({days: 30})}} &quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;92e1ef74-5ae1-4195-840b-115184db464f&quot;,<br>      &quot;name&quot;: &quot;Split out children (jobs)&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.splitOut&quot;,<br>      &quot;position&quot;: [<br>        1460,<br>        -220<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;fieldToSplitOut&quot;: &quot;kids&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;d0836aae-b98a-497f-a6f7-0ad563c262a0&quot;,<br>      &quot;name&quot;: &quot;Trun into structured data&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.chainLlm&quot;,<br>      &quot;position&quot;: [<br>        2600,<br>        -220<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;text&quot;: &quot;={{ $json.cleaned_text }}&quot;,<br>        &quot;messages&quot;: {<br>          &quot;messageValues&quot;: [<br>            {<br>              &quot;message&quot;: &quot;Extract the JSON data&quot;<br>            }<br>          ]<br>        },<br>        &quot;promptType&quot;: &quot;define&quot;,<br>        &quot;hasOutputParser&quot;: true<br>      },<br>      &quot;typeVersion&quot;: 1.5<br>    },<br>    {<br>      &quot;id&quot;: &quot;fd818a93-627c-435d-91ba-5d759d5a9004&quot;,<br>      &quot;name&quot;: &quot;Sticky Note2&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        2600,<br>        -620<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 840,<br>        &quot;height&quot;: 340,<br>        &quot;content&quot;: &quot;## Data Structure\n\nWe use Openai GPT-4o-mini to transform the raw data in a unified data structure. Feel free to change this.\n\n```json\n{\n  \&quot;company\&quot;: \&quot;Name of the hiring company\&quot;,\n  \&quot;title\&quot;: \&quot;Job title/role being advertised\&quot;,\n  \&quot;location\&quot;: \&quot;Work location including remote/hybrid status\&quot;,\n  \&quot;type\&quot;: \&quot;Employment type (Full-time, Contract, etc)\&quot;,\n  \&quot;salary\&quot;: \&quot;Compensation details if provided\&quot;,\n  \&quot;description\&quot;: \&quot;Main job description text including requirements and team info\&quot;,\n  \&quot;apply_url\&quot;: \&quot;Direct application/job posting URL\&quot;,\n  \&quot;company_url\&quot;: \&quot;Company website or careers page\&quot;\n}\n```&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;b70c5578-5b81-467a-8ac2-65374e4e52f3&quot;,<br>      &quot;name&quot;: &quot;Extract text&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        1860,<br>        -220<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;6affa370-56ce-4ad8-8534-8f753fdf07fc&quot;,<br>              &quot;name&quot;: &quot;text&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;={{ $json.text }}&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;acb68d88-9417-42e9-9bcc-7c2fa95c4afd&quot;,<br>      &quot;name&quot;: &quot;Clean text&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.code&quot;,<br>      &quot;position&quot;: [<br>        2060,<br>        -220<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;jsCode&quot;: &quot;// In a Function node in n8n\nconst inputData = $input.all();\n\nfunction cleanAllPosts(data) {\n    return data.map(item =&gt; {\n        try {\n            // Check if item exists and has the expected structure\n            if (!item || typeof item !== &#39;object&#39;) {\n                return { cleaned_text: &#39;&#39;, error: &#39;Invalid item structure&#39; };\n            }\n\n            // Get the text, with multiple fallbacks\n            let text = &#39;&#39;;\n            if (typeof item === &#39;string&#39;) {\n                text = item;\n            } else if (item.json &amp;&amp; item.json.text) {\n                text = item.json.text;\n            } else if (typeof item.json === &#39;string&#39;) {\n                text = item.json;\n            } else {\n                text = JSON.stringify(item);\n            }\n\n            // Make sure text is a string\n            text = String(text);\n            \n            // Perform the cleaning operations\n            try {\n                text = text.replace(/&amp;#x2F;/g, &#39;/&#39;);\n                text = text.replace(/&amp;#x27;/g, \&quot;&#39;\&quot;);\n                text = text.replace(/&amp;\\w+;/g, &#39; &#39;);\n                text = text.replace(/&lt;[^&gt;]*&gt;/g, &#39;&#39;);\n                text = text.replace(/\\|\\s*/g, &#39;| &#39;);\n                text = text.replace(/\\s+/g, &#39; &#39;);\n                text = text.replace(/\\s*(https?:\\/\\/[^\\s]+)\\s*/g, &#39;\\n$1\\n&#39;);\n                text = text.replace(/\\n{3,}/g, &#39;\\n\\n&#39;);\n                text = text.trim();\n            } catch (cleaningError) {\n                console.log(&#39;Error during text cleaning:&#39;, cleaningError);\n                // Return original text if cleaning fails\n                return { cleaned_text: text, warning: &#39;Partial cleaning applied&#39; };\n            }\n\n            return { cleaned_text: text };\n            \n        } catch (error) {\n            console.log(&#39;Error processing item:&#39;, error);\n            return { \n                cleaned_text: &#39;&#39;, \n                error: `Processing error: ${error.message}`,\n                original: item\n            };\n        }\n    }).filter(result =&gt; result.cleaned_text || result.error); \n}\n\ntry {\n    return cleanAllPosts(inputData);\n} catch (error) {\n    console.log(&#39;Fatal error:&#39;, error);\n    return [{ \n        cleaned_text: &#39;&#39;, \n        error: `Fatal error: ${error.message}`,\n        input: inputData \n    }];\n}\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;a0727b55-565d-47c0-9ab5-0f001f4b9941&quot;,<br>      &quot;name&quot;: &quot;Limit for testing (optional)&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.limit&quot;,<br>      &quot;position&quot;: [<br>        2280,<br>        -220<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;maxItems&quot;: 5<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;650baf5e-c2ac-443d-8a2b-6df89717186f&quot;,<br>      &quot;name&quot;: &quot;Sticky Note3&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        580,<br>        -620<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 540,<br>        &quot;height&quot;: 340,<br>        &quot;content&quot;: &quot;## Clean the result \n\n```json\n{\n\&quot;title\&quot;: \&quot;Ask HN: Who is hiring? (February 2025)\&quot;,\n\&quot;createdAt\&quot;: \&quot;2025-02-03T16:00:43Z\&quot;,\n\&quot;updatedAt\&quot;: \&quot;2025-02-17T08:35:44Z\&quot;,\n\&quot;storyId\&quot;: \&quot;42919502\&quot;\n},\n{\n\&quot;title\&quot;: \&quot;Ask HN: Who is hiring? (January 2025)\&quot;,\n\&quot;createdAt\&quot;: \&quot;2025-01-02T16:00:09Z\&quot;,\n\&quot;updatedAt\&quot;: \&quot;2025-02-13T00:03:24Z\&quot;,\n\&quot;storyId\&quot;: \&quot;42575537\&quot;\n},\n```&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;1ca5c39f-f21d-455a-b63a-702e7e3ba02b&quot;,<br>      &quot;name&quot;: &quot;Write results to airtable&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.airtable&quot;,<br>      &quot;position&quot;: [<br>        3040,<br>        -220<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;base&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;appM2JWvA5AstsGdn&quot;,<br>          &quot;cachedResultUrl&quot;: &quot;https://airtable.com/appM2JWvA5AstsGdn&quot;,<br>          &quot;cachedResultName&quot;: &quot;HN Who is hiring?&quot;<br>        },<br>        &quot;table&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;tblGvcOjqbliwM7AS&quot;,<br>          &quot;cachedResultUrl&quot;: &quot;https://airtable.com/appM2JWvA5AstsGdn/tblGvcOjqbliwM7AS&quot;,<br>          &quot;cachedResultName&quot;: &quot;Table 1&quot;<br>        },<br>        &quot;columns&quot;: {<br>          &quot;value&quot;: {<br>            &quot;type&quot;: &quot;={{ $json.output.type }}&quot;,<br>            &quot;title&quot;: &quot;={{ $json.output.title }}&quot;,<br>            &quot;salary&quot;: &quot;={{ $json.output.salary }}&quot;,<br>            &quot;company&quot;: &quot;={{ $json.output.company }}&quot;,<br>            &quot;location&quot;: &quot;={{ $json.output.location }}&quot;,<br>            &quot;apply_url&quot;: &quot;={{ $json.output.apply_url }}&quot;,<br>            &quot;company_url&quot;: &quot;={{ $json.output.company_url }}&quot;,<br>            &quot;description&quot;: &quot;={{ $json.output.description }}&quot;<br>          },<br>          &quot;schema&quot;: [<br>            {<br>              &quot;id&quot;: &quot;title&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;removed&quot;: false,<br>              &quot;readOnly&quot;: false,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;title&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;company&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;removed&quot;: false,<br>              &quot;readOnly&quot;: false,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;company&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;location&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;removed&quot;: false,<br>              &quot;readOnly&quot;: false,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;location&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;type&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;removed&quot;: false,<br>              &quot;readOnly&quot;: false,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;type&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;salary&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;removed&quot;: false,<br>              &quot;readOnly&quot;: false,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;salary&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;description&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;removed&quot;: false,<br>              &quot;readOnly&quot;: false,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;description&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;apply_url&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;removed&quot;: false,<br>              &quot;readOnly&quot;: false,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;apply_url&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;company_url&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;removed&quot;: false,<br>              &quot;readOnly&quot;: false,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;company_url&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            },<br>            {<br>              &quot;id&quot;: &quot;posted_date&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;display&quot;: true,<br>              &quot;removed&quot;: true,<br>              &quot;readOnly&quot;: false,<br>              &quot;required&quot;: false,<br>              &quot;displayName&quot;: &quot;posted_date&quot;,<br>              &quot;defaultMatch&quot;: false,<br>              &quot;canBeUsedToMatch&quot;: true<br>            }<br>          ],<br>          &quot;mappingMode&quot;: &quot;defineBelow&quot;,<br>          &quot;matchingColumns&quot;: [],<br>          &quot;attemptToConvertTypes&quot;: false,<br>          &quot;convertFieldsToString&quot;: false<br>        },<br>        &quot;options&quot;: {},<br>        &quot;operation&quot;: &quot;create&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;airtableTokenApi&quot;: {<br>          &quot;id&quot;: &quot;IudXLNj7CDuc5M5a&quot;,<br>          &quot;name&quot;: &quot;Airtable Personal Access Token account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;d71fa024-86a0-4f74-b033-1f755574080c&quot;,<br>      &quot;name&quot;: &quot;Sticky Note4&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -520,<br>        -300<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 380,<br>        &quot;height&quot;: 500,<br>        &quot;content&quot;: &quot;## Hacker News - Who is Hiring Scrape\n\nIn this template we setup a scraper for the monthly HN Who is Hiring post. This way we can scrape the data and transform it to a common data strcutre.\n\nFirst we use the [Algolia Search](https://hn.algolia.com/) provided by hackernews to drill down the results.\n\nWe can use the official [Hacker News API](https://github.com/HackerNews/API\n) to get the post data and also all the replies!\n\nThis will obviously work for any kind of post on hacker news! Get creative üòÉ\n\nAll you need is an Openai Account to structure the text data and an Airtable Account (or similar) to write the results to a list.\n\nCopy my base https://airtable.com/appM2JWvA5AstsGdn/shrAuo78cJt5C2laR&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;7466fb0c-9f0c-4adf-a6de-b2cf09032719&quot;,<br>      &quot;name&quot;: &quot;HI API: Get the individual job post&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.httpRequest&quot;,<br>      &quot;position&quot;: [<br>        1660,<br>        -220<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;url&quot;: &quot;=https://hacker-news.firebaseio.com/v0/item/{{ $json.kids }}.json?print=pretty&quot;,<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 4.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;184abccf-5838-49bf-9922-e0300c6b145e&quot;,<br>      &quot;name&quot;: &quot;HN API: Get Main Post&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.httpRequest&quot;,<br>      &quot;position&quot;: [<br>        1260,<br>        -220<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;url&quot;: &quot;=https://hacker-news.firebaseio.com/v0/item/{{ $json.storyId }}.json?print=pretty&quot;,<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 4.2<br>    }<br>  ],<br>  &quot;active&quot;: false,<br>  &quot;pinData&quot;: {},<br>  &quot;settings&quot;: {<br>    &quot;executionOrder&quot;: &quot;v1&quot;<br>  },<br>  &quot;versionId&quot;: &quot;387f7084-58fa-4643-9351-73c870d3f028&quot;,<br>  &quot;connections&quot;: {<br>    &quot;Split Out&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Get relevant data&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Clean text&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Limit for testing (optional)&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Extract text&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Clean text&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Get latest post&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;HN API: Get Main Post&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Get relevant data&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Get latest post&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;OpenAI Chat Model&quot;: {<br>      &quot;ai_languageModel&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Trun into structured data&quot;,<br>            &quot;type&quot;: &quot;ai_languageModel&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;HN API: Get Main Post&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Split out children (jobs)&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Structured Output Parser&quot;: {<br>      &quot;ai_outputParser&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Trun into structured data&quot;,<br>            &quot;type&quot;: &quot;ai_outputParser&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Split out children (jobs)&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;HI API: Get the individual job post&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Trun into structured data&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Write results to airtable&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Limit for testing (optional)&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Trun into structured data&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Search for Who is hiring posts&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Split Out&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;When clicking ‚ÄòTest workflow‚Äô&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Search for Who is hiring posts&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;HI API: Get the individual job post&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Extract text&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    }<br>  }<br>}</div></td></tr><tr style="height: 59px"><th id="0R35" style="height: 59px;" class="row-headers-background"><div class="row-header-wrapper" style="line-height: 59px">36</div></th><td class="s5" dir="ltr">Cualificaci√≥n de solicitudes de cita con IA y formularios de n8n</td><td class="s6 softmerge" dir="ltr"><div class="softmerge-inner" style="width:4104px;left:-3px">{<br>  &quot;meta&quot;: {<br>    &quot;instanceId&quot;: &quot;408f9fb9940c3cb18ffdef0e0150fe342d6e655c3a9fac21f0f644e8bedabcd9&quot;<br>  },<br>  &quot;nodes&quot;: [<br>    {<br>      &quot;id&quot;: &quot;76589d1c-45f3-4a89-906f-8ef300d34964&quot;,<br>      &quot;name&quot;: &quot;n8n Form Trigger&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.formTrigger&quot;,<br>      &quot;position&quot;: [<br>        -2520,<br>        -280<br>      ],<br>      &quot;webhookId&quot;: &quot;5e7637dd-d222-4786-8cdc-7b66cebc1481&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;path&quot;: &quot;schedule_appointment&quot;,<br>        &quot;options&quot;: {<br>          &quot;ignoreBots&quot;: true,<br>          &quot;appendAttribution&quot;: true,<br>          &quot;useWorkflowTimezone&quot;: true<br>        },<br>        &quot;formTitle&quot;: &quot;Schedule an Appointment&quot;,<br>        &quot;formFields&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;fieldLabel&quot;: &quot;Your Name&quot;,<br>              &quot;placeholder&quot;: &quot;eg. Sam Smith&quot;,<br>              &quot;requiredField&quot;: true<br>            },<br>            {<br>              &quot;fieldType&quot;: &quot;email&quot;,<br>              &quot;fieldLabel&quot;: &quot;Email&quot;,<br>              &quot;placeholder&quot;: &quot;eg. sam@example.com&quot;,<br>              &quot;requiredField&quot;: true<br>            },<br>            {<br>              &quot;fieldType&quot;: &quot;textarea&quot;,<br>              &quot;fieldLabel&quot;: &quot;Enquiry&quot;,<br>              &quot;placeholder&quot;: &quot;eg. I&#39;m looking for...&quot;,<br>              &quot;requiredField&quot;: true<br>            }<br>          ]<br>        },<br>        &quot;formDescription&quot;: &quot;Welcome to Jim&#39;s Appointment Form.\nBefore we set a date, please tell me a little about yourself and how I can help.&quot;<br>      },<br>      &quot;typeVersion&quot;: 2.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;194b7073-fa33-4e75-85ed-c02724c8075c&quot;,<br>      &quot;name&quot;: &quot;Form End&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.form&quot;,<br>      &quot;position&quot;: [<br>        -420,<br>        -260<br>      ],<br>      &quot;webhookId&quot;: &quot;8fcc907b-bc2e-4fdf-a829-82c83e677724&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {<br>          &quot;formTitle&quot;: &quot;Appointment Request Sent!&quot;<br>        },<br>        &quot;operation&quot;: &quot;completion&quot;,<br>        &quot;completionTitle&quot;: &quot;Appointment Request Sent!&quot;,<br>        &quot;completionMessage&quot;: &quot;=Thank you for submitting an appointment request. A confirmation of this request will be sent to your inbox. I&#39;ll get back to you shortly with a confirmation of the appointment.\n\nHere is the summary of the appointment request.\n\nName: {{ $(&#39;Get Form Values&#39;).item.json.name }}\nDate &amp; Time: {{ DateTime.fromISO($(&#39;Get Form Values&#39;).item.json.dateTime).format(&#39;EEE, dd MMM @ t&#39;) }}\nEnquiry: {{ $(&#39;Get Form Values&#39;).item.json.enquiry.trim() }}\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;688ea2cc-b595-4b6f-9214-d5dfd3893172&quot;,<br>      &quot;name&quot;: &quot;Enter Date &amp; Time&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.form&quot;,<br>      &quot;position&quot;: [<br>        -1260,<br>        -320<br>      ],<br>      &quot;webhookId&quot;: &quot;0cd03415-66f8-4c82-8069-5bfd8ea310bd&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {<br>          &quot;formTitle&quot;: &quot;Enter a Date &amp; Time&quot;,<br>          &quot;formDescription&quot;: &quot;=Please select a date and time&quot;<br>        },<br>        &quot;defineForm&quot;: &quot;json&quot;,<br>        &quot;jsonOutput&quot;: &quot;={{\n[\n   {\n      \&quot;fieldLabel\&quot;:\&quot;Date\&quot;,\n      \&quot;requiredField\&quot;:true,\n      \&quot;fieldType\&quot;: \&quot;dropdown\&quot;,\n      \&quot;fieldOptions\&quot;:\n        Array(5).fill(0)\n          .map((_,idx) =&gt; $now.plus(idx+1, &#39;day&#39;))\n          .filter(d =&gt; !d.isWeekend)\n          .map(d =&gt; ({ option: d.format(&#39;EEE, d MMM&#39;) }))\n   },\n   {\n     \&quot;fieldLabel\&quot;: \&quot;Time\&quot;,\n     \&quot;requiredField\&quot;: true,\n     \&quot;fieldType\&quot;: \&quot;dropdown\&quot;,\n     \&quot;fieldOptions\&quot;: [\n        { \&quot;option\&quot;: \&quot;9:00 am\&quot; },\n        { \&quot;option\&quot;: \&quot;10:00 am\&quot; },\n        { \&quot;option\&quot;: \&quot;11:00 am\&quot; },\n        { \&quot;option\&quot;: \&quot;12:00 pm\&quot; },\n        { \&quot;option\&quot;: \&quot;1:00 pm\&quot; },\n        { \&quot;option\&quot;: \&quot;2:00 pm\&quot; },\n        { \&quot;option\&quot;: \&quot;3:00 pm\&quot; },\n        { \&quot;option\&quot;: \&quot;4:00 pm\&quot; },\n        { \&quot;option\&quot;: \&quot;5:00 pm\&quot; },\n        { \&quot;option\&quot;: \&quot;6:00 pm\&quot; }\n     ]\n   }\n]\n}}&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;602c40f9-ab11-4908-aab3-1a199126e097&quot;,<br>      &quot;name&quot;: &quot;Get Form Values&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        -900,<br>        -260<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;mode&quot;: &quot;raw&quot;,<br>        &quot;options&quot;: {},<br>        &quot;jsonOutput&quot;: &quot;={{\n{\n  name: $(&#39;n8n Form Trigger&#39;).first().json[&#39;Your Name&#39;],\n  email: $(&#39;n8n Form Trigger&#39;).first().json.Email,\n  enquiry: $(&#39;n8n Form Trigger&#39;).first().json.Enquiry,\n  dateTime: DateTime.fromFormat(`${$json.Date} ${$json.Time}`, \&quot;EEE, dd MMM t\&quot;),\n  submittedAt: $(&#39;n8n Form Trigger&#39;).first().json.submittedAt,\n}\n}}&quot;<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;21f93645-5e27-4e9f-a72c-47a39e42a79c&quot;,<br>      &quot;name&quot;: &quot;Terms &amp; Conditions&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.form&quot;,<br>      &quot;position&quot;: [<br>        -1680,<br>        -240<br>      ],<br>      &quot;webhookId&quot;: &quot;dcf32f99-8fb7-457a-8a58-ac1a018b1873&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {<br>          &quot;formTitle&quot;: &quot;Before we continue...&quot;,<br>          &quot;formDescription&quot;: &quot;=Terms and Conditions for Booking an Appointment\n\nNon-Binding Nature of Discussions:\nAny information shared, discussed, or agreed upon during the call is non-binding and provisional. No agreement, service, or commitment shall be considered confirmed unless explicitly documented and agreed to in writing.\n\nProhibition of Recording and Note-Taking Tools:\nBy proceeding with the appointment, the user agrees not to use AI assistants, note-taking applications, recording devices, or any other technology to record or transcribe the conversation, whether manually or automatically. This is to ensure confidentiality and respect for the integrity of the discussion.\n\nConfirmation of Understanding:\nBy booking this appointment, you acknowledge and accept these terms and conditions in full.&quot;<br>        },<br>        &quot;formFields&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;fieldType&quot;: &quot;dropdown&quot;,<br>              &quot;fieldLabel&quot;: &quot;Please select&quot;,<br>              &quot;multiselect&quot;: true,<br>              &quot;fieldOptions&quot;: {<br>                &quot;values&quot;: [<br>                  {<br>                    &quot;option&quot;: &quot;I accept the terms and conditions&quot;<br>                  }<br>                ]<br>              },<br>              &quot;requiredField&quot;: true<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;22e03fec-bd56-4fc3-864a-f1e81a864cb5&quot;,<br>      &quot;name&quot;: &quot;OpenAI Chat Model&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.lmChatOpenAi&quot;,<br>      &quot;position&quot;: [<br>        -2340,<br>        -140<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {}<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;openAiApi&quot;: {<br>          &quot;id&quot;: &quot;8gccIjcuf3gvaoEr&quot;,<br>          &quot;name&quot;: &quot;OpenAi account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;8b4e9bba-cd57-46af-8042-4b47e5ebcd82&quot;,<br>      &quot;name&quot;: &quot;Has Accepted?&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.if&quot;,<br>      &quot;position&quot;: [<br>        -1500,<br>        -240<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;conditions&quot;: {<br>          &quot;options&quot;: {<br>            &quot;version&quot;: 2,<br>            &quot;leftValue&quot;: &quot;&quot;,<br>            &quot;caseSensitive&quot;: true,<br>            &quot;typeValidation&quot;: &quot;strict&quot;<br>          },<br>          &quot;combinator&quot;: &quot;and&quot;,<br>          &quot;conditions&quot;: [<br>            {<br>              &quot;id&quot;: &quot;bc7c3e99-e610-4997-82a7-4851f2c04c19&quot;,<br>              &quot;operator&quot;: {<br>                &quot;type&quot;: &quot;string&quot;,<br>                &quot;operation&quot;: &quot;startsWith&quot;<br>              },<br>              &quot;leftValue&quot;: &quot;={{ $json[\&quot;Please select\&quot;] }}&quot;,<br>              &quot;rightValue&quot;: &quot;I accept&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;627a4c00-e831-4a77-8aad-f417f0f8e6dd&quot;,<br>      &quot;name&quot;: &quot;Send Receipt&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.gmail&quot;,<br>      &quot;position&quot;: [<br>        -580,<br>        -260<br>      ],<br>      &quot;webhookId&quot;: &quot;5f590407-4ab9-4ae6-bb85-38dbe41d6dce&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;sendTo&quot;: &quot;={{ $(&#39;Get Form Values&#39;).first().json.email }}&quot;,<br>        &quot;message&quot;: &quot;=&lt;p&gt;Dear {{ $(&#39;Get Form Values&#39;).first().json.name }},&lt;/p&gt;\n&lt;p&gt;Thanks for requesting an appointment. We will review and get back to you shortly.&lt;/p&gt;\n&lt;p&gt;Here is the summary of the request that was sent:&lt;/p&gt;\n&lt;p&gt;\nName: {{ $(&#39;Get Form Values&#39;).first().json.name }}&lt;br/&gt;\nEmail: {{ $(&#39;Get Form Values&#39;).first().json.email }}&lt;br/&gt;\nEnquiry: {{ $(&#39;Get Form Values&#39;).first().json.enquiry }}&lt;br/&gt;\nSubmitted at: {{ $(&#39;Get Form Values&#39;).first().json.submittedAt }}\n&lt;/p&gt;\n&quot;,<br>        &quot;options&quot;: {},<br>        &quot;subject&quot;: &quot;=Appointment Request Received for {{ DateTime.fromISO($(&#39;Get Form Values&#39;).first().json.dateTime).format(&#39;EEE, dd MMM @ t&#39;) }}&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;gmailOAuth2&quot;: {<br>          &quot;id&quot;: &quot;Sf5Gfl9NiFTNXFWb&quot;,<br>          &quot;name&quot;: &quot;Gmail account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;91d3dd7d-53f8-4f8e-9af2-ec54cf7f42ad&quot;,<br>      &quot;name&quot;: &quot;Wait for Approval&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.gmail&quot;,<br>      &quot;position&quot;: [<br>        340,<br>        -260<br>      ],<br>      &quot;webhookId&quot;: &quot;ab9c6c5e-334d-44bb-a8fd-a58140bc680d&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;sendTo&quot;: &quot;=admin@example.com&quot;,<br>        &quot;message&quot;: &quot;=&lt;h2&gt;A new appointment request was submitted!&lt;/h2&gt;\n&lt;p&gt;\nRequesting appointment date is &lt;strong&gt;{{ DateTime.fromISO($(&#39;Execute Workflow Trigger&#39;).item.json.dateTime).format(&#39;EEE, dd MMM @ t&#39;) }}&lt;/strong&gt;.\n&lt;/p&gt;\n&lt;p&gt;\nName: {{ $(&#39;Execute Workflow Trigger&#39;).first().json.name }}&lt;br/&gt;\nEmail: {{ $(&#39;Execute Workflow Trigger&#39;).first().json.email }}&lt;br/&gt;\nEnquiry Summary: {{ $json.text }}&lt;br/&gt;\nSubmitted at: {{ $(&#39;Execute Workflow Trigger&#39;).first().json.submittedAt }}\n&lt;/p&gt;&quot;,<br>        &quot;subject&quot;: &quot;New Appointment Request!&quot;,<br>        &quot;operation&quot;: &quot;sendAndWait&quot;,<br>        &quot;approvalOptions&quot;: {<br>          &quot;values&quot;: {<br>            &quot;approvalType&quot;: &quot;double&quot;,<br>            &quot;approveLabel&quot;: &quot;Confirm&quot;<br>          }<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;gmailOAuth2&quot;: {<br>          &quot;id&quot;: &quot;Sf5Gfl9NiFTNXFWb&quot;,<br>          &quot;name&quot;: &quot;Gmail account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;7a02b57b-b9b1-45b1-9b3d-aebb84259875&quot;,<br>      &quot;name&quot;: &quot;Has Approval?&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.if&quot;,<br>      &quot;position&quot;: [<br>        520,<br>        -260<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;conditions&quot;: {<br>          &quot;options&quot;: {<br>            &quot;version&quot;: 2,<br>            &quot;leftValue&quot;: &quot;&quot;,<br>            &quot;caseSensitive&quot;: true,<br>            &quot;typeValidation&quot;: &quot;strict&quot;<br>          },<br>          &quot;combinator&quot;: &quot;and&quot;,<br>          &quot;conditions&quot;: [<br>            {<br>              &quot;id&quot;: &quot;e5e37acb-9e9d-4a9e-bf59-a35dfc035886&quot;,<br>              &quot;operator&quot;: {<br>                &quot;type&quot;: &quot;boolean&quot;,<br>                &quot;operation&quot;: &quot;true&quot;,<br>                &quot;singleValue&quot;: true<br>              },<br>              &quot;leftValue&quot;: &quot;={{ $json.data.approved }}&quot;,<br>              &quot;rightValue&quot;: &quot;&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;96aab8be-4c5e-4e14-a6ea-6d2b743551be&quot;,<br>      &quot;name&quot;: &quot;OpenAI Chat Model1&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.lmChatOpenAi&quot;,<br>      &quot;position&quot;: [<br>        0,<br>        -120<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {}<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;openAiApi&quot;: {<br>          &quot;id&quot;: &quot;8gccIjcuf3gvaoEr&quot;,<br>          &quot;name&quot;: &quot;OpenAi account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;6f2b5454-70a3-4391-b785-bb871c3e2081&quot;,<br>      &quot;name&quot;: &quot;Create Appointment&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleCalendar&quot;,<br>      &quot;position&quot;: [<br>        720,<br>        -340<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;end&quot;: &quot;={{ DateTime.fromISO($(&#39;Execute Workflow Trigger&#39;).first().json.dateTime).plus(30, &#39;minute&#39;).toISO() }}&quot;,<br>        &quot;start&quot;: &quot;={{ $(&#39;Execute Workflow Trigger&#39;).first().json.dateTime }}&quot;,<br>        &quot;calendar&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;c_5792bdf04bc395cbcbc6f7b754268245a33779d36640cc80a357711aa2f09a0a@group.calendar.google.com&quot;,<br>          &quot;cachedResultName&quot;: &quot;n8n-events&quot;<br>        },<br>        &quot;additionalFields&quot;: {<br>          &quot;summary&quot;: &quot;=Appointment Scheduled - {{ $(&#39;Execute Workflow Trigger&#39;).item.json.name }} &amp; Jim&quot;,<br>          &quot;attendees&quot;: [<br>            &quot;={{ $(&#39;Execute Workflow Trigger&#39;).item.json.email }}&quot;<br>          ],<br>          &quot;description&quot;: &quot;={{ $(&#39;Summarise Enquiry&#39;).first().json.text }}\n\nOriginal message:\n&gt; {{ $(&#39;Execute Workflow Trigger&#39;).item.json.enquiry }}&quot;,<br>          &quot;conferenceDataUi&quot;: {<br>            &quot;conferenceDataValues&quot;: {<br>              &quot;conferenceSolution&quot;: &quot;hangoutsMeet&quot;<br>            }<br>          }<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googleCalendarOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;kWMxmDbMDDJoYFVK&quot;,<br>          &quot;name&quot;: &quot;Google Calendar account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;e6881867-5b3c-4b85-b06a-a0a3c01be227&quot;,<br>      &quot;name&quot;: &quot;Send Rejection&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.gmail&quot;,<br>      &quot;position&quot;: [<br>        720,<br>        -180<br>      ],<br>      &quot;webhookId&quot;: &quot;5f590407-4ab9-4ae6-bb85-38dbe41d6dce&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;sendTo&quot;: &quot;={{ $(&#39;Execute Workflow Trigger&#39;).first().json.email }}&quot;,<br>        &quot;message&quot;: &quot;=&lt;p&gt;Dear {{ $(&#39;Execute Workflow Trigger&#39;).first().json.name }},&lt;/p&gt;\n&lt;p&gt;Unfortunately, we cannot schedule the requested appointment at the requested time.&lt;/p&gt;\n&lt;p&gt;Kind regards&lt;/p&gt;\n&quot;,<br>        &quot;options&quot;: {},<br>        &quot;subject&quot;: &quot;=Appointment Request Rejected for {{ DateTime.fromISO($(&#39;Execute Workflow Trigger&#39;).first().json.dateTime).format(&#39;EEE, dd MMM @ t&#39;) }}&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;gmailOAuth2&quot;: {<br>          &quot;id&quot;: &quot;Sf5Gfl9NiFTNXFWb&quot;,<br>          &quot;name&quot;: &quot;Gmail account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;40785eca-943c-45f6-b4a9-0c95538621ed&quot;,<br>      &quot;name&quot;: &quot;Sticky Note3&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -2580,<br>        -555.2889298043726<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 763.0427617951669,<br>        &quot;height&quot;: 611.898918296892,<br>        &quot;content&quot;: &quot;## 1. Qualify Enquiries Using AI\n[Learn more about the text classifier](https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.text-classifier/)\n\nWith n8n&#39;s multi-forms, you‚Äôre no longer stuck creating long, overwhelming forms. Instead, you have more flexibility and control to design smarter, more engaging form experiences.\n\nIn this demo, we‚Äôll explore an appointment request scenario where a user wants to schedule a call to discuss their inquiry. However, not all inquiries require a meeting, making it a perfect use case for AI to pre-qualify the request. We can handle this validation using the text classifier node.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;985be8d1-e77a-475b-9ac2-dba163dbd950&quot;,<br>      &quot;name&quot;: &quot;Sticky Note6&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -1800,<br>        -549.8684464902185<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 781.472405063291,<br>        &quot;height&quot;: 606.0718987341766,<br>        &quot;content&quot;: &quot;## 2. Split Form For Better User Experience\n[Learn more about the forms](https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.form)\n\nOnboarding is a great reason to split your big form into smaller ones. Taking the user through a step by step process ensures a smooth experience and keeps them engaged throughout.\n\nHere, we take the opportunity of the extra context space to display a terms and conditions which the user must agree to making their request. The next form then asks for desired date and time of the event.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;9b0a3f0e-e15d-4d0e-b620-1acc78bf812c&quot;,<br>      &quot;name&quot;: &quot;Decline&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.form&quot;,<br>      &quot;position&quot;: [<br>        -2020,<br>        -160<br>      ],<br>      &quot;webhookId&quot;: &quot;4353eadb-b7a0-45f2-8dd8-5f6cd882d8d8&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;operation&quot;: &quot;completion&quot;,<br>        &quot;completionTitle&quot;: &quot;Send me a DM Instead!&quot;,<br>        &quot;completionMessage&quot;: &quot;Thanks for your enquiry but it may not necessarily need an appointment. Please feel free to email me instead at jim@example.com.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;fcd3eb7d-6389-4c07-97cc-275ae387c963&quot;,<br>      &quot;name&quot;: &quot;Decline1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.form&quot;,<br>      &quot;position&quot;: [<br>        -1260,<br>        -160<br>      ],<br>      &quot;webhookId&quot;: &quot;4353eadb-b7a0-45f2-8dd8-5f6cd882d8d8&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;operation&quot;: &quot;completion&quot;,<br>        &quot;completionTitle&quot;: &quot;Send me a DM Instead!&quot;,<br>        &quot;completionMessage&quot;: &quot;Thanks for your enquiry but it may not necessarily need an appointment. Please feel free to email me instead at jim@example.com.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;d89427cb-fffb-4aa4-b55c-b315fa0e92be&quot;,<br>      &quot;name&quot;: &quot;Sticky Note7&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -1000,<br>        -498.80432681242814<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 792.9401150747982,<br>        &quot;height&quot;: 497.4250863060987,<br>        &quot;content&quot;: &quot;## 3. Send Acknowledgement to User and Start Approval Process\n[Learn more about the Gmail node](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.gmail/)\n\nOnce all form steps are concluded, we can send a notification to the requester via email and in the background, trigger another email to the admin to initiate the approval process. The approval process works in a separate execution so doesn&#39;t interrupt the user&#39;s form experience.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;041081e1-ee98-4b40-aa14-1980b23f4031&quot;,<br>      &quot;name&quot;: &quot;Sticky Note8&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -160,<br>        -620<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 609.4228768699652,<br>        &quot;height&quot;: 287.178089758343,<br>        &quot;content&quot;: &quot;## 4. Approve or Decline Appointment\n[Learn more about the Waiting for Approval](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.gmail/message-operations/#send-a-message-and-wait-for-approval)\n\nThe Wait for Approval feature for Gmail is a special operation which allows for human-in-the-loop interaction in n8n workflows. In this example, the human interaction is the approval of the appointment request. The feature will put the workflow in a waiting state where a message is sent to the admin with 2 buttons: confirm and decline.\n\nWhen the admin clicks on the confirm button, the workflow resumes from the Gmail node and a meeting event is created for the requesting user in Google Calendar.\n\nWhen declined, a rejection email is sent to the requester instead.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;d6af0f50-234f-46ca-aa41-7f3891aff8a3&quot;,<br>      &quot;name&quot;: &quot;Trigger Approval Process&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.executeWorkflow&quot;,<br>      &quot;position&quot;: [<br>        -740,<br>        -260<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;mode&quot;: &quot;each&quot;,<br>        &quot;options&quot;: {<br>          &quot;waitForSubWorkflow&quot;: false<br>        },<br>        &quot;workflowId&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;id&quot;,<br>          &quot;value&quot;: &quot;={{ $workflow.id }}&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;e524d6df-9b6d-4d61-8e71-08a0d3a751d7&quot;,<br>      &quot;name&quot;: &quot;Execute Workflow Trigger&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.executeWorkflowTrigger&quot;,<br>      &quot;position&quot;: [<br>        -160,<br>        -260<br>      ],<br>      &quot;parameters&quot;: {},<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;74dccbc1-7728-4336-a18a-2541007fd369&quot;,<br>      &quot;name&quot;: &quot;Summarise Enquiry&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.chainLlm&quot;,<br>      &quot;position&quot;: [<br>        0,<br>        -260<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;text&quot;: &quot;=The enquiry is as follows:\n{{ $(&#39;Execute Workflow Trigger&#39;).first().json.enquiry.substring(0, 500) }}&quot;,<br>        &quot;messages&quot;: {<br>          &quot;messageValues&quot;: [<br>            {<br>              &quot;message&quot;: &quot;Summarise the given enquiry&quot;<br>            }<br>          ]<br>        },<br>        &quot;promptType&quot;: &quot;define&quot;<br>      },<br>      &quot;typeVersion&quot;: 1.5<br>    },<br>    {<br>      &quot;id&quot;: &quot;b74f0f5a-39f0-4db3-beba-03caf981c5d2&quot;,<br>      &quot;name&quot;: &quot;Sticky Note9&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -3080,<br>        -640<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 468.6766398158801,<br>        &quot;height&quot;: 690.6653164556957,<br>        &quot;content&quot;: &quot;## Try it out!\n\n### This n8n template is a simple appointment scheduling workflow using n8n forms with AI thrown in the mix for good measure. It also uses n8n&#39;s wait for approval feature which allows the ability to confirm appointment requests and create events in Google Calendar.\n\n### How it works\n* We start with a form trigger which asks for the purpose of the appointment.\n* Instantly, we can qualify this by using a text classifier node which uses AI&#39;s contextual understanding to ensure the appointment is worthwhile. If not, an alternative is suggested instead.\n* Multi-page forms are then used to set the terms of the appointment and ask the user for a desired date and time.\n* An acknowledgement is sent to the user while an approval by email process is triggered in the background.\n* In a subworkflow, we use Gmail with the wait for approval operation to send an approval form to the admin user who can either confirm or decline the appointment request.\n* When approved, a Google Calendar event is created. When declined, the user is notified  via email that the appointment request was declined.\n\n### Need Help?\nJoin the [Discord](https://discord.com/invite/XPKeKXeB7d) or ask in the [Forum](https://community.n8n.io/)!\n\nHappy Hacking!\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;d3c87dfa-d6e5-402a-89e5-6d8f93b824a6&quot;,<br>      &quot;name&quot;: &quot;Sticky Note&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        299,<br>        -280<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 177.66444188722656,<br>        &quot;height&quot;: 257.56869965477557,<br>        &quot;content&quot;: &quot;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n### üö® Set your admin email here!&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;6351121d-6ebe-432d-b370-13296fd58e1a&quot;,<br>      &quot;name&quot;: &quot;Enquiry Classifier&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.textClassifier&quot;,<br>      &quot;position&quot;: [<br>        -2340,<br>        -280<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {<br>          &quot;fallback&quot;: &quot;other&quot;<br>        },<br>        &quot;inputText&quot;: &quot;={{ $json.Enquiry }}&quot;,<br>        &quot;categories&quot;: {<br>          &quot;categories&quot;: [<br>            {<br>              &quot;category&quot;: &quot;relevant enquiry&quot;,<br>              &quot;description&quot;: &quot;Enquire about AI, automation, digital products and product engineering.&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    }<br>  ],<br>  &quot;pinData&quot;: {},<br>  &quot;connections&quot;: {<br>    &quot;Send Receipt&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Form End&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Has Accepted?&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Enter Date &amp; Time&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;Decline1&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Has Approval?&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Create Appointment&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;Send Rejection&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Get Form Values&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Trigger Approval Process&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;n8n Form Trigger&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Enquiry Classifier&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Enter Date &amp; Time&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Get Form Values&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;OpenAI Chat Model&quot;: {<br>      &quot;ai_languageModel&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Enquiry Classifier&quot;,<br>            &quot;type&quot;: &quot;ai_languageModel&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Summarise Enquiry&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Wait for Approval&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Wait for Approval&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Has Approval?&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Enquiry Classifier&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Terms &amp; Conditions&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;Decline&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;OpenAI Chat Model1&quot;: {<br>      &quot;ai_languageModel&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Summarise Enquiry&quot;,<br>            &quot;type&quot;: &quot;ai_languageModel&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Terms &amp; Conditions&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Has Accepted?&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Execute Workflow Trigger&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Summarise Enquiry&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Trigger Approval Process&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Send Receipt&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    }<br>  }<br>}</div></td></tr><tr style="height: 59px"><th id="0R36" style="height: 59px;" class="row-headers-background"><div class="row-header-wrapper" style="line-height: 59px">37</div></th><td class="s3" dir="ltr">Recordatorios autom√°ticos para seguimientos con IA y humanos en Gmail</td><td class="s4 softmerge" dir="ltr"><div class="softmerge-inner" style="width:5451px;left:-3px">{<br>  &quot;meta&quot;: {<br>    &quot;instanceId&quot;: &quot;408f9fb9940c3cb18ffdef0e0150fe342d6e655c3a9fac21f0f644e8bedabcd9&quot;,<br>    &quot;templateCredsSetupCompleted&quot;: true<br>  },<br>  &quot;nodes&quot;: [<br>    {<br>      &quot;id&quot;: &quot;cbc2ee05-3bb9-4064-ac26-fed7241e673f&quot;,<br>      &quot;name&quot;: &quot;Schedule Trigger&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.scheduleTrigger&quot;,<br>      &quot;position&quot;: [<br>        -460,<br>        0<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;rule&quot;: {<br>          &quot;interval&quot;: [<br>            {<br>              &quot;triggerAtHour&quot;: 6<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;4a18dea4-9eda-4b8e-9d0c-fff9793802c5&quot;,<br>      &quot;name&quot;: &quot;Get Past Events&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleCalendar&quot;,<br>      &quot;position&quot;: [<br>        -280,<br>        0<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;timeMax&quot;: &quot;={{ $now.minus({ day: 2 }) }}&quot;,<br>        &quot;timeMin&quot;: &quot;={{ $now.minus({ day: 4 }) }}&quot;,<br>        &quot;calendar&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;id&quot;,<br>          &quot;value&quot;: &quot;&lt;your-calendar&gt;&quot;<br>        },<br>        &quot;operation&quot;: &quot;getAll&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googleCalendarOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;kWMxmDbMDDJoYFVK&quot;,<br>          &quot;name&quot;: &quot;Google Calendar account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.3<br>    },<br>    {<br>      &quot;id&quot;: &quot;df2ef6d0-5fcb-43c5-8ba9-2d094dffb4e1&quot;,<br>      &quot;name&quot;: &quot;Loop Over Items&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.splitInBatches&quot;,<br>      &quot;position&quot;: [<br>        200,<br>        40<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 3<br>    },<br>    {<br>      &quot;id&quot;: &quot;bedc77ad-f0c9-47ae-9609-48ceda47a224&quot;,<br>      &quot;name&quot;: &quot;Flag to Follow Up&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        580,<br>        200<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;mode&quot;: &quot;raw&quot;,<br>        &quot;options&quot;: {},<br>        &quot;jsonOutput&quot;: &quot;={{\n{\n  ...$(&#39;Loop Over Items&#39;).first().json,\n  followUp: $json.isEmpty()\n}\n}}&quot;,<br>        &quot;includeOtherFields&quot;: true<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;b332ca5d-45d5-4a79-a028-baa1728aea78&quot;,<br>      &quot;name&quot;: &quot;Only Follow Ups&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.filter&quot;,<br>      &quot;position&quot;: [<br>        400,<br>        40<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;conditions&quot;: {<br>          &quot;options&quot;: {<br>            &quot;version&quot;: 2,<br>            &quot;leftValue&quot;: &quot;&quot;,<br>            &quot;caseSensitive&quot;: true,<br>            &quot;typeValidation&quot;: &quot;strict&quot;<br>          },<br>          &quot;combinator&quot;: &quot;and&quot;,<br>          &quot;conditions&quot;: [<br>            {<br>              &quot;id&quot;: &quot;73f38d1b-75c6-4372-8e81-a2db61b045a8&quot;,<br>              &quot;operator&quot;: {<br>                &quot;name&quot;: &quot;filter.operator.equals&quot;,<br>                &quot;type&quot;: &quot;string&quot;,<br>                &quot;operation&quot;: &quot;equals&quot;<br>              },<br>              &quot;leftValue&quot;: &quot;&quot;,<br>              &quot;rightValue&quot;: &quot;&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;1b8a6510-f1c5-4969-a68d-143874b5737d&quot;,<br>      &quot;name&quot;: &quot;Get Emails Since&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.gmail&quot;,<br>      &quot;position&quot;: [<br>        400,<br>        200<br>      ],<br>      &quot;webhookId&quot;: &quot;08fbccff-cce6-461a-b040-f5a74920c803&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;limit&quot;: 1,<br>        &quot;filters&quot;: {<br>          &quot;q&quot;: &quot;=(from:{{ $json.attendees.find(attendee =&gt; !attendee.self)?.email }} OR to:{{ $json.attendees.find(attendee =&gt; !attendee.self)?.email }})&quot;,<br>          &quot;receivedAfter&quot;: &quot;={{ $json.end.dateTime }}&quot;<br>        },<br>        &quot;resource&quot;: &quot;thread&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;gmailOAuth2&quot;: {<br>          &quot;id&quot;: &quot;Sf5Gfl9NiFTNXFWb&quot;,<br>          &quot;name&quot;: &quot;Gmail account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.1,<br>      &quot;alwaysOutputData&quot;: true<br>    },<br>    {<br>      &quot;id&quot;: &quot;4ce7ac3f-bad8-4822-b166-fd164d733734&quot;,<br>      &quot;name&quot;: &quot;Output&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.outputParserStructured&quot;,<br>      &quot;position&quot;: [<br>        1140,<br>        220<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;schemaType&quot;: &quot;manual&quot;,<br>        &quot;inputSchema&quot;: &quot;{\n  \&quot;type\&quot;: \&quot;object\&quot;,\n  \&quot;properties\&quot;: {\n    \&quot;slots\&quot;: {\n      \&quot;type\&quot;: \&quot;array\&quot;,\n      \&quot;items\&quot;: {\n        \&quot;type\&quot;: \&quot;object\&quot;,\n        \&quot;properties\&quot;: {\n          \&quot;start\&quot;: { \&quot;type\&quot;: \&quot;string\&quot; },\n          \&quot;end\&quot;: { \&quot;type\&quot;: \&quot;string\&quot; }\n        }\n      }\n    }\n  }\n}&quot;<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;a22c5b78-d213-4e37-b2c6-f3d1dac96858&quot;,<br>      &quot;name&quot;: &quot;Availability&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleCalendarTool&quot;,<br>      &quot;position&quot;: [<br>        1020,<br>        220<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {<br>          &quot;timezone&quot;: {<br>            &quot;__rl&quot;: true,<br>            &quot;mode&quot;: &quot;id&quot;,<br>            &quot;value&quot;: &quot;={{ /*n8n-auto-generated-fromAI-override*/ $fromAI(&#39;Timezone&#39;, ``, &#39;string&#39;) }}&quot;,<br>            &quot;__regex&quot;: &quot;([-+/_a-zA-Z0-9]*)&quot;<br>          }<br>        },<br>        &quot;timeMax&quot;: &quot;={{ /*n8n-auto-generated-fromAI-override*/ $fromAI(&#39;End_Time&#39;, ``, &#39;string&#39;) }}&quot;,<br>        &quot;timeMin&quot;: &quot;={{ /*n8n-auto-generated-fromAI-override*/ $fromAI(&#39;Start_Time&#39;, ``, &#39;string&#39;) }}&quot;,<br>        &quot;calendar&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;id&quot;,<br>          &quot;value&quot;: &quot;&lt;your-calendar&gt;&quot;<br>        },<br>        &quot;resource&quot;: &quot;calendar&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googleCalendarOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;kWMxmDbMDDJoYFVK&quot;,<br>          &quot;name&quot;: &quot;Google Calendar account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.3<br>    },<br>    {<br>      &quot;id&quot;: &quot;690c79d3-cf0e-4d15-9419-dafb7d86025b&quot;,<br>      &quot;name&quot;: &quot;Model&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.lmChatOpenAi&quot;,<br>      &quot;position&quot;: [<br>        900,<br>        220<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;model&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;gpt-4o-mini&quot;<br>        },<br>        &quot;options&quot;: {}<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;openAiApi&quot;: {<br>          &quot;id&quot;: &quot;8gccIjcuf3gvaoEr&quot;,<br>          &quot;name&quot;: &quot;OpenAi account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;4e9d23c0-f9a0-4e71-b1b8-1011313942ba&quot;,<br>      &quot;name&quot;: &quot;Meeting Availability Agent&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.agent&quot;,<br>      &quot;position&quot;: [<br>        920,<br>        40<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;text&quot;: &quot;=### Details of the previous call as following\ntitle: {{ $json.summary }}\ndate: {{ $json.start.dateTime }} {{ $json.start.timeZone }}\nduration: {{ DateTime.fromISO($json.end.dateTime).diffTo(DateTime.fromISO($json.start.dateTime), &#39;minutes&#39;) }} minutes&quot;,<br>        &quot;options&quot;: {<br>          &quot;systemMessage&quot;: &quot;=You are a calendar availability assistant. Analyse the previous meeting and help me find a similar available slot for the next meeting.\n* take into consideration the day, time of day and duration of the previous meeting and try to set the same or similar for the next\n* next meeting should be in the future.\n* return a list of available slots so that I can forward them to the user.\n\nToday&#39;s date is {{ $now }}.&quot;<br>        },<br>        &quot;promptType&quot;: &quot;define&quot;,<br>        &quot;hasOutputParser&quot;: true<br>      },<br>      &quot;typeVersion&quot;: 1.7<br>    },<br>    {<br>      &quot;id&quot;: &quot;851728bf-7f94-4434-9dc6-23569544cdb7&quot;,<br>      &quot;name&quot;: &quot;Generate Message&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        1260,<br>        40<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;cf09c95c-f25e-4fd7-bade-a0feaeaffb3b&quot;,<br>              &quot;name&quot;: &quot;message&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;=Hey, just noticed there wasn&#39;t a follow-up email to {{ $(&#39;Only Follow Ups&#39;).item.json.attendees.find(x =&gt; !x.self).email }} after your last call a few days ago.\n\nHere&#39;s are a few available slots to book the next call.\n{{\n$json.output.slots\n  .filter(slot =&gt; !DateTime.fromISO(slot.start).isWeekend())\n  .map(slot =&gt; `* ${DateTime.fromISO(slot.start).format(&#39;cccc, DDD @ hh:mm&#39;)} - ${DateTime.fromISO(slot.end).format(&#39;hh:mm&#39;)}`)\n.join(&#39;\\n&#39;)\n}}\n\nLet me know which I should book or let me know if it&#39;s okay to dismiss.&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;7e45eddc-8c34-402a-86a2-ed89ff463095&quot;,<br>      &quot;name&quot;: &quot;Meetings&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleCalendarTool&quot;,<br>      &quot;position&quot;: [<br>        2360,<br>        240<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;end&quot;: &quot;={{ /*n8n-auto-generated-fromAI-override*/ $fromAI(&#39;End&#39;, ``, &#39;string&#39;) }}&quot;,<br>        &quot;start&quot;: &quot;={{ /*n8n-auto-generated-fromAI-override*/ $fromAI(&#39;Start&#39;, ``, &#39;string&#39;) }}&quot;,<br>        &quot;calendar&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;id&quot;,<br>          &quot;value&quot;: &quot;&lt;your-calendar&gt;&quot;<br>        },<br>        &quot;additionalFields&quot;: {<br>          &quot;summary&quot;: &quot;={{ /*n8n-auto-generated-fromAI-override*/ $fromAI(&#39;Summary&#39;, ``, &#39;string&#39;) }}&quot;,<br>          &quot;description&quot;: &quot;={{ /*n8n-auto-generated-fromAI-override*/ $fromAI(&#39;Description&#39;, ``, &#39;string&#39;) }}&quot;<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googleCalendarOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;kWMxmDbMDDJoYFVK&quot;,<br>          &quot;name&quot;: &quot;Google Calendar account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.3<br>    },<br>    {<br>      &quot;id&quot;: &quot;74618cf0-1fe5-4abb-ba38-6818162ce826&quot;,<br>      &quot;name&quot;: &quot;Model1&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.lmChatOpenAi&quot;,<br>      &quot;position&quot;: [<br>        2180,<br>        240<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;model&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;gpt-4o-mini&quot;<br>        },<br>        &quot;options&quot;: {}<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;openAiApi&quot;: {<br>          &quot;id&quot;: &quot;8gccIjcuf3gvaoEr&quot;,<br>          &quot;name&quot;: &quot;OpenAi account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;790cc7ee-fe1b-434f-8736-38952bffbb85&quot;,<br>      &quot;name&quot;: &quot;Meeting Booking Agent&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.agent&quot;,<br>      &quot;position&quot;: [<br>        2180,<br>        60<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;text&quot;: &quot;={{ $json.data.text }}&quot;,<br>        &quot;options&quot;: {<br>          &quot;systemMessage&quot;: &quot;=You are a meeting booking agent. Your task is to book the meeting requested if confirmed by the user or otherwise do nothing if the user wants to disregard. No need to ask for further approval.\n\nAI: {{ $(&#39;Generate Message&#39;).first().json.message }}&quot;<br>        },<br>        &quot;promptType&quot;: &quot;define&quot;<br>      },<br>      &quot;typeVersion&quot;: 1.7<br>    },<br>    {<br>      &quot;id&quot;: &quot;7ed171b2-08ee-49b0-9f9b-b4943549b2f6&quot;,<br>      &quot;name&quot;: &quot;Mark as Seen&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.removeDuplicates&quot;,<br>      &quot;position&quot;: [<br>        -100,<br>        0<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;operation&quot;: &quot;removeItemsSeenInPreviousExecutions&quot;,<br>        &quot;dedupeValue&quot;: &quot;={{ $json.id }}&quot;<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;c8198538-4e02-429d-9fef-4cc2cb0bb7d0&quot;,<br>      &quot;name&quot;: &quot;Sticky Note&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -540,<br>        -200<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 620,<br>        &quot;height&quot;: 420,<br>        &quot;content&quot;: &quot;## 1. Get Recent Meetings\n[Learn more about the GCalendar node](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.googlecalendar)\n\nFor this template, a scheduled trigger is set to fire every morning to pull in past meetings from 2-3 days ago. A \&quot;Remove Duplicates\&quot; node ensures we don&#39;t double process events more than once between runs.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;ef4888e2-249f-4501-a731-4dc8886dfa1a&quot;,<br>      &quot;name&quot;: &quot;Sticky Note1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        100,<br>        -160<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 680,<br>        &quot;height&quot;: 600,<br>        &quot;content&quot;: &quot;## 2. Check If Any Messages Since\n[Read more about the Gmail node](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.gmail)\n\nNext, we want to check if there has been any messages/contact between the lead and the user since the meeting ended. Where there is not, it could be a good opportunity to remind the user to reengage the lead as to not lose them.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;d9ccc4d5-2ccb-4f85-ada1-6a6fc5374ff2&quot;,<br>      &quot;name&quot;: &quot;Sticky Note2&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        800,<br>        -160<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 620,<br>        &quot;height&quot;: 580,<br>        &quot;content&quot;: &quot;## 3. Suggest Availability For Next Call\n[Read more about AI Agents](https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.agent/)\n\nOnce filtered for applicable leads, we can use an AI Agent to suggest another meeting slot for them. An AI Agent can analyse the previous meeting details and use that information to suggest a similar date and time.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;851b15f6-ea6a-4d30-a45b-f9ed087a37fa&quot;,<br>      &quot;name&quot;: &quot;Sticky Note3&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1440,<br>        -200<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 540,<br>        &quot;height&quot;: 520,<br>        &quot;content&quot;: &quot;## 4. Get Human Approval\n[Learn more about n8n&#39;s Human-in-the-loop features](https://docs.n8n.io/advanced-ai/examples/human-fallback/)\n\nOf course, we don&#39;t want the AI to actually book the meeting unless the user confirms it is something he/she wants to do and the best way to confirm is just to ask the user directly! Thanks for n8n&#39;s Human-in-the-loop feature, we can achieve this with a number of messaging protocols.\n\nHere, we&#39;re using the Gmail node&#39;s **Send-and-wait-for-approval** mode. This will send an email to the user and give them a textbox to tell our agent what they want to do next.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;725b187f-d59b-4a7d-bf11-6265a4c995ed&quot;,<br>      &quot;name&quot;: &quot;Sticky Note4&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        2000,<br>        -160<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 640,<br>        &quot;height&quot;: 560,<br>        &quot;content&quot;: &quot;## 5. Book the meeting If Accepted\n[Learn more about the AI Agent node](https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.agent/)\n\nFinally, the response from the user combined with the suggested availability slots are given to another AI agent which can book meetings. If the user accepted and confirmed a date, this agent will book the meeting on behalf of the user. If the user declined, then the agent takes no action.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;ae59a45a-01e9-42be-99da-f75ed90f881b&quot;,<br>      &quot;name&quot;: &quot;Sticky Note5&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -1000,<br>        -700<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 420,<br>        &quot;height&quot;: 980,<br>        &quot;content&quot;: &quot;## Try it out!\n### This n8n template extends the idea of sales leads follow-up reminders by having an AI agent suggest and book the next call or message to reengage the prospect.\n\nWhat makes this template practical for use is that it uses the Human-in-the-loop approach to wait for a user&#39;s approval before actually making the booking. Without, this could be annoying for both the user and the recipient!\n\n### How it works\n* A scheduled trigger checks your google calendar for sales meetings which happened a few days ago.\n* For each event, gmail search is used to figure out if a follow-up message has been sent or received from the other party since the meeting. If none, we want to remind ourselves to reengage the lead.\n* For leads applicable for follow-up, we first get an AI Agent to find available meeting slots in the calendar.\n* These slots and reminder are sent to the user via send-and-approval mode of the gmail node. The user replies in natural language either picking a slot, suggesting an entirely new slot or declines the request.\n* When accepted, another AI Agent books the meeting in the calendar with the proposed dates and lead.\n\n### How to use\n* Update all calendar nodes (+subnodes) to point to the right calendar. If this is a shared-purpose calendar, you may need to either filter or create a new calendar.\n* Update the gmail nodes to point to the right accounts.\n\n### Customising the template\n* Not using Google? Swap out for Microsoft or otherwise.\n* Try swapping out or adding in additional send-for-approval methods such as telegram or whatsapp.\n\n### Need Help?\nJoin the [Discord](https://discord.com/invite/XPKeKXeB7d) or ask in the [Forum](https://community.n8n.io/)!&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;46ef7220-49ea-4dfc-8e4c-ce7da5119daf&quot;,<br>      &quot;name&quot;: &quot;Send for Human Approval&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.gmail&quot;,<br>      &quot;position&quot;: [<br>        1660,<br>        80<br>      ],<br>      &quot;webhookId&quot;: &quot;76b88312-1c54-482e-abdd-e699159577f0&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;sendTo&quot;: &quot;=&lt;your-email-here&gt;&quot;,<br>        &quot;message&quot;: &quot;={{ $json.message }}&quot;,<br>        &quot;options&quot;: {},<br>        &quot;subject&quot;: &quot;=Book a follow-up meeting with {{ $(&#39;Only Follow Ups&#39;).item.json.attendees.find(x =&gt; !x.self).email }}?&quot;,<br>        &quot;operation&quot;: &quot;sendAndWait&quot;,<br>        &quot;responseType&quot;: &quot;freeText&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;gmailOAuth2&quot;: {<br>          &quot;id&quot;: &quot;Sf5Gfl9NiFTNXFWb&quot;,<br>          &quot;name&quot;: &quot;Gmail account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.1<br>    }<br>  ],<br>  &quot;pinData&quot;: {},<br>  &quot;connections&quot;: {<br>    &quot;Model&quot;: {<br>      &quot;ai_languageModel&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Meeting Availability Agent&quot;,<br>            &quot;type&quot;: &quot;ai_languageModel&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Model1&quot;: {<br>      &quot;ai_languageModel&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Meeting Booking Agent&quot;,<br>            &quot;type&quot;: &quot;ai_languageModel&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Output&quot;: {<br>      &quot;ai_outputParser&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Meeting Availability Agent&quot;,<br>            &quot;type&quot;: &quot;ai_outputParser&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Meetings&quot;: {<br>      &quot;ai_tool&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Meeting Booking Agent&quot;,<br>            &quot;type&quot;: &quot;ai_tool&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Availability&quot;: {<br>      &quot;ai_tool&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Meeting Availability Agent&quot;,<br>            &quot;type&quot;: &quot;ai_tool&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Mark as Seen&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Loop Over Items&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Get Past Events&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Mark as Seen&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Loop Over Items&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Only Follow Ups&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;Get Emails Since&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Only Follow Ups&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Meeting Availability Agent&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Generate Message&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Send for Human Approval&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Get Emails Since&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Flag to Follow Up&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Schedule Trigger&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Get Past Events&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Flag to Follow Up&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Loop Over Items&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Send for Human Approval&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Meeting Booking Agent&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Meeting Availability Agent&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Generate Message&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    }<br>  }<br>}</div></td></tr><tr style="height: 59px"><th id="0R37" style="height: 59px;" class="row-headers-background"><div class="row-header-wrapper" style="line-height: 59px">38</div></th><td class="s5" dir="ltr">Extrae noticias recientes sobre una empresa antes de una llamada</td><td class="s6 softmerge" dir="ltr"><div class="softmerge-inner" style="width:2362px;left:-3px">{<br>  &quot;meta&quot;: {<br>    &quot;instanceId&quot;: &quot;3c58c896c9089c8fb4d7f2b069bf3119193f239a1f538829758e2f4d6b5f5b24&quot;<br>  },<br>  &quot;nodes&quot;: [<br>    {<br>      &quot;id&quot;: &quot;9aa9fa6c-5ccb-4f2b-b6a8-2b91f4a58355&quot;,<br>      &quot;name&quot;: &quot;Setup&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        420,<br>        680<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;fields&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;name&quot;: &quot;apiKey&quot;,<br>              &quot;stringValue&quot;: &quot;32aa914c947342169c4998b6701a77e0&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;newsAge&quot;,<br>              &quot;type&quot;: &quot;numberValue&quot;,<br>              &quot;numberValue&quot;: &quot;10&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;maxArticles&quot;,<br>              &quot;stringValue&quot;: &quot;20&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;emails&quot;<br>            }<br>          ]<br>        },<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 3.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;6f471217-b69b-4f67-981d-c7c1e2d710b6&quot;,<br>      &quot;name&quot;: &quot;Extract company name&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        1100,<br>        480<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;fields&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;name&quot;: &quot;companyName&quot;,<br>              &quot;stringValue&quot;: &quot;={{ $json.summary.toLowerCase().replace(&#39;meeting with&#39;, &#39;&#39;).replace(&#39;call with&#39;, &#39;&#39;).trim() }}&quot;<br>            }<br>          ]<br>        },<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 3.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;9bb5adfa-5a36-453e-ad8d-59229ca2f1ab&quot;,<br>      &quot;name&quot;: &quot;Sticky Note&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        200,<br>        320<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 4,<br>        &quot;width&quot;: 436,<br>        &quot;height&quot;: 192,<br>        &quot;content&quot;: &quot;### Latest company news before a call\n\nThis workflow will send you a list of latest news about a company for every meeting in your calendar each day, keeping you up to date with your leads and meeting partners.\n&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;ddfa92e0-ff37-4733-9002-65fe21989d8a&quot;,<br>      &quot;name&quot;: &quot;Every morning @ 7&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.scheduleTrigger&quot;,<br>      &quot;position&quot;: [<br>        200,<br>        680<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;rule&quot;: {<br>          &quot;interval&quot;: [<br>            {<br>              &quot;triggerAtHour&quot;: 7<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;b71c3683-6077-41b4-ab23-66ee22f64532&quot;,<br>      &quot;name&quot;: &quot;Filter meetings&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.if&quot;,<br>      &quot;position&quot;: [<br>        840,<br>        680<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;conditions&quot;: {<br>          &quot;options&quot;: {<br>            &quot;leftValue&quot;: &quot;&quot;,<br>            &quot;caseSensitive&quot;: true,<br>            &quot;typeValidation&quot;: &quot;strict&quot;<br>          },<br>          &quot;combinator&quot;: &quot;or&quot;,<br>          &quot;conditions&quot;: [<br>            {<br>              &quot;id&quot;: &quot;bcfb06b1-d365-43a8-9802-869529baca98&quot;,<br>              &quot;operator&quot;: {<br>                &quot;type&quot;: &quot;string&quot;,<br>                &quot;operation&quot;: &quot;startsWith&quot;<br>              },<br>              &quot;leftValue&quot;: &quot;={{ $json.summary.toLowerCase() }}&quot;,<br>              &quot;rightValue&quot;: &quot;call with&quot;<br>            },<br>            {<br>              &quot;id&quot;: &quot;4ea43ccf-d586-4985-87db-fc1e9f734351&quot;,<br>              &quot;operator&quot;: {<br>                &quot;type&quot;: &quot;string&quot;,<br>                &quot;operation&quot;: &quot;startsWith&quot;<br>              },<br>              &quot;leftValue&quot;: &quot;={{ $json.summary.toLowerCase() }}&quot;,<br>              &quot;rightValue&quot;: &quot;meeting with&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;34c4241e-e29a-4d9a-b8a8-130b9f19383f&quot;,<br>      &quot;name&quot;: &quot;Get latest news&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.httpRequest&quot;,<br>      &quot;position&quot;: [<br>        1300,<br>        480<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;url&quot;: &quot;=https://newsapi.org/v2/everything?apiKey={{ $(&#39;Setup&#39;).first().json.apiKey }}&amp;q={{ $json.companyName }}&amp;from={{ DateTime.now().minus({ days: $(&#39;Setup&#39;).first().json.newsAge }).toFormat(&#39;yyyy-MM-dd&#39;) }}&amp;sortBy=publishedAt&amp;language=en&amp;pageSize={{ $(&#39;Setup&#39;).first().json.maxArticles }}&amp;searchIn=title&quot;,<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 4.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;51059db7-5fec-4287-bf3f-a6a4e76ac5a4&quot;,<br>      &quot;name&quot;: &quot;Format for email&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.code&quot;,<br>      &quot;position&quot;: [<br>        1500,<br>        480<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;mode&quot;: &quot;runOnceForEachItem&quot;,<br>        &quot;jsCode&quot;: &quot;let html = `&lt;table style=\&quot;width: 100%\&quot;&gt;`;\nhtml += &#39;&lt;/table&gt;&#39;;\n\nfor(article of $input.item.json.articles) {\n  console.log(article)\n  html += `\n    &lt;tr&gt;\n      &lt;td style=\&quot;display: flex; background-color: #f2f4f8; font-family: sans-serif; padding: 0.3em 0.5em\&quot;&gt;\n        &lt;div style=\&quot;padding: 1em\&quot;&gt;\n          &lt;a style=\&quot;display: block; margin-bottom: 10px; font-size: 1.2em\&quot; href=\&quot;${article.url}\&quot;&gt;${article.title}&lt;/a&gt;\n          &lt;i&gt;\n            ${article.description ? article.description : article.content}\n          &lt;/i&gt;\n          &lt;div style=\&quot;margin-top: 1em\&quot;&gt;\n            ${ article.source?.name ? &#39;&lt;b&gt;Source:&lt;/b&gt; &#39; + article.source?.name : &#39;&#39; }\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/td&gt;\n    &lt;/tr&gt;\n  `\n}\nreturn { \&quot;html\&quot;: html };&quot;<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;9b4351a8-edf9-49ef-829e-6998cb1eea2c&quot;,<br>      &quot;name&quot;: &quot;Send news&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.gmail&quot;,<br>      &quot;position&quot;: [<br>        1700,<br>        480<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;sendTo&quot;: &quot;={{ $(&#39;Setup&#39;).first().json.emails }}&quot;,<br>        &quot;message&quot;: &quot;={{ $json.html }}&quot;,<br>        &quot;options&quot;: {},<br>        &quot;subject&quot;: &quot;=Latest news for &#39;{{ $(&#39;Extract company name&#39;).item.json.summary }}&#39;&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;gmailOAuth2&quot;: {<br>          &quot;id&quot;: &quot;10&quot;,<br>          &quot;name&quot;: &quot;mrdosija@gmail.com&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;182504b0-3cf6-4afe-ba93-1d2bf7a02fa3&quot;,<br>      &quot;name&quot;: &quot;Sticky Note1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        360,<br>        640<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;height&quot;: 511.499984507795,<br>        &quot;content&quot;: &quot;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n### Configure your workflow here\n1. `apiKey` - Your API key for [News API](https://newsapi.org)\n2. `newsAge` - How old should news be, in days\n3. `maxArticles` - Number of articles that will be sent, max 100\n4. `emails`- List of email addresses that should receive the news, separated by commas&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;604bc73b-f805-40df-baa0-eb3de4c515f3&quot;,<br>      &quot;name&quot;: &quot;Sticky Note2&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        820,<br>        660<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 231.52514020446353,<br>        &quot;height&quot;: 275.2500697149263,<br>        &quot;content&quot;: &quot;\n\n\n\n\n\n\n\n\n\n\n\n\nThis will get all meetings that start with *Meeting with* or *Call with* but feel free to update the filter to suit your needs.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;318b2bdc-712f-42a8-b224-8f0dc2c9c4e5&quot;,<br>      &quot;name&quot;: &quot;No meetings today&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.noOp&quot;,<br>      &quot;position&quot;: [<br>        1700,<br>        700<br>      ],<br>      &quot;parameters&quot;: {},<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;96b075cd-5c16-453e-93a6-348b22b704bb&quot;,<br>      &quot;name&quot;: &quot;Get meetings for today&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleCalendar&quot;,<br>      &quot;position&quot;: [<br>        660,<br>        680<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {<br>          &quot;timeMax&quot;: &quot;={{ $today.plus({ days: 1 }) }}&quot;,<br>          &quot;timeMin&quot;: &quot;={{ $today }}&quot;,<br>          &quot;singleEvents&quot;: true<br>        },<br>        &quot;calendar&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;milorad.filipovic19@gmail.com&quot;,<br>          &quot;cachedResultName&quot;: &quot;milorad.filipovic19@gmail.com&quot;<br>        },<br>        &quot;operation&quot;: &quot;getAll&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googleCalendarOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;22&quot;,<br>          &quot;name&quot;: &quot;Google Calendar account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1<br>    }<br>  ],<br>  &quot;pinData&quot;: {},<br>  &quot;connections&quot;: {<br>    &quot;Setup&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Get meetings for today&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Filter meetings&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Extract company name&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;No meetings today&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Get latest news&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Format for email&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Format for email&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Send news&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Every morning @ 7&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Setup&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Extract company name&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Get latest news&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Get meetings for today&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Filter meetings&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    }<br>  }<br>}</div></td></tr><tr style="height: 59px"><th id="0R38" style="height: 59px;" class="row-headers-background"><div class="row-header-wrapper" style="line-height: 59px">39</div></th><td class="s3" dir="ltr">Lista de actividad en redes sociales de una empresa antes de una llamada</td><td class="s4 softmerge" dir="ltr"><div class="softmerge-inner" style="width:4076px;left:-3px">{<br>  &quot;meta&quot;: {<br>    &quot;instanceId&quot;: &quot;3c58c896c9089c8fb4d7f2b069bf3119193f239a1f538829758e2f4d6b5f5b24&quot;<br>  },<br>  &quot;nodes&quot;: [<br>    {<br>      &quot;id&quot;: &quot;f59411f9-5dad-4f8c-af0c-c3ab25171107&quot;,<br>      &quot;name&quot;: &quot;Get recetn tweets&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.httpRequest&quot;,<br>      &quot;position&quot;: [<br>        233.55908776779552,<br>        1409.619212163096<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;url&quot;: &quot;https://twitter154.p.rapidapi.com/user/tweets&quot;,<br>        &quot;options&quot;: {<br>          &quot;batching&quot;: {<br>            &quot;batch&quot;: {<br>              &quot;batchSize&quot;: 1,<br>              &quot;batchInterval&quot;: 2000<br>            }<br>          }<br>        },<br>        &quot;sendQuery&quot;: true,<br>        &quot;sendHeaders&quot;: true,<br>        &quot;queryParameters&quot;: {<br>          &quot;parameters&quot;: [<br>            {<br>              &quot;name&quot;: &quot;limit&quot;,<br>              &quot;value&quot;: &quot;10&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;user_id&quot;,<br>              &quot;value&quot;: &quot;={{ $json.twitter.id }}&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;include_replies&quot;,<br>              &quot;value&quot;: &quot;={{ false }}&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;include_pinned&quot;,<br>              &quot;value&quot;: &quot;={{ false }}&quot;<br>            }<br>          ]<br>        },<br>        &quot;headerParameters&quot;: {<br>          &quot;parameters&quot;: [<br>            {<br>              &quot;name&quot;: &quot;X-RapidAPI-Host&quot;,<br>              &quot;value&quot;: &quot;twitter154.p.rapidapi.com&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;X-RapidAPI-Key&quot;,<br>              &quot;value&quot;: &quot;={{ $(&#39;Setup&#39;).first().json.twitterAPIKey }}&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 4.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;c25d29ef-71bb-4ea1-8794-47911dac997f&quot;,<br>      &quot;name&quot;: &quot;Setup&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        -440,<br>        980<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;fields&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;name&quot;: &quot;linkedInAPIKey&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;twitterAPIKey&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;emails&quot;<br>            }<br>          ]<br>        },<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 3.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;5bf52838-157b-49fe-a4d8-3817198502dd&quot;,<br>      &quot;name&quot;: &quot;Every morning @ 7&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.scheduleTrigger&quot;,<br>      &quot;position&quot;: [<br>        -680,<br>        980<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;rule&quot;: {<br>          &quot;interval&quot;: [<br>            {<br>              &quot;triggerAtHour&quot;: 7<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;aff4dd6e-a480-4f43-9b48-05172d4b7b2d&quot;,<br>      &quot;name&quot;: &quot;Get meetings for today&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleCalendar&quot;,<br>      &quot;position&quot;: [<br>        -80,<br>        980<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {<br>          &quot;timeMax&quot;: &quot;={{ $now.endOf(&#39;day&#39;) }}&quot;,<br>          &quot;timeMin&quot;: &quot;={{ $now.beginningOf(&#39;day&#39;) }}&quot;,<br>          &quot;singleEvents&quot;: true<br>        },<br>        &quot;calendar&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;milorad.filipovic19@gmail.com&quot;,<br>          &quot;cachedResultName&quot;: &quot;milorad.filipovic19@gmail.com&quot;<br>        },<br>        &quot;operation&quot;: &quot;getAll&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;63973273-3821-4c9f-8976-6dd47ac9a62e&quot;,<br>      &quot;name&quot;: &quot;Get attendees email domains&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        120,<br>        980<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;fields&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;name&quot;: &quot;domain&quot;,<br>              &quot;type&quot;: &quot;arrayValue&quot;,<br>              &quot;arrayValue&quot;: &quot;={{ $json.attendees.filter(a =&gt; !a.organizer).map(a =&gt; a.email.split(&#39;@&#39;).pop()) }}&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;attendeeEmails&quot;,<br>              &quot;type&quot;: &quot;arrayValue&quot;,<br>              &quot;arrayValue&quot;: &quot;={{ $json.attendees.filter(a =&gt; !a.organizer).map(a =&gt; a.email) }}&quot;<br>            }<br>          ]<br>        },<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 3.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;093b978f-8d5e-4051-be21-e8a7a3430c9c&quot;,<br>      &quot;name&quot;: &quot;Split Out&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.splitOut&quot;,<br>      &quot;position&quot;: [<br>        300,<br>        980<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;include&quot;: &quot;selectedOtherFields&quot;,<br>        &quot;options&quot;: {},<br>        &quot;fieldToSplitOut&quot;: &quot;domain&quot;,<br>        &quot;fieldsToInclude&quot;: &quot;attendeeEmails, start&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;467308c9-c6a0-4d1c-a6e1-4598075e62a6&quot;,<br>      &quot;name&quot;: &quot;Get recent LinkedIn posts&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.httpRequest&quot;,<br>      &quot;position&quot;: [<br>        233.55908776779552,<br>        1209.619212163096<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;url&quot;: &quot;https://fresh-linkedin-profile-data.p.rapidapi.com/get-company-posts&quot;,<br>        &quot;options&quot;: {<br>          &quot;batching&quot;: {<br>            &quot;batch&quot;: {}<br>          }<br>        },<br>        &quot;sendQuery&quot;: true,<br>        &quot;sendHeaders&quot;: true,<br>        &quot;queryParameters&quot;: {<br>          &quot;parameters&quot;: [<br>            {<br>              &quot;name&quot;: &quot;linkedin_url&quot;,<br>              &quot;value&quot;: &quot;=https://www.linkedin.com/{{ $json.linkedin.handle }}&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;sort_by&quot;,<br>              &quot;value&quot;: &quot;recent&quot;<br>            }<br>          ]<br>        },<br>        &quot;headerParameters&quot;: {<br>          &quot;parameters&quot;: [<br>            {<br>              &quot;name&quot;: &quot;X-RapidAPI-Key&quot;,<br>              &quot;value&quot;: &quot;={{ $(&#39;Setup&#39;).item.json.linkedInAPIKey }}&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;X-RapidAPI-Host&quot;,<br>              &quot;value&quot;: &quot;fresh-linkedin-profile-data.p.rapidapi.com&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 4.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;71a9223b-4d71-4d0d-a4df-f8836d3c3d1f&quot;,<br>      &quot;name&quot;: &quot;Enrich attendee company&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.clearbit&quot;,<br>      &quot;position&quot;: [<br>        640,<br>        980<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;domain&quot;: &quot;={{ $json.domain }}&quot;,<br>        &quot;additionalFields&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;0fad8349-2a4f-4cee-a03e-98e8d95b015c&quot;,<br>      &quot;name&quot;: &quot;Gmail&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.gmail&quot;,<br>      &quot;position&quot;: [<br>        1313.5590877677955,<br>        1309.619212163096<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;sendTo&quot;: &quot;={{ $(&#39;Setup&#39;).first().json.emails }}&quot;,<br>        &quot;message&quot;: &quot;={{ $json.html }}&quot;,<br>        &quot;options&quot;: {},<br>        &quot;subject&quot;: &quot;=Latest social activity for: {{ $(&#39;Extract data for email&#39;).item.json.name }} &quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;gmailOAuth2&quot;: {<br>          &quot;id&quot;: &quot;10&quot;,<br>          &quot;name&quot;: &quot;mrdosija@gmail.com&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;bf667011-717e-4a5a-ac7d-c377edb063f8&quot;,<br>      &quot;name&quot;: &quot;Format LinkedIn Posts&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.code&quot;,<br>      &quot;position&quot;: [<br>        453.5590877677955,<br>        1209.619212163096<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;mode&quot;: &quot;runOnceForEachItem&quot;,<br>        &quot;jsCode&quot;: &quot;// console.log(&#39;LINKEDIN&#39;, $(&#39;Enrich attendee company&#39;).item.json.name.toLowerCase())\nconst company = $(&#39;Enrich attendee company&#39;).item.json.name.toLowerCase();\n\nlet html = `\n&lt;div style=\&quot;display: flex; align-items: center; margin: 2em 0 1em\&quot;&gt;\n  &lt;img src=\&quot;https://store-images.s-microsoft.com/image/apps.31120.9007199266245564.44dc7699-748d-4c34-ba5e-d04eb48f7960.bc4172bd-63f0-455a-9acd-5457f44e4473\&quot; style=\&quot;width: 20px; height: 20px; margin-right: 10px\&quot; /&gt;\n  &lt;h3 style=\&quot;margin: 0\&quot;&gt;LinkedIn posts&lt;/h3&gt;\n&lt;/div&gt;\n&lt;table style=\&quot;width: 100%\&quot;&gt;\n`;\nfor(article of $input.item.json.data.slice(0,10)) {\n  html += `\n    &lt;tr&gt;\n      &lt;td style=\&quot;background-color: #f7f9fc; font-family: sans-serif; padding: 0.3em 1em\&quot;&gt;\n        &lt;div&gt;\n          &lt;a style=\&quot;display: block; color: #000; text-decoration: none; margin-bottom: 5px; font-size: 1.1em\&quot; href=\&quot;${article.url}\&quot;&gt;&lt;i&gt;${article.text}&lt;/i&gt;&lt;/a&gt;\n        &lt;/div&gt;\n        &lt;p style=\&quot;margin: 0; font-size: 0.8em\&quot;&gt;\n          &lt;span title=\&quot;Likes\&quot;&gt;‚ù§Ô∏è ${article.num_likes}&lt;/span&gt; | &lt;span title=\&quot;Comments\&quot;&gt;üí¨ ${article.num_comments}&lt;/span&gt;\n        &lt;/p&gt;\n      &lt;/td&gt;\n    &lt;/tr&gt;\n  `\n}\nhtml += &#39;&lt;/table&gt;&#39;;\n\nreturn { \n  \&quot;html_linkedin\&quot;: html,\n  name: $(&#39;Switch&#39;).item.json.name,\n  meeting: $(&#39;Split Out&#39;).item.json\n};&quot;<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;ee7ad92e-d4ed-4046-8d31-9c5ce4dda92b&quot;,<br>      &quot;name&quot;: &quot;Format Tweets&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.code&quot;,<br>      &quot;position&quot;: [<br>        453.5590877677955,<br>        1409.619212163096<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;mode&quot;: &quot;runOnceForEachItem&quot;,<br>        &quot;jsCode&quot;: &quot;const company = $(&#39;Enrich attendee company&#39;).item.json.name.toLowerCase();\nlet html = `\n&lt;div style=\&quot;display: flex; align-items: center; margin: 2em 0 1em\&quot;&gt;\n  &lt;img src=\&quot;https://img.freepik.com/free-vector/new-2023-twitter-logo-x-icon-design_1017-45418.jpg?size=338&amp;ext=jpg&amp;ga=GA1.1.2008272138.1708473600&amp;semt=ais\&quot; style=\&quot;width: 20px; height: 20px; margin-right: 10px\&quot; /&gt;\n  &lt;h3 style=\&quot;margin: 0\&quot;&gt;Tweets&lt;/h3&gt;\n&lt;/div&gt;\n&lt;table style=\&quot;width: 100%\&quot;&gt;`;\nfor(article of $input.item.json.results) {\n  html += `\n    &lt;tr&gt;\n      &lt;td style=\&quot;background-color: #f7f9fc; font-family: sans-serif; padding: 0.3em 1em\&quot;&gt;\n        &lt;div&gt;\n          &lt;a style=\&quot;display: block; color: #000; text-decoration: none; margin-bottom: 5px; font-size: 1.1em\&quot; href=\&quot;https://twitter.com/${article.user.username}/status/${article.tweet_id}\&quot;&gt;\n          &lt;i&gt;${article.text}&lt;/i&gt;&lt;/a&gt;\n        &lt;/div&gt;\n        &lt;p style=\&quot;margin: 0; font-size: 0.8em\&quot;&gt;\n          &lt;span title=\&quot;Retweets\&quot;&gt;üîÑ ${article.retweet_count}&lt;/span&gt; | &lt;span title=\&quot;Favorites\&quot;&gt;‚ù§Ô∏è ${article.favorite_count}&lt;/span&gt; | &lt;span title=\&quot;Replies\&quot;&gt;üí¨ ${article.reply_count}&lt;/span&gt;\n        &lt;/p&gt;\n      &lt;/td&gt;\n    &lt;/tr&gt;\n  `\n}\nhtml += &#39;&lt;/table&gt;&#39;;\n\nreturn { \n    \&quot;html_twitter\&quot;: html,\n    name: $(&#39;Switch&#39;).item.json.name,\n   meeting: $(&#39;Split Out&#39;).item.json\n};&quot;<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;0523a00c-e6d3-4158-a861-3bbdd1d6af24&quot;,<br>      &quot;name&quot;: &quot;Combine all activity for a company&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.merge&quot;,<br>      &quot;position&quot;: [<br>        693.5590877677955,<br>        1309.619212163096<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;mode&quot;: &quot;combine&quot;,<br>        &quot;options&quot;: {<br>          &quot;clashHandling&quot;: {<br>            &quot;values&quot;: {<br>              &quot;resolveClash&quot;: &quot;preferInput2&quot;<br>            }<br>          }<br>        },<br>        &quot;joinMode&quot;: &quot;keepEverything&quot;,<br>        &quot;mergeByFields&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;field1&quot;: &quot;name&quot;,<br>              &quot;field2&quot;: &quot;name&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;f7f8a5fd-e768-4011-bdbb-cf41a617ce00&quot;,<br>      &quot;name&quot;: &quot;Extract data for email&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        873.5590877677955,<br>        1309.619212163096<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;fields&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;name&quot;: &quot;attendeeEmail&quot;,<br>              &quot;stringValue&quot;: &quot;={{ $json.meeting.attendeeEmails.find(a =&gt; a.endsWith($json.meeting.domain)) }}&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;startHour&quot;,<br>              &quot;type&quot;: &quot;numberValue&quot;,<br>              &quot;numberValue&quot;: &quot;={{ DateTime.fromISO($json.meeting.start.dateTime).hour }}&quot;<br>            },<br>            {<br>              &quot;name&quot;: &quot;startMinute&quot;,<br>              &quot;type&quot;: &quot;numberValue&quot;,<br>              &quot;numberValue&quot;: &quot;={{ DateTime.fromISO($json.meeting.start.dateTime).minute }}&quot;<br>            }<br>          ]<br>        },<br>        &quot;include&quot;: &quot;selected&quot;,<br>        &quot;options&quot;: {},<br>        &quot;includeFields&quot;: &quot;name, html_twitter, html_linkedin&quot;<br>      },<br>      &quot;typeVersion&quot;: 3.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;679fb981-1774-4a3e-8aa4-0cef2f416ecb&quot;,<br>      &quot;name&quot;: &quot;Prepare email template&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.html&quot;,<br>      &quot;position&quot;: [<br>        1093.5590877677955,<br>        1309.619212163096<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;html&quot;: &quot;&lt;!DOCTYPE html&gt;\n\n&lt;html&gt;\n&lt;head&gt;\n  &lt;meta charset=\&quot;UTF-8\&quot; /&gt;\n  &lt;title&gt;Social media activity for company: {{ $json.name }}&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;div class=\&quot;container\&quot;&gt;\n     &lt;h2 style=\&quot;font-size: 1.2em\&quot;&gt;\n      üóìÔ∏è Meeting with \n       &lt;span&gt;{{ $json.attendeeEmail }}&lt;/span&gt; \n       at {{ $json.startHour }}:{{ $json.startMinute &lt; 10 ? `0${$json.startMinute}` : $json.startMinute }}h\n    &lt;/h2&gt;\n    {{ $json.html_linkedin ?? &#39;&#39;}}\n    {{ $json.html_twitter  ?? &#39;&#39;}}\n  &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n&lt;style&gt;\n.container {\n  font-family: sans-serif;\n}\n&lt;/style&gt;&quot;<br>      },<br>      &quot;typeVersion&quot;: 1.1<br>    },<br>    {<br>      &quot;id&quot;: &quot;8d08145c-9376-4933-8cb2-05babc855b7a&quot;,<br>      &quot;name&quot;: &quot;Switch&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.switch&quot;,<br>      &quot;position&quot;: [<br>        -6.440912232204482,<br>        1309.619212163096<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;rules&quot;: {<br>          &quot;values&quot;: [<br>            {<br>              &quot;outputKey&quot;: &quot;linkedin&quot;,<br>              &quot;conditions&quot;: {<br>                &quot;options&quot;: {<br>                  &quot;leftValue&quot;: &quot;&quot;,<br>                  &quot;caseSensitive&quot;: true,<br>                  &quot;typeValidation&quot;: &quot;strict&quot;<br>                },<br>                &quot;combinator&quot;: &quot;and&quot;,<br>                &quot;conditions&quot;: [<br>                  {<br>                    &quot;operator&quot;: {<br>                      &quot;type&quot;: &quot;boolean&quot;,<br>                      &quot;operation&quot;: &quot;true&quot;,<br>                      &quot;singleValue&quot;: true<br>                    },<br>                    &quot;leftValue&quot;: &quot;={{ $json.linkedin.handle !== null }}&quot;,<br>                    &quot;rightValue&quot;: &quot;&quot;<br>                  }<br>                ]<br>              },<br>              &quot;renameOutput&quot;: true<br>            },<br>            {<br>              &quot;outputKey&quot;: &quot;twitter&quot;,<br>              &quot;conditions&quot;: {<br>                &quot;options&quot;: {<br>                  &quot;leftValue&quot;: &quot;&quot;,<br>                  &quot;caseSensitive&quot;: true,<br>                  &quot;typeValidation&quot;: &quot;strict&quot;<br>                },<br>                &quot;combinator&quot;: &quot;and&quot;,<br>                &quot;conditions&quot;: [<br>                  {<br>                    &quot;id&quot;: &quot;bbb0310e-8b20-4bc6-a540-a4cd17470e28&quot;,<br>                    &quot;operator&quot;: {<br>                      &quot;type&quot;: &quot;boolean&quot;,<br>                      &quot;operation&quot;: &quot;true&quot;,<br>                      &quot;singleValue&quot;: true<br>                    },<br>                    &quot;leftValue&quot;: &quot;={{ $json.twitter.id !== null }}&quot;,<br>                    &quot;rightValue&quot;: &quot;&quot;<br>                  }<br>                ]<br>              },<br>              &quot;renameOutput&quot;: true<br>            }<br>          ]<br>        },<br>        &quot;options&quot;: {<br>          &quot;allMatchingOutputs&quot;: true,<br>          &quot;looseTypeValidation&quot;: false<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3<br>    },<br>    {<br>      &quot;id&quot;: &quot;e4332ab1-5618-477c-9c0b-a2a01278036f&quot;,<br>      &quot;name&quot;: &quot;Sticky Note&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -520,<br>        720<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 409.31582584657923,<br>        &quot;height&quot;: 426.61520915049425,<br>        &quot;content&quot;: &quot;## Start here\n1Ô∏è‚É£ Register on [RapidAPI](https://rapidapi.com) and subscribe to these two APIs:\n- [Fresh LinkedIn Profile Data](https://rapidapi.com/freshdata-freshdata-default/api/fresh-linkedin-profile-data)\n- [Twitter](https://rapidapi.com/omarmhaimdat/api/twitter154)\n\n\n2Ô∏è‚É£ Set API keys for these two in `linkedInAPIKey` and `twitterAPIKey`fields of this node\n\n3Ô∏è‚É£ Set email addresses that should receive the list in the `emails` field of this node&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;2b7a7085-8e19-40a2-9910-6ad829433706&quot;,<br>      &quot;name&quot;: &quot;Sticky Note1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -220.44091223220448,<br>        1289.619212163096<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 334.90628250854803,<br>        &quot;height&quot;: 308.7389742148118,<br>        &quot;content&quot;: &quot;\n\n\n\n\n\n\n\n\n\n\n\n\n\nüí° If you need to get activities from more social media accounts found by ClearBit, they can be added here, just make sure to process them properly in separate switch node branches&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;8f616351-c18d-460c-9d58-abe01c04e90b&quot;,<br>      &quot;name&quot;: &quot;Sticky Note2&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        840,<br>        560<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 5,<br>        &quot;width&quot;: 738.9631933644362,<br>        &quot;height&quot;: 717.2835666148258,<br>        &quot;content&quot;: &quot;### You will receive one email for every company in your calendar. These emails will look something like this:\n\n![hd](https://i.imgur.com/7T8XIX3.png#full-width)&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;dbd6c7df-d857-40e2-b1ba-cb1e68f9cb1a&quot;,<br>      &quot;name&quot;: &quot;Keep only ones with the domain&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.filter&quot;,<br>      &quot;position&quot;: [<br>        460,<br>        980<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;conditions&quot;: {<br>          &quot;options&quot;: {<br>            &quot;leftValue&quot;: &quot;&quot;,<br>            &quot;caseSensitive&quot;: true,<br>            &quot;typeValidation&quot;: &quot;strict&quot;<br>          },<br>          &quot;combinator&quot;: &quot;and&quot;,<br>          &quot;conditions&quot;: [<br>            {<br>              &quot;id&quot;: &quot;881d891e-ea17-4879-a5cf-72d08b281f56&quot;,<br>              &quot;operator&quot;: {<br>                &quot;type&quot;: &quot;string&quot;,<br>                &quot;operation&quot;: &quot;exists&quot;,<br>                &quot;singleValue&quot;: true<br>              },<br>              &quot;leftValue&quot;: &quot;={{ $json.domain }}&quot;,<br>              &quot;rightValue&quot;: &quot;&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2<br>    }<br>  ],<br>  &quot;pinData&quot;: {},<br>  &quot;connections&quot;: {<br>    &quot;Setup&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Get meetings for today&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Switch&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Get recent LinkedIn posts&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;Get recetn tweets&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Split Out&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Keep only ones with the domain&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Format Tweets&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Combine all activity for a company&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 1<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Every morning @ 7&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Setup&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Get recetn tweets&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Format Tweets&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Format LinkedIn Posts&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Combine all activity for a company&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Extract data for email&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Prepare email template&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Get meetings for today&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Get attendees email domains&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Prepare email template&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Gmail&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Enrich attendee company&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Switch&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Get recent LinkedIn posts&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Format LinkedIn Posts&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Get attendees email domains&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Split Out&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Keep only ones with the domain&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Enrich attendee company&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Combine all activity for a company&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Extract data for email&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    }<br>  }<br>}</div></td></tr><tr style="height: 59px"><th id="0R39" style="height: 59px;" class="row-headers-background"><div class="row-header-wrapper" style="line-height: 59px">40</div></th><td class="s7" dir="ltr">Recordatorios autom√°ticos para seguimientos con IA y humanos en Gmail</td><td class="s8 softmerge" dir="ltr"><div class="softmerge-inner" style="width:5451px;left:-3px">{<br>  &quot;meta&quot;: {<br>    &quot;instanceId&quot;: &quot;408f9fb9940c3cb18ffdef0e0150fe342d6e655c3a9fac21f0f644e8bedabcd9&quot;,<br>    &quot;templateCredsSetupCompleted&quot;: true<br>  },<br>  &quot;nodes&quot;: [<br>    {<br>      &quot;id&quot;: &quot;cbc2ee05-3bb9-4064-ac26-fed7241e673f&quot;,<br>      &quot;name&quot;: &quot;Schedule Trigger&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.scheduleTrigger&quot;,<br>      &quot;position&quot;: [<br>        -460,<br>        0<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;rule&quot;: {<br>          &quot;interval&quot;: [<br>            {<br>              &quot;triggerAtHour&quot;: 6<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;4a18dea4-9eda-4b8e-9d0c-fff9793802c5&quot;,<br>      &quot;name&quot;: &quot;Get Past Events&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleCalendar&quot;,<br>      &quot;position&quot;: [<br>        -280,<br>        0<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;timeMax&quot;: &quot;={{ $now.minus({ day: 2 }) }}&quot;,<br>        &quot;timeMin&quot;: &quot;={{ $now.minus({ day: 4 }) }}&quot;,<br>        &quot;calendar&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;id&quot;,<br>          &quot;value&quot;: &quot;&lt;your-calendar&gt;&quot;<br>        },<br>        &quot;operation&quot;: &quot;getAll&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googleCalendarOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;kWMxmDbMDDJoYFVK&quot;,<br>          &quot;name&quot;: &quot;Google Calendar account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.3<br>    },<br>    {<br>      &quot;id&quot;: &quot;df2ef6d0-5fcb-43c5-8ba9-2d094dffb4e1&quot;,<br>      &quot;name&quot;: &quot;Loop Over Items&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.splitInBatches&quot;,<br>      &quot;position&quot;: [<br>        200,<br>        40<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {}<br>      },<br>      &quot;typeVersion&quot;: 3<br>    },<br>    {<br>      &quot;id&quot;: &quot;bedc77ad-f0c9-47ae-9609-48ceda47a224&quot;,<br>      &quot;name&quot;: &quot;Flag to Follow Up&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        580,<br>        200<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;mode&quot;: &quot;raw&quot;,<br>        &quot;options&quot;: {},<br>        &quot;jsonOutput&quot;: &quot;={{\n{\n  ...$(&#39;Loop Over Items&#39;).first().json,\n  followUp: $json.isEmpty()\n}\n}}&quot;,<br>        &quot;includeOtherFields&quot;: true<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;b332ca5d-45d5-4a79-a028-baa1728aea78&quot;,<br>      &quot;name&quot;: &quot;Only Follow Ups&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.filter&quot;,<br>      &quot;position&quot;: [<br>        400,<br>        40<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;conditions&quot;: {<br>          &quot;options&quot;: {<br>            &quot;version&quot;: 2,<br>            &quot;leftValue&quot;: &quot;&quot;,<br>            &quot;caseSensitive&quot;: true,<br>            &quot;typeValidation&quot;: &quot;strict&quot;<br>          },<br>          &quot;combinator&quot;: &quot;and&quot;,<br>          &quot;conditions&quot;: [<br>            {<br>              &quot;id&quot;: &quot;73f38d1b-75c6-4372-8e81-a2db61b045a8&quot;,<br>              &quot;operator&quot;: {<br>                &quot;name&quot;: &quot;filter.operator.equals&quot;,<br>                &quot;type&quot;: &quot;string&quot;,<br>                &quot;operation&quot;: &quot;equals&quot;<br>              },<br>              &quot;leftValue&quot;: &quot;&quot;,<br>              &quot;rightValue&quot;: &quot;&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;1b8a6510-f1c5-4969-a68d-143874b5737d&quot;,<br>      &quot;name&quot;: &quot;Get Emails Since&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.gmail&quot;,<br>      &quot;position&quot;: [<br>        400,<br>        200<br>      ],<br>      &quot;webhookId&quot;: &quot;08fbccff-cce6-461a-b040-f5a74920c803&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;limit&quot;: 1,<br>        &quot;filters&quot;: {<br>          &quot;q&quot;: &quot;=(from:{{ $json.attendees.find(attendee =&gt; !attendee.self)?.email }} OR to:{{ $json.attendees.find(attendee =&gt; !attendee.self)?.email }})&quot;,<br>          &quot;receivedAfter&quot;: &quot;={{ $json.end.dateTime }}&quot;<br>        },<br>        &quot;resource&quot;: &quot;thread&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;gmailOAuth2&quot;: {<br>          &quot;id&quot;: &quot;Sf5Gfl9NiFTNXFWb&quot;,<br>          &quot;name&quot;: &quot;Gmail account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.1,<br>      &quot;alwaysOutputData&quot;: true<br>    },<br>    {<br>      &quot;id&quot;: &quot;4ce7ac3f-bad8-4822-b166-fd164d733734&quot;,<br>      &quot;name&quot;: &quot;Output&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.outputParserStructured&quot;,<br>      &quot;position&quot;: [<br>        1140,<br>        220<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;schemaType&quot;: &quot;manual&quot;,<br>        &quot;inputSchema&quot;: &quot;{\n  \&quot;type\&quot;: \&quot;object\&quot;,\n  \&quot;properties\&quot;: {\n    \&quot;slots\&quot;: {\n      \&quot;type\&quot;: \&quot;array\&quot;,\n      \&quot;items\&quot;: {\n        \&quot;type\&quot;: \&quot;object\&quot;,\n        \&quot;properties\&quot;: {\n          \&quot;start\&quot;: { \&quot;type\&quot;: \&quot;string\&quot; },\n          \&quot;end\&quot;: { \&quot;type\&quot;: \&quot;string\&quot; }\n        }\n      }\n    }\n  }\n}&quot;<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;a22c5b78-d213-4e37-b2c6-f3d1dac96858&quot;,<br>      &quot;name&quot;: &quot;Availability&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleCalendarTool&quot;,<br>      &quot;position&quot;: [<br>        1020,<br>        220<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {<br>          &quot;timezone&quot;: {<br>            &quot;__rl&quot;: true,<br>            &quot;mode&quot;: &quot;id&quot;,<br>            &quot;value&quot;: &quot;={{ /*n8n-auto-generated-fromAI-override*/ $fromAI(&#39;Timezone&#39;, ``, &#39;string&#39;) }}&quot;,<br>            &quot;__regex&quot;: &quot;([-+/_a-zA-Z0-9]*)&quot;<br>          }<br>        },<br>        &quot;timeMax&quot;: &quot;={{ /*n8n-auto-generated-fromAI-override*/ $fromAI(&#39;End_Time&#39;, ``, &#39;string&#39;) }}&quot;,<br>        &quot;timeMin&quot;: &quot;={{ /*n8n-auto-generated-fromAI-override*/ $fromAI(&#39;Start_Time&#39;, ``, &#39;string&#39;) }}&quot;,<br>        &quot;calendar&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;id&quot;,<br>          &quot;value&quot;: &quot;&lt;your-calendar&gt;&quot;<br>        },<br>        &quot;resource&quot;: &quot;calendar&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googleCalendarOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;kWMxmDbMDDJoYFVK&quot;,<br>          &quot;name&quot;: &quot;Google Calendar account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.3<br>    },<br>    {<br>      &quot;id&quot;: &quot;690c79d3-cf0e-4d15-9419-dafb7d86025b&quot;,<br>      &quot;name&quot;: &quot;Model&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.lmChatOpenAi&quot;,<br>      &quot;position&quot;: [<br>        900,<br>        220<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;model&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;gpt-4o-mini&quot;<br>        },<br>        &quot;options&quot;: {}<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;openAiApi&quot;: {<br>          &quot;id&quot;: &quot;8gccIjcuf3gvaoEr&quot;,<br>          &quot;name&quot;: &quot;OpenAi account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;4e9d23c0-f9a0-4e71-b1b8-1011313942ba&quot;,<br>      &quot;name&quot;: &quot;Meeting Availability Agent&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.agent&quot;,<br>      &quot;position&quot;: [<br>        920,<br>        40<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;text&quot;: &quot;=### Details of the previous call as following\ntitle: {{ $json.summary }}\ndate: {{ $json.start.dateTime }} {{ $json.start.timeZone }}\nduration: {{ DateTime.fromISO($json.end.dateTime).diffTo(DateTime.fromISO($json.start.dateTime), &#39;minutes&#39;) }} minutes&quot;,<br>        &quot;options&quot;: {<br>          &quot;systemMessage&quot;: &quot;=You are a calendar availability assistant. Analyse the previous meeting and help me find a similar available slot for the next meeting.\n* take into consideration the day, time of day and duration of the previous meeting and try to set the same or similar for the next\n* next meeting should be in the future.\n* return a list of available slots so that I can forward them to the user.\n\nToday&#39;s date is {{ $now }}.&quot;<br>        },<br>        &quot;promptType&quot;: &quot;define&quot;,<br>        &quot;hasOutputParser&quot;: true<br>      },<br>      &quot;typeVersion&quot;: 1.7<br>    },<br>    {<br>      &quot;id&quot;: &quot;851728bf-7f94-4434-9dc6-23569544cdb7&quot;,<br>      &quot;name&quot;: &quot;Generate Message&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.set&quot;,<br>      &quot;position&quot;: [<br>        1260,<br>        40<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;assignments&quot;: {<br>          &quot;assignments&quot;: [<br>            {<br>              &quot;id&quot;: &quot;cf09c95c-f25e-4fd7-bade-a0feaeaffb3b&quot;,<br>              &quot;name&quot;: &quot;message&quot;,<br>              &quot;type&quot;: &quot;string&quot;,<br>              &quot;value&quot;: &quot;=Hey, just noticed there wasn&#39;t a follow-up email to {{ $(&#39;Only Follow Ups&#39;).item.json.attendees.find(x =&gt; !x.self).email }} after your last call a few days ago.\n\nHere&#39;s are a few available slots to book the next call.\n{{\n$json.output.slots\n  .filter(slot =&gt; !DateTime.fromISO(slot.start).isWeekend())\n  .map(slot =&gt; `* ${DateTime.fromISO(slot.start).format(&#39;cccc, DDD @ hh:mm&#39;)} - ${DateTime.fromISO(slot.end).format(&#39;hh:mm&#39;)}`)\n.join(&#39;\\n&#39;)\n}}\n\nLet me know which I should book or let me know if it&#39;s okay to dismiss.&quot;<br>            }<br>          ]<br>        }<br>      },<br>      &quot;typeVersion&quot;: 3.4<br>    },<br>    {<br>      &quot;id&quot;: &quot;7e45eddc-8c34-402a-86a2-ed89ff463095&quot;,<br>      &quot;name&quot;: &quot;Meetings&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.googleCalendarTool&quot;,<br>      &quot;position&quot;: [<br>        2360,<br>        240<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;end&quot;: &quot;={{ /*n8n-auto-generated-fromAI-override*/ $fromAI(&#39;End&#39;, ``, &#39;string&#39;) }}&quot;,<br>        &quot;start&quot;: &quot;={{ /*n8n-auto-generated-fromAI-override*/ $fromAI(&#39;Start&#39;, ``, &#39;string&#39;) }}&quot;,<br>        &quot;calendar&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;id&quot;,<br>          &quot;value&quot;: &quot;&lt;your-calendar&gt;&quot;<br>        },<br>        &quot;additionalFields&quot;: {<br>          &quot;summary&quot;: &quot;={{ /*n8n-auto-generated-fromAI-override*/ $fromAI(&#39;Summary&#39;, ``, &#39;string&#39;) }}&quot;,<br>          &quot;description&quot;: &quot;={{ /*n8n-auto-generated-fromAI-override*/ $fromAI(&#39;Description&#39;, ``, &#39;string&#39;) }}&quot;<br>        }<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;googleCalendarOAuth2Api&quot;: {<br>          &quot;id&quot;: &quot;kWMxmDbMDDJoYFVK&quot;,<br>          &quot;name&quot;: &quot;Google Calendar account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.3<br>    },<br>    {<br>      &quot;id&quot;: &quot;74618cf0-1fe5-4abb-ba38-6818162ce826&quot;,<br>      &quot;name&quot;: &quot;Model1&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.lmChatOpenAi&quot;,<br>      &quot;position&quot;: [<br>        2180,<br>        240<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;model&quot;: {<br>          &quot;__rl&quot;: true,<br>          &quot;mode&quot;: &quot;list&quot;,<br>          &quot;value&quot;: &quot;gpt-4o-mini&quot;<br>        },<br>        &quot;options&quot;: {}<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;openAiApi&quot;: {<br>          &quot;id&quot;: &quot;8gccIjcuf3gvaoEr&quot;,<br>          &quot;name&quot;: &quot;OpenAi account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 1.2<br>    },<br>    {<br>      &quot;id&quot;: &quot;790cc7ee-fe1b-434f-8736-38952bffbb85&quot;,<br>      &quot;name&quot;: &quot;Meeting Booking Agent&quot;,<br>      &quot;type&quot;: &quot;@n8n/n8n-nodes-langchain.agent&quot;,<br>      &quot;position&quot;: [<br>        2180,<br>        60<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;text&quot;: &quot;={{ $json.data.text }}&quot;,<br>        &quot;options&quot;: {<br>          &quot;systemMessage&quot;: &quot;=You are a meeting booking agent. Your task is to book the meeting requested if confirmed by the user or otherwise do nothing if the user wants to disregard. No need to ask for further approval.\n\nAI: {{ $(&#39;Generate Message&#39;).first().json.message }}&quot;<br>        },<br>        &quot;promptType&quot;: &quot;define&quot;<br>      },<br>      &quot;typeVersion&quot;: 1.7<br>    },<br>    {<br>      &quot;id&quot;: &quot;7ed171b2-08ee-49b0-9f9b-b4943549b2f6&quot;,<br>      &quot;name&quot;: &quot;Mark as Seen&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.removeDuplicates&quot;,<br>      &quot;position&quot;: [<br>        -100,<br>        0<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;options&quot;: {},<br>        &quot;operation&quot;: &quot;removeItemsSeenInPreviousExecutions&quot;,<br>        &quot;dedupeValue&quot;: &quot;={{ $json.id }}&quot;<br>      },<br>      &quot;typeVersion&quot;: 2<br>    },<br>    {<br>      &quot;id&quot;: &quot;c8198538-4e02-429d-9fef-4cc2cb0bb7d0&quot;,<br>      &quot;name&quot;: &quot;Sticky Note&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -540,<br>        -200<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 620,<br>        &quot;height&quot;: 420,<br>        &quot;content&quot;: &quot;## 1. Get Recent Meetings\n[Learn more about the GCalendar node](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.googlecalendar)\n\nFor this template, a scheduled trigger is set to fire every morning to pull in past meetings from 2-3 days ago. A \&quot;Remove Duplicates\&quot; node ensures we don&#39;t double process events more than once between runs.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;ef4888e2-249f-4501-a731-4dc8886dfa1a&quot;,<br>      &quot;name&quot;: &quot;Sticky Note1&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        100,<br>        -160<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 680,<br>        &quot;height&quot;: 600,<br>        &quot;content&quot;: &quot;## 2. Check If Any Messages Since\n[Read more about the Gmail node](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.gmail)\n\nNext, we want to check if there has been any messages/contact between the lead and the user since the meeting ended. Where there is not, it could be a good opportunity to remind the user to reengage the lead as to not lose them.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;d9ccc4d5-2ccb-4f85-ada1-6a6fc5374ff2&quot;,<br>      &quot;name&quot;: &quot;Sticky Note2&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        800,<br>        -160<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 620,<br>        &quot;height&quot;: 580,<br>        &quot;content&quot;: &quot;## 3. Suggest Availability For Next Call\n[Read more about AI Agents](https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.agent/)\n\nOnce filtered for applicable leads, we can use an AI Agent to suggest another meeting slot for them. An AI Agent can analyse the previous meeting details and use that information to suggest a similar date and time.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;851b15f6-ea6a-4d30-a45b-f9ed087a37fa&quot;,<br>      &quot;name&quot;: &quot;Sticky Note3&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        1440,<br>        -200<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 540,<br>        &quot;height&quot;: 520,<br>        &quot;content&quot;: &quot;## 4. Get Human Approval\n[Learn more about n8n&#39;s Human-in-the-loop features](https://docs.n8n.io/advanced-ai/examples/human-fallback/)\n\nOf course, we don&#39;t want the AI to actually book the meeting unless the user confirms it is something he/she wants to do and the best way to confirm is just to ask the user directly! Thanks for n8n&#39;s Human-in-the-loop feature, we can achieve this with a number of messaging protocols.\n\nHere, we&#39;re using the Gmail node&#39;s **Send-and-wait-for-approval** mode. This will send an email to the user and give them a textbox to tell our agent what they want to do next.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;725b187f-d59b-4a7d-bf11-6265a4c995ed&quot;,<br>      &quot;name&quot;: &quot;Sticky Note4&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        2000,<br>        -160<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;color&quot;: 7,<br>        &quot;width&quot;: 640,<br>        &quot;height&quot;: 560,<br>        &quot;content&quot;: &quot;## 5. Book the meeting If Accepted\n[Learn more about the AI Agent node](https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.agent/)\n\nFinally, the response from the user combined with the suggested availability slots are given to another AI agent which can book meetings. If the user accepted and confirmed a date, this agent will book the meeting on behalf of the user. If the user declined, then the agent takes no action.&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;ae59a45a-01e9-42be-99da-f75ed90f881b&quot;,<br>      &quot;name&quot;: &quot;Sticky Note5&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.stickyNote&quot;,<br>      &quot;position&quot;: [<br>        -1000,<br>        -700<br>      ],<br>      &quot;parameters&quot;: {<br>        &quot;width&quot;: 420,<br>        &quot;height&quot;: 980,<br>        &quot;content&quot;: &quot;## Try it out!\n### This n8n template extends the idea of sales leads follow-up reminders by having an AI agent suggest and book the next call or message to reengage the prospect.\n\nWhat makes this template practical for use is that it uses the Human-in-the-loop approach to wait for a user&#39;s approval before actually making the booking. Without, this could be annoying for both the user and the recipient!\n\n### How it works\n* A scheduled trigger checks your google calendar for sales meetings which happened a few days ago.\n* For each event, gmail search is used to figure out if a follow-up message has been sent or received from the other party since the meeting. If none, we want to remind ourselves to reengage the lead.\n* For leads applicable for follow-up, we first get an AI Agent to find available meeting slots in the calendar.\n* These slots and reminder are sent to the user via send-and-approval mode of the gmail node. The user replies in natural language either picking a slot, suggesting an entirely new slot or declines the request.\n* When accepted, another AI Agent books the meeting in the calendar with the proposed dates and lead.\n\n### How to use\n* Update all calendar nodes (+subnodes) to point to the right calendar. If this is a shared-purpose calendar, you may need to either filter or create a new calendar.\n* Update the gmail nodes to point to the right accounts.\n\n### Customising the template\n* Not using Google? Swap out for Microsoft or otherwise.\n* Try swapping out or adding in additional send-for-approval methods such as telegram or whatsapp.\n\n### Need Help?\nJoin the [Discord](https://discord.com/invite/XPKeKXeB7d) or ask in the [Forum](https://community.n8n.io/)!&quot;<br>      },<br>      &quot;typeVersion&quot;: 1<br>    },<br>    {<br>      &quot;id&quot;: &quot;46ef7220-49ea-4dfc-8e4c-ce7da5119daf&quot;,<br>      &quot;name&quot;: &quot;Send for Human Approval&quot;,<br>      &quot;type&quot;: &quot;n8n-nodes-base.gmail&quot;,<br>      &quot;position&quot;: [<br>        1660,<br>        80<br>      ],<br>      &quot;webhookId&quot;: &quot;76b88312-1c54-482e-abdd-e699159577f0&quot;,<br>      &quot;parameters&quot;: {<br>        &quot;sendTo&quot;: &quot;=&lt;your-email-here&gt;&quot;,<br>        &quot;message&quot;: &quot;={{ $json.message }}&quot;,<br>        &quot;options&quot;: {},<br>        &quot;subject&quot;: &quot;=Book a follow-up meeting with {{ $(&#39;Only Follow Ups&#39;).item.json.attendees.find(x =&gt; !x.self).email }}?&quot;,<br>        &quot;operation&quot;: &quot;sendAndWait&quot;,<br>        &quot;responseType&quot;: &quot;freeText&quot;<br>      },<br>      &quot;credentials&quot;: {<br>        &quot;gmailOAuth2&quot;: {<br>          &quot;id&quot;: &quot;Sf5Gfl9NiFTNXFWb&quot;,<br>          &quot;name&quot;: &quot;Gmail account&quot;<br>        }<br>      },<br>      &quot;typeVersion&quot;: 2.1<br>    }<br>  ],<br>  &quot;pinData&quot;: {},<br>  &quot;connections&quot;: {<br>    &quot;Model&quot;: {<br>      &quot;ai_languageModel&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Meeting Availability Agent&quot;,<br>            &quot;type&quot;: &quot;ai_languageModel&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Model1&quot;: {<br>      &quot;ai_languageModel&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Meeting Booking Agent&quot;,<br>            &quot;type&quot;: &quot;ai_languageModel&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Output&quot;: {<br>      &quot;ai_outputParser&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Meeting Availability Agent&quot;,<br>            &quot;type&quot;: &quot;ai_outputParser&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Meetings&quot;: {<br>      &quot;ai_tool&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Meeting Booking Agent&quot;,<br>            &quot;type&quot;: &quot;ai_tool&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Availability&quot;: {<br>      &quot;ai_tool&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Meeting Availability Agent&quot;,<br>            &quot;type&quot;: &quot;ai_tool&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Mark as Seen&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Loop Over Items&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Get Past Events&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Mark as Seen&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Loop Over Items&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Only Follow Ups&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ],<br>        [<br>          {<br>            &quot;node&quot;: &quot;Get Emails Since&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Only Follow Ups&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Meeting Availability Agent&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Generate Message&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Send for Human Approval&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Get Emails Since&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Flag to Follow Up&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Schedule Trigger&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Get Past Events&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Flag to Follow Up&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Loop Over Items&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Send for Human Approval&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Meeting Booking Agent&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    },<br>    &quot;Meeting Availability Agent&quot;: {<br>      &quot;main&quot;: [<br>        [<br>          {<br>            &quot;node&quot;: &quot;Generate Message&quot;,<br>            &quot;type&quot;: &quot;main&quot;,<br>            &quot;index&quot;: 0<br>          }<br>        ]<br>      ]<br>    }<br>  }<br>}</div></td></tr></tbody></table></div>